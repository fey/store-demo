(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{161:function(e,n,t){e.exports=t(224)},166:function(e,n,t){},216:function(e,n,t){},218:function(e,n,t){},220:function(e,n,t){},224:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(11),i=t.n(o),c=(t(166),t(5)),u=t(275),l=t(223),s=t(270),m=t(4),d=t(269),f=t(27),p=t(35),h=t(25),b=t(256);function g(){var e=Object(c.a)(["\n  z-index: 9;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n"]);return g=function(){return e},e}var v=function(){return a.a.createElement(x,null,a.a.createElement(b.a,{color:"secondary"}))},x=m.b.div(g()),y=t(78),j=t(29),E=t(30),C=t(45),w=t(41),O=t(46),k=function(){var e;return window.location.search&&(e=function(e){e=e.split("+").join(" ");for(var n,t={},r=/[?&]?([^=]+)=([^&]*)/g;n=r.exec(e);)t[decodeURIComponent(n[1])]=decodeURIComponent(n[2]);return t}(window.location.search).token),e?(!function(e,n){var t=new Date;t.setTime(t.getTime()+864e5);var r="expires="+t.toUTCString();document.cookie=e+"="+n+";"+r+";path=/"}("xsolla_login_token",e),window.history.pushState("","",document.location.pathname)):e=function(e){for(var n=e+"=",t=decodeURIComponent(document.cookie).split(";"),r=0;r<t.length;r++){for(var a=t[r];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return""}("xsolla_login_token"),e&&"undefined"!==e?e:null};function I(){return 44056===window.xProjectId?"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE5NjIyMzQwNDgsImlzcyI6Imh0dHBzOi8vbG9naW4ueHNvbGxhLmNvbSIsImlhdCI6MTU2MjE0NzY0OCwidXNlcm5hbWUiOiJ4c29sbGEiLCJ4c29sbGFfbG9naW5fYWNjZXNzX2tleSI6IjA2SWF2ZHpDeEVHbm5aMTlpLUc5TmMxVWFfTWFZOXhTR3ZEVEY4OFE3RnMiLCJzdWIiOiJkMzQyZGFkMi05ZDU5LTExZTktYTM4NC00MjAxMGFhODAwM2YiLCJlbWFpbCI6InN1cHBvcnRAeHNvbGxhLmNvbSIsInR5cGUiOiJ4c29sbGFfbG9naW4iLCJ4c29sbGFfbG9naW5fcHJvamVjdF9pZCI6ImU2ZGZhYWM2LTc4YTgtMTFlOS05MjQ0LTQyMDEwYWE4MDAwNCIsInB1Ymxpc2hlcl9pZCI6MTU5MjR9.GCrW42OguZbLZTaoixCZgAeNLGH2xCeJHxl8u8Xn2aI":k()}function S(e){return document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;"}var T,_=t(9),M=t.n(_),F=t(16),B=t(14),V=t.n(B),z=V.a.CancelToken;function P(e,n,t,r){var a=e.sku,o=void 0===a?"sku":a;T&&T();var i={url:"https://store.xsolla.com/api/v2/project/"+window.xProjectId+"/cart/"+t+"/item/"+o,method:"PUT",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+r},data:JSON.stringify({quantity:n})};return V()(i)}var A=function(){var e=Object(F.a)(M.a.mark(function e(n,t,r){var a,o,i;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://store.xsolla.com/api/v2/project/".concat(n,"/payment/item/").concat(t.sku,"/virtual/").concat(t.virtual_prices[0].sku),o={headers:{Authorization:"Bearer ".concat(r)}},e.next=4,V.a.post(a,{},o);case 4:return i=e.sent,e.abrupt("return",i.data);case 6:case"end":return e.stop()}},e,this)}));return function(n,t,r){return e.apply(this,arguments)}}();var L=a.a.createContext(),N=function(e){function n(){var e,t;Object(j.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(C.a)(this,(e=Object(w.a)(n)).call.apply(e,[this].concat(a)))).state={projectId:t.props.projectId,logToken:I(),userBalanceVirtualCurrency:[],isSideMenuShown:!1,virtualItems:[],areVirtualItemsFetching:!1,virtualCurrencies:[],areVirtualCurrenciesFetching:!1,physicalItems:[],arePhysicalItemsFetching:!1,inventoryItems:[],areInventoryItemsFetching:!1,isItemConsuming:!1,entitlementItems:[],isVCCartShown:!1,isVCCartProcessing:!1,vcCart:{items:[],vcPriceSku:null},isCartShown:!1,isCartProcessing:!1,cart:{cartId:null,items:[],price:{amount:0,amount_without_discount:0,currency:""}}},t.setStateFrom=function(e,n){return t.setState(Object(y.a)({},e,n))},t.showCart=function(){return t.setState({isCartShown:!0})},t.hideCart=function(){return t.setState({isCartShown:!1})},t.showVCCart=function(){return t.setState({isVCCartShown:!0})},t.hideVCCart=function(){return t.setState({isVCCartShown:!1})},t.setSideMenuVisibility=function(e){return t.setState({isSideMenuShown:e})},t.setEntitlementItems=function(e){return t.setState({entitlementItems:e})},t.setInventoryItems=function(e){return t.setState({inventoryItems:e})},t.setPhysicalItems=function(e){return t.setState({physicalItems:e})},t.setVirtualCurrencies=function(e){return t.setState({virtualCurrencies:e})},t.setVirtualItems=function(e){return t.setState({virtualItems:e})},t.getCart=function(){var e=t.state,n=e.cart,r=e.logToken,a=function(e,n){T&&T();var t={url:"https://store.xsolla.com/api/v2/project/"+window.xProjectId+"/cart/"+e,method:"GET",headers:{Authorization:"Bearer "+n},cancelToken:new z(function(e){T=e})};return V()(t).then(function(e){return e}).catch(function(e){return console.error(e)})}(n.cartId,r);a.then(function(e){!a.isCancel&&e&&t.setState({cart:{cartId:e.data.cart_id,items:e.data.items.sort(t.compareItems),price:e.data.price||0},isCartProcessing:!1})})},t.createCart=function(){(function(e){var n={url:"https://store.xsolla.com/api/v1/project/"+window.xProjectId+"/cart",method:"POST",headers:{Authorization:"Bearer "+e}};return V()(n)})(t.state.logToken).then(function(e){t.setState({cart:{cartId:e.data.id,items:[],price:{amount:0,amount_without_discount:0,currency:""}}})})},t.clearCart=function(){t.showCart(),t.createCart(),t.updateVirtualCurrencyBalance()},t.payStationHandler=function(){return t.clearCart()},t.compareItems=function(e,n){return e.sku>n.sku?1:e.sku<n.sku?-1:0},t.buyByVC=function(e){t.setState({isVCCartShown:!0,vcCart:{items:[e]}})},t.clearVCCart=function(){t.setState({isVCCartShown:!1,vcCart:{items:[]}})},t.addToCart=function(e){var n=t.props.enqueueSnackbar,r=t.state,a=r.cart,o=r.logToken;a.items.some(function(n){return n.sku===e.sku})?(t.getCart(),t.setState({isCartShown:!0})):(t.setState({isCartProcessing:!0}),P(e,1,a.cartId,o).then(function(){t.setState({cart:Object(f.a)({},a,{items:[Object(f.a)({},e,{quantity:1})].concat(Object(p.a)(a.items)).sort(t.compareItems),price:Object(f.a)({},a.price,{amount:a.price.amount+e.price.amount,amount_without_discount:a.price.amount_without_discount+e.price.amount_without_discount})}),isCartProcessing:!1}),t.showCart()}).catch(function(e){t.setState({isCartProcessing:!1});var r=e.response?e.response.data.errorMessage:e.message;n(r,{variant:"error"})}))},t.removeFromCart=function(e){var n=t.state.cart;t.setState({cart:Object(f.a)({},n,{items:n.items.filter(function(n){return n.sku!==e.sku}).sort(t.compareItems),price:Object(f.a)({},n.price,{amount:n.price.amount-e.price.amount*e.quantity,amount_without_discount:n.price.amount_without_discount-e.price.amount_without_discount*e.quantity})})})},t.changeItemQuantityInCart=function(e,n){var r=t.props.enqueueSnackbar,a=t.state,o=a.cart,i=a.logToken;if(n<=0)t.removeFromCart(e),function(e,n,t){var r=e.sku,a=void 0===r?"sku":r;T&&T();var o={url:"https://store.xsolla.com/api/v2/project/"+window.xProjectId+"/cart/"+n+"/item/"+a,method:"DELETE",headers:{Authorization:"Bearer "+t}};return V()(o)}(e,o.cartId,i).then(t.getCart);else{var c=o.items.findIndex(function(n){return n.sku===e.sku}),u=o.items;u.splice(c,1,Object(f.a)({},e,{quantity:n})),t.setState({cart:Object(f.a)({},o,{items:u.sort(t.compareItems)})}),P(e,n,o.cartId,i).then(t.getCart).catch(function(e){return r(e.response.data.errorMessage,{variant:"error"})})}},t.updateVirtualCurrencyBalance=function(){(function(e){var n={url:"https://store.xsolla.com/api/v2/project/"+window.xProjectId+"/user/virtual_currency_balance",method:"GET",headers:{Authorization:"Bearer "+e}};return V()(n)})(t.state.logToken).then(function(e){t.setState({userBalanceVirtualCurrency:e.data.items})})},t}return Object(O.a)(n,e),Object(E.a)(n,[{key:"render",value:function(){return a.a.createElement(L.Provider,{value:Object(f.a)({},this.state,{setStateFrom:this.setStateFrom,payStationHandler:this.payStationHandler,setInventoryItems:this.setInventoryItems,setVirtualCurrencies:this.setVirtualCurrencies,setPhysicalItems:this.setPhysicalItems,setVirtualItems:this.setVirtualItems,setEntitlementItems:this.setEntitlementItems,addToCart:this.addToCart,showVCCart:this.showVCCart,hideVCCart:this.hideVCCart,buyByVC:this.buyByVC,clearVCCart:this.clearVCCart,createCart:this.createCart,showCart:this.showCart,changeItemQuantityInCart:this.changeItemQuantityInCart,updateVirtualCurrencyBalance:this.updateVirtualCurrencyBalance,hideCart:this.hideCart,setSideMenuVisibility:this.setSideMenuVisibility})},this.props.children)}}]),n}(a.a.PureComponent),W=L.Consumer,D=Object(h.withSnackbar)(N),G=t(19),q=t(49),U=t.n(q),R=t(136),H=t.n(R),J=t(113),X=t(259),Q=t(257);function Z(){var e=Object(c.a)(["\n  flex-grow: 1;\n  color: ",";\n  font-weight: 600;\n"]);return Z=function(){return e},e}function Y(){var e=Object(c.a)(["\n  display: block;\n  margin-top: 8px;\n  height: 120px;\n  flex-shrink: 1;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(",");\n"]);return Y=function(){return e},e}function $(){var e=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  border-top: 1px solid ",";\n  padding: 8px 0;\n  margin: 0px 16px 0 16px;\n"]);return $=function(){return e},e}function K(){var e=Object(c.a)(["\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  font-weight: bolder;\n"]);return K=function(){return e},e}function ee(){var e=Object(c.a)(["\n  min-height: 66px;\n  overflow: hidden;\n  flex-grow: 0;\n  padding-bottom: 0;\n  margin-bottom: 8px;\n"]);return ee=function(){return e},e}function ne(){var e=Object(c.a)(["\n  position: absolute;\n  color: ",";\n  display: flex;\n  flex-direction: column;\n  width: ",";\n  min-height: ",";\n  background-color: ",";\n  box-shadow: ",";\n  transition: box-shadow, background-color ",";\n  border-radius: ",";\n"]);return ne=function(){return e},e}function te(){var e=Object(c.a)(["\n  position: relative;\n  z-index: ",";\n  width: ",";\n  height: ",";\n  transition: transform 350ms ease-out, opacity 150ms ease-out;\n  opacity: ",";\n  transform: ",";;\n"]);return te=function(){return e},e}var re=a.a.memo(function(e){var n=e.image,t=e.order,r=e.name,o=e.value,i=e.description,c=e.actionButtonContent,u=e.onAction,l=e.isLoading,s=a.a.useState(!1),m=Object(G.a)(s,2),d=m[0],f=m[1],p=function(){return f(!0)},h=a.a.useState(!1),g=Object(G.a)(h,2),v=g[0],x=g[1],y=a.a.useState(!1),j=Object(G.a)(y,2),E=j[0],C=j[1];return a.a.useEffect(function(){l||x(!1)},[l]),a.a.useEffect(function(){setTimeout(p,100*t)},[]),a.a.createElement(ae,{shown:d,hovered:E},a.a.createElement(oe,{hovered:E,onMouseEnter:function(){return C(!0)},onMouseLeave:function(){return C(!1)}},a.a.createElement(le,{image:n}),a.a.createElement(ie,null,a.a.createElement(ce,null,r),a.a.createElement(J.a,{in:E,timeout:"auto",collapsedHeight:"50px"},E?i:a.a.createElement(H.a,{animate:!0,clamp:2},i))),a.a.createElement(ue,null,a.a.createElement(se,null,o),u&&a.a.createElement(Q.a,{variant:"contained",disabled:l&&v,onClick:function(){x(!0),u()}},l&&v?a.a.createElement(b.a,{size:24,color:"secondary"}):c))))}),ae=m.b.div(te(),function(e){return e.hovered?1:0},function(e){return e.theme.cardWidth},function(e){return e.theme.cardWidth},function(e){return e.shown?1:0},function(e){return e.shown?"none":"translateY(20px)"}),oe=m.b.div(ne(),function(e){return e.theme.colorText},function(e){return e.theme.cardWidth},function(e){return e.theme.cardWidth},function(e){return e.hovered?e.theme.colorBg:"transparent"},function(e){return e.hovered?e.theme.boxShadow:"none"},function(e){return e.theme.transitionStyle},function(e){return"".concat(e.theme.borderRadius,"px")}),ie=Object(m.b)(X.a)(ee()),ce=m.b.div(K()),ue=m.b.div($(),function(e){return U()(e.theme.colorText).alpha(.1).string()}),le=m.b.div(Y(),function(e){return e.image}),se=m.b.div(Z(),function(e){return e.theme.colorAccent}),me=a.a.memo(function(e){var n=e.item,t=e.order,r=e.isLoading,o=e.onConsume;return a.a.createElement(re,{image:n.image_url,name:n.name,order:t,isLoading:r,value:"Quantity: ".concat(n.quantity),description:n.description,actionButtonContent:"Consume",onAction:n.remaining_uses?function(){return o(n,t)}:void 0})}),de=t(138),fe=t(31),pe=V.a.CancelToken,he=function(){},be=function(){var e=Object(F.a)(M.a.mark(function e(n,t){var r,a,o;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://store.xsolla.com/api/v2/project/".concat(n,"/user/inventory/items"),a={headers:{Authorization:"Bearer "+t},cancelToken:new pe(function(e){he(),he=e})},e.next=4,V.a.get(r,a);case 4:return o=e.sent,e.abrupt("return",o.data.items.filter(function(e){return"virtual_good"===e.type}));case 6:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(F.a)(M.a.mark(function e(n,t,r){var a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(fe.b)({projectId:n,version:"v2"}),a=new de.a(t),e.next=4,a.consumeItem(r.sku,1,r.instance_id);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(n,t,r){return e.apply(this,arguments)}}();function ve(){var e=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n"]);return ve=function(){return e},e}function xe(){var e=Object(c.a)(["\n  display: grid;\n  grid-gap: 30px;\n  grid-template-columns: ",";\n  justify-content: center;\n"]);return xe=function(){return e},e}function ye(){var e=Object(c.a)(["\n  color: ",";\n  padding: 30px 0;\n"]);return ye=function(){return e},e}var je=function(){var e=a.a.useContext(L),n=e.cart,t=e.logToken,r=e.projectId,o=e.setStateFrom,i=e.inventoryItems,c=e.isItemConsuming,u=e.areInventoryItemsFetching,l=e.setInventoryItems,s=Object(h.useSnackbar)().enqueueSnackbar,m=a.a.useCallback(function(e){o("isItemConsuming",!0),ge(r,t,e).then(function(){var n=i.findIndex(function(n){return n.sku===e.sku}),t=i[n];if(t){var r=t.quantity>1?[].concat(Object(p.a)(i.slice(0,n)),[Object(f.a)({},t,{quantity:t.quantity-1})],Object(p.a)(i.slice(n+1))):[].concat(Object(p.a)(i.slice(0,n)),Object(p.a)(i.slice(n+1)));l(r)}o("isItemConsuming",!1)}).catch(function(e){o("isItemConsuming",!1),s(e.message,{variant:"error"})})});a.a.useEffect(function(){t&&0===i.length&&n.cartId&&(o("areInventoryItemsFetching",!0),be(r,t).then(function(e){l(e),o("areInventoryItemsFetching",!1)}).catch(function(e){o("areInventoryItemsFetching",!1),s(e.message,{variant:"error"})}))},[i.length,n.cartId]),a.a.useEffect(function(){return function(){return l([])}},[]);var d=a.a.useMemo(function(){return i.length>0?a.a.createElement(Ce,null,i.map(function(e,n){return a.a.createElement(me,{order:n,key:e.sku,item:e,isLoading:c,onConsume:m})})):a.a.createElement(we,null,"Oops, you have nothing bought yet!")},[i,c]);return a.a.createElement(Ee,null,u?a.a.createElement(v,null):d)},Ee=m.b.div(ye(),function(e){return e.theme.colorText}),Ce=m.b.div(xe(),function(e){return"repeat(auto-fit, minmax(\n    ".concat(e.theme.cardWidth,", \n    ").concat(e.theme.cardWidth,"\n  ))")}),we=m.b.div(ve()),Oe=t(139),ke=function(){var e=Object(F.a)(M.a.mark(function e(n,t){var r,a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(fe.b)({projectId:n,version:"v2"}),r=new Oe.a(t),e.next=4,r.getPhysicalGoodList();case 4:return a=e.sent,e.abrupt("return",a.data.items);case 6:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}(),Ie=t(43),Se=t.n(Ie),Te=t(276);function _e(){var e=Object(c.a)(["\n  && {\n    height: 1em;\n    width: 1em;\n    margin-right: 5px;\n  }\n"]);return _e=function(){return e},e}function Me(){var e=Object(c.a)(["\n  margin-right: 5px;\n"]);return Me=function(){return e},e}function Fe(){var e=Object(c.a)(["\n  display: flex;\n  align-items: center;\n"]);return Fe=function(){return e},e}var Be=function(e){var n=e.image,t=e.value,r=e.currency;return a.a.createElement(Ve,null,n&&a.a.createElement(Pe,{src:n}),r&&a.a.createElement(ze,null,r),t)},Ve=m.b.div(Fe()),ze=m.b.span(Me()),Pe=Object(m.b)(Te.a)(_e()),Ae=a.a.memo(function(e){var n=e.product,t=e.order,r=e.isLoading,o=e.addToCart,i=a.a.useMemo(function(){return a.a.createElement(Be,{currency:n.price.currency,value:Math.round(100*n.price.amount)/100})},[n]);return a.a.createElement(re,{image:n.image_url,name:n.name,order:t,value:i,isLoading:r,description:n.description,actionButtonContent:a.a.createElement(Se.a,null),onAction:function(){return o(n)}})});function Le(){var e=Object(c.a)(["\n  display: grid;\n  padding: 30px 0;\n  grid-gap: 30px;\n  grid-template-columns: ",";\n  justify-content: center;\n"]);return Le=function(){return e},e}function Ne(){var e=Object(c.a)(["\n  color: ",";\n  position: relative;\n  background-color: transparent;\n  z-index: 1;\n  height: 100%;\n"]);return Ne=function(){return e},e}var We=function(){var e=a.a.useContext(L),n=e.logToken,t=e.projectId,r=e.addToCart,o=e.setStateFrom,i=e.physicalItems,c=e.arePhysicalItemsFetching,u=e.setPhysicalItems,l=e.isCartProcessing,s=Object(h.useSnackbar)().enqueueSnackbar;a.a.useEffect(function(){n&&0===i.length&&(o("arePhysicalItemsFetching",!0),ke(t,n).then(function(e){u(e),o("arePhysicalItemsFetching",!1)}).catch(function(e){s(e.message,{variant:"error"}),o("arePhysicalItemsFetching",!1)}))},[i]);var m=a.a.useMemo(function(){return i.length>0&&a.a.createElement(Ge,null,i.map(function(e,n){return a.a.createElement(Ae,{order:n,key:e.sku,product:e,isLoading:l,addToCart:r})}))},[i,l]);return a.a.createElement(De,null,c?a.a.createElement(v,null):m)},De=m.b.div(Ne(),function(e){return e.theme.colorText}),Ge=m.b.div(Le(),function(e){return"repeat(auto-fit, minmax(\n    ".concat(e.theme.cardWidth,", \n    ").concat(e.theme.cardWidth,"\n  ))")}),qe=t(264),Ue=t(277),Re=t(265),He=t(260);function Je(){var e=Object(c.a)(["\n  &.MuiTab-root {\n    color: ",";\n    font-family: ",";\n  };\n"]);return Je=function(){return e},e}function Xe(){var e=Object(c.a)(["\n  padding: 30px 0;\n  color: ",";\n  \n  & .MuiTabs-flexContainer {\n    justify-content: center;\n  };\n"]);return Xe=function(){return e},e}var Qe=function(e){var n=e.groups,t=e.activeGroup,r=e.onGroupChange;return a.a.createElement(Ze,{value:t,onChange:function(e,n){return r(n)},variant:"scrollable"},n.map(function(e){return a.a.createElement(Ye,{value:e.id,key:e.id,color:"secondary",textColor:"secondary",label:e.label})}))},Ze=Object(m.b)(Re.a)(Xe(),function(e){return e.theme.colorAccent}),Ye=Object(m.b)(He.a)(Je(),function(e){return e.theme.colorAccentText},function(e){return e.theme.fontFamily}),$e=function(){var e=Object(F.a)(M.a.mark(function e(n){var t,r;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://store.xsolla.com/api/v2/project/".concat(n,"/items/virtual_items"),e.next=3,V.a.get(t);case 3:return r=e.sent,e.abrupt("return",r.data.items);case 5:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(F.a)(M.a.mark(function e(n){var t,r;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://store.xsolla.com/api/v2/project/".concat(n,"/items/virtual_currency"),e.next=3,V.a.get(t);case 3:return r=e.sent,e.abrupt("return",r.data.items);case 5:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),en=function(){var e=Object(F.a)(M.a.mark(function e(n){var t;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://livedemo.xsolla.com/store-demo/api/index.php",e.next=3,V.a.post("https://livedemo.xsolla.com/store-demo/api/index.php",n);case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}();function nn(){var e=Object(c.a)(["\n  && {\n    margin-right: 10px;\n  }\n"]);return nn=function(){return e},e}function tn(){var e=Object(c.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding: 20px 0;\n"]);return tn=function(){return e},e}function rn(){var e=Object(c.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-column-gap: 20px;\n"]);return rn=function(){return e},e}function an(){var e=Object(c.a)(["\n  width: 100%;\n\n  & .MuiFormLabel-root {\n    color: ","\n  }\n\n  & .MuiInput-root {\n    color: ","\n  }\n"]);return an=function(){return e},e}function on(){var e=Object(c.a)(["\n  max-width: 400px;\n  width: 100%;\n  padding: 20px;\n  color: ",";\n"]);return on=function(){return e},e}function cn(){var e=Object(c.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 50px;\n"]);return cn=function(){return e},e}var un=[{id:"d342dad2-9d59-11e9-a384-42010aa8003f",name:"support@xsolla.com"},{id:"7d8b1f52-7d3f-400b-acd8-46e3a4368596",name:"v.legotkin@xsolla.com"},{id:"27bc1227-48a3-4da8-bb86-f8d093f68805",name:"r.ushakov@xsolla.com"},{id:"a7d10a4e-3f68-43cc-a6b2-893d2c68fd14",name:"p.sanachev@xsolla.com"}],ln=[{id:"items",label:"Items"},{id:"currencies",label:"Currencies"}],sn=function(){var e=a.a.useContext(L).projectId,n=Object(h.useSnackbar)().enqueueSnackbar,t=a.a.useState(null),r=Object(G.a)(t,2),o=r[0],i=r[1],c=a.a.useState(null),u=Object(G.a)(c,2),l=u[0],s=u[1],m=a.a.useState(null),d=Object(G.a)(m,2),f=d[0],p=d[1],b=a.a.useState(1),g=Object(G.a)(b,2),x=g[0],y=g[1],j=a.a.useState(!1),E=Object(G.a)(j,2),C=E[0],w=E[1],O=a.a.useState(!1),k=Object(G.a)(O,2),I=k[0],S=k[1],T=a.a.useState([]),_=Object(G.a)(T,2),M=_[0],F=_[1],B=a.a.useState(!1),V=Object(G.a)(B,2),z=V[0],P=V[1],A=a.a.useState([]),N=Object(G.a)(A,2),W=N[0],D=N[1],q=I||z,U=a.a.useMemo(function(){return un.map(function(e){return a.a.createElement(Ue.a,{value:e.id},e.name)},un)}),R=a.a.useMemo(function(){return M.map(function(e){return a.a.createElement(Ue.a,{value:e.sku},e.name)},M)}),H=a.a.useMemo(function(){return W.map(function(e){return a.a.createElement(Ue.a,{value:e.sku},e.name)},W)}),J={items:{name:"Item",items:M,options:R},currencies:{name:"Currency",items:W,options:H}},X=function(e){if(null!==f){var t={type:e,user:o,item:p,count:x};w(!0),n("Operation is processing",{variant:"info"}),en(t).then(function(){w(!1),n("Complete",{variant:"success"})}).catch(function(e){w(!1),n(e.message,{variant:"error"})})}};return a.a.useEffect(function(){s(ln[0]?ln[0].id:null)},[ln]),a.a.useEffect(function(){!f&&l&&J[l]&&J[l].items[0]&&p(J[l].items[0].sku)},[M,W]),a.a.useEffect(function(){0===M.length&&(S(!0),$e(e).then(function(e){S(!1),F(e)}).catch(function(e){S(!1),n(e.message,{variant:"error"})}))},[M]),a.a.useEffect(function(){0===M.length&&(P(!0),Ke(e).then(function(e){P(!1),D(e)}).catch(function(e){P(!1),n(e.message,{variant:"error"})}))},[W]),a.a.createElement(mn,null,q?a.a.createElement(v,null):a.a.createElement(dn,{onSubmit:function(e){return e.preventDefault()}},a.a.createElement(fn,{select:!0,label:"User",value:o||un[0].id,color:"secondary",onChange:function(e){return i(e.target.value)}},U),a.a.createElement(Qe,{groups:ln,activeGroup:l,onGroupChange:s}),a.a.createElement(pn,null,J[l]&&a.a.createElement(fn,{select:!0,label:J[l].name,value:J[l].items[0].sku,color:"secondary",onChange:function(e){return p(e.target.value)}},J[l].options),a.a.createElement(fn,{type:"number",label:"Quantity",value:x,color:"secondary",onChange:function(e){return y(e.target.value)}})),a.a.createElement(hn,null,a.a.createElement(bn,{type:"submit",variant:"contained",disabled:C,onClick:function(){return X("reward")}},"Reward"),a.a.createElement(Q.a,{variant:"contained",disabled:C,onClick:function(){return X("revoke")}},"Revoke"))))},mn=m.b.div(cn()),dn=m.b.form(on(),function(e){return e.theme.colorText}),fn=Object(m.b)(qe.a)(an(),function(e){return e.theme.colorText},function(e){return e.theme.colorText}),pn=m.b.div(rn()),hn=m.b.div(tn()),bn=Object(m.b)(Q.a)(nn()),gn=t(142),vn=function(){var e=Object(F.a)(M.a.mark(function e(n,t){var r,a,o,i,c;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://store.xsolla.com/api/v1/project/".concat(n,"/items/groups"),e.next=3,V.a.get(r,{headers:{Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.next=6,Promise.all(a.data.groups.map(function(){var e=Object(F.a)(M.a.mark(function e(t){var r;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xn(n,t.external_id);case 2:return r=e.sent,e.abrupt("return",{groupID:t.external_id,groupName:t.name,items:r});case 4:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}()));case 6:return o=e.sent,i=Object(gn.a)(o),c=i.slice(0),e.abrupt("return",c);case 10:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}(),xn=function(){var e=Object(F.a)(M.a.mark(function e(n,t){var r,a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://store.xsolla.com/api/v2/project/".concat(n,"/items/virtual_items/group/").concat(t),e.next=3,V.a.get(r);case 3:return a=e.sent,e.abrupt("return",a.data.items);case 5:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}(),yn=a.a.memo(function(e){var n=e.product,t=e.order,r=e.isLoading,o=e.addToCart,i=e.buyByVC,c=n.virtual_prices&&n.virtual_prices.length>0,u=a.a.useMemo(function(){return c?"Buy now":a.a.createElement(Se.a,null)},[n]),l=a.a.useMemo(function(){return c?a.a.createElement(Be,{image:n.virtual_prices[0].image_url,value:n.virtual_prices[0].amount}):a.a.createElement(Be,{currency:n.price.currency,value:Math.round(100*n.price.amount)/100})},[n]);return a.a.createElement(re,{image:n.image_url,name:n.name,order:t,value:l,isLoading:r,description:n.description,actionButtonContent:u,onAction:c?function(){return i(n)}:function(){return o(n)}})});function jn(){var e=Object(c.a)(["\n  color: ",";\n  min-height: 2em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  width: 100%;\n  font-size: 1.2em;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n"]);return jn=function(){return e},e}function En(){var e=Object(c.a)(["\n  display: grid;\n  padding: 30px 0;\n  grid-gap: 30px;\n  grid-template-columns: ",";\n  justify-content: center;\n"]);return En=function(){return e},e}function Cn(){var e=Object(c.a)(["\n  color: ",";\n  background-color: transparent;\n"]);return Cn=function(){return e},e}var wn=function(){var e=a.a.useContext(L),n=e.logToken,t=e.virtualItems,r=e.addToCart,o=e.buyByVC,i=e.projectId,c=e.areVirtualItemsFetching,u=e.isCartProcessing,l=e.setVirtualItems,s=e.setStateFrom,m=Object(h.useSnackbar)().enqueueSnackbar,d=a.a.useState(null),f=Object(G.a)(d,2),p=f[0],b=f[1],g=a.a.useMemo(function(){return t.map(function(e){return{id:e.groupID,label:e.groupName}})},[t]);a.a.useEffect(function(){b(t[0]?t[0].groupID:null)},[t]),a.a.useEffect(function(){!c&&n&&0===t.length&&(s("areVirtualItemsFetching",!0),vn(i,n).then(function(e){l(e),s("areVirtualItemsFetching",!1)}).catch(function(e){s("areVirtualItemsFetching",!1),m(e.message,{variant:"error"})}))},[t]);var x=a.a.useMemo(function(){return t.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Qe,{groups:g,activeGroup:p,onGroupChange:b}),t.map(function(e){return p===e.groupID&&a.a.createElement(a.a.Fragment,{key:e.groupID},a.a.createElement(In,null,e.groupName),a.a.createElement(kn,null,e.items.map(function(e,n){return a.a.createElement(yn,{order:n,key:e.sku,product:e,addToCart:r,isLoading:u,buyByVC:o})})))}))},[p,t,u]);return a.a.createElement(On,null,c?a.a.createElement(v,null):x)},On=m.b.div(Cn(),function(e){return e.theme.colorText}),kn=m.b.div(En(),function(e){return"repeat(auto-fit, minmax(\n    ".concat(e.theme.cardWidth,", \n    ").concat(e.theme.cardWidth,"\n  ))")}),In=m.b.div(jn(),function(e){return e.theme.colorText}),Sn=t(262),Tn=t(261),_n=t(143),Mn=t.n(_n),Fn=t(145),Bn=t.n(Fn),Vn=t(144),zn=t.n(Vn),Pn="375px",An="425px",Ln="768px",Nn="1024px",Wn="1440px",Dn="1920px",Gn="2560px",qn={mobileS:"(max-width: ".concat("320px",")"),mobileM:"(max-width: ".concat(Pn,")"),mobileL:"(max-width: ".concat(An,")"),tablet:"(max-width: ".concat(Ln,")"),laptop:"(max-width: ".concat(Nn,")"),laptopL:"(max-width: ".concat(Wn,")"),desktop:"(max-width: ".concat(Dn,")"),retina:"(max-width: ".concat(Gn,")")};function Un(){var e=Object(c.a)(["\n  @media "," {\n    && {\n      width: 1.5em;\n      height: 1.5em;\n    }\n  }\n"]);return Un=function(){return e},e}function Rn(){var e=Object(c.a)(["\n  @media "," {\n    && {\n      width: 1.5em;\n      height: 1.5em;\n    }\n  }\n"]);return Rn=function(){return e},e}function Hn(){var e=Object(c.a)(["\n  @media "," {\n    && {\n      width: 1.5em;\n      height: 1.5em;\n    }\n  }\n"]);return Hn=function(){return e},e}function Jn(){var e=Object(c.a)(["\n  font-size: 0.8em;\n  opacity: 0.3;\n"]);return Jn=function(){return e},e}function Xn(){var e=Object(c.a)(["\n  color: ",";\n  font-weight: 600;\n"]);return Xn=function(){return e},e}function Qn(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n\n  @media "," {\n    flex-grow: 1;\n  }\n"]);return Qn=function(){return e},e}function Zn(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n\n  @media "," {\n    grid-column: 2 / 2;\n  }\n"]);return Zn=function(){return e},e}function Yn(){var e=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: bolder;\n  min-width: 44px;\n  font-size: 1.2em;\n"]);return Yn=function(){return e},e}function $n(){var e=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n"]);return $n=function(){return e},e}function Kn(){var e=Object(c.a)(["\n  font-weight: bolder;\n  margin-bottom: 5px;\n"]);return Kn=function(){return e},e}function et(){var e=Object(c.a)(["  \n  padding: 10px;\n"]);return et=function(){return e},e}function nt(){var e=Object(c.a)(["\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(",");\n"]);return nt=function(){return e},e}function tt(){var e=Object(c.a)(["\n  display: grid;\n  grid-template-columns: 0.7fr 1.3fr 1fr;\n  color: ",";\n  overflow: hidden;\n  height: 130px;\n\n  @media "," {\n    height: 185px;\n    grid-template-columns: 0.9fr 1.1fr;\n    grid-template-rows: 120px 1fr;\n  }\n"]);return tt=function(){return e},e}var rt=function(e){var n=e.item,t=e.changeItemQuantity,r=function(e,n){return Math.round(e*n*100)/100},o=function(){return t(n,n.quantity-1)};return a.a.createElement(at,null,a.a.createElement(ot,{image:n.image_url}),a.a.createElement(it,null,a.a.createElement(ct,null,n.name),a.a.createElement(mt,null,a.a.createElement(dt,null,n.price.currency," ",r(n.price.amount,n.quantity)),n.quantity>1&&a.a.createElement(ft,null,n.price.currency," ",r(n.price.amount,1)," for one item"))),a.a.createElement(st,null,a.a.createElement(ut,null,n.quantity>1?a.a.createElement(Tn.a,{color:"inherit",onClick:o},a.a.createElement(ht,null)):a.a.createElement(Tn.a,{color:"inherit",onClick:o},a.a.createElement(pt,null)),a.a.createElement(lt,null,n.quantity),a.a.createElement(Tn.a,{color:"inherit",onClick:function(){return t(n,n.quantity+1)}},a.a.createElement(bt,null)))))},at=m.b.div(tt(),function(e){return e.theme.colorText},qn.mobileL),ot=m.b.div(nt(),function(e){return e.image}),it=m.b.div(et()),ct=m.b.div(Kn()),ut=m.b.div($n()),lt=m.b.div(Yn()),st=m.b.div(Zn(),qn.mobileL),mt=m.b.div(Qn(),qn.mobileL),dt=m.b.div(Xn(),function(e){return e.theme.colorAccent}),ft=m.b.div(Jn()),pt=Object(m.b)(Mn.a)(Hn(),qn.mobileL),ht=Object(m.b)(zn.a)(Rn(),qn.mobileL),bt=Object(m.b)(Bn.a)(Un(),qn.mobileL),gt=t(146),vt=t(94);function xt(e){return{name:e,fractionSize:2,symbol:{grapheme:e,template:null,rtl:!1},uniqSymbol:null}}var yt="en_US";function jt(e,n,t){var r=parseFloat(e);if(!n||isNaN(r))return{formattedCurrency:e+" "+n,dir:"ltr"};var a=function(e){return e&&gt[e.toUpperCase()]||xt(e)}(n),o=function(e){return e&&vt[function(e){return[e.substr(0,2).toLowerCase(),e.substr(3,2).toUpperCase()].join("_")}(e)]||vt[yt]}(t),i=r<0?"-":"",c=a.fractionSize,u=a.symbol,l=o.thousands,s=o.decimal;u&&!u.rtl||" "!==o.thousands||(l=",",s=".");var m=Math.abs(r).toFixed(c).split(".");m[0]=m[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+l);var d=m.join(s),f=i+d+" "+n,p=!1;return u&&u.template&&(f=i+u.template.replace("1",d).replace("$",u.grapheme),p=u.rtl),{formattedCurrency:f,dir:p?"rtl":"ltr"}}var Et=function(){var e=Object(F.a)(M.a.mark(function e(n){var t;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://livedemo.xsolla.com/store-demo/api/index.php",e.next=3,V.a.post("https://livedemo.xsolla.com/store-demo/api/index.php",n);case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}();function Ct(){var e=Object(c.a)(["\n  &.MuiDivider-root {\n    background-color: ",";\n    opacity: 0.1;\n    margin-bottom: 5px;\n  }\n"]);return Ct=function(){return e},e}function wt(){var e=Object(c.a)(["\n  min-width: 80px;\n  text-align: right;\n"]);return wt=function(){return e},e}function Ot(){var e=Object(c.a)(["\n  display: flex;\n  font-weight: bold;\n  color: ",";\n  margin-right: 10px;\n\n  @media "," {\n    justify-content: flex-end;\n    width: 100%;\n    margin-bottom: 15px;\n    margin-right: 0;\n  }\n"]);return Ot=function(){return e},e}function kt(){var e=Object(c.a)(["\n  display: flex;\n\n  @media "," {\n    justify-content: flex-end;\n    width: 100%;\n  }\n"]);return kt=function(){return e},e}function It(){var e=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  padding: 24px 0 24px 0;\n"]);return It=function(){return e},e}function St(){var e=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ",";\n  height: 100%;\n"]);return St=function(){return e},e}function Tt(){var e=Object(c.a)(["\n  display: grid;\n  grid-row-gap: 30px;\n  padding: 16px 0;\n"]);return Tt=function(){return e},e}function _t(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  max-width: 600px;\n  padding: 0 20px;\n"]);return _t=function(){return e},e}function Mt(){var e=Object(c.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 50px;\n"]);return Mt=function(){return e},e}var Ft,Bt=function(){var e=a.a.useContext(L),n=e.cart,t=e.changeItemQuantityInCart,r=Object(h.useSnackbar)().enqueueSnackbar,o=a.a.useState(),i=Object(G.a)(o,2),c=i[0],u=i[1],l=a.a.useCallback(function(){var e={type:"purchase",user:"d342dad2-9d59-11e9-a384-42010aa8003f",platform:"playstation_network",purchase:{amount:n.price.amount,currency:n.price.currency,external_purchase_id:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}),external_purchase_date:(new Date).toISOString()},items:n.items.map(function(e){return{sku:e.sku,quantity:e.quantity}})};u(!0),r("Operation is processing",{variant:"info"}),Et(e).then(function(){u(!1),r("Complete",{variant:"success"})}).catch(function(e){u(!1),r(e.message,{variant:"error"})})},[]),s=a.a.useMemo(function(){return n.items.length>0?a.a.createElement(Pt,null,n.items.map(function(e){return a.a.createElement(a.a.Fragment,{key:e.sku},a.a.createElement(rt,{item:e,changeItemQuantity:t}),a.a.createElement(Gt,null))})):a.a.createElement(At,null,"Oops, you have nothing bought yet!")},[n]),m=a.a.useMemo(function(){return n.items.length>0&&a.a.createElement(Lt,null,a.a.createElement(Wt,null,"Subtotal:",a.a.createElement(Dt,null,jt(function(e){var n=e.reduce(function(e,n){return e+n.price.amount*n.quantity},0);return Math.round(100*n)/100}(n.items),n.price.currency||n.items[0].price.currency).formattedCurrency)),a.a.createElement(Nt,null,a.a.createElement(Q.a,{variant:"contained",disabled:c,onClick:l},c?a.a.createElement(b.a,{size:24,color:"secondary"}):"Grant purchase")))},[n,c]);return a.a.createElement(Vt,null,a.a.createElement(zt,null,s,m))},Vt=m.b.div(Mt()),zt=m.b.div(_t()),Pt=m.b.div(Tt()),At=m.b.div(St(),function(e){return e.theme.colorText}),Lt=m.b.div(It()),Nt=m.b.div(kt(),qn.tablet),Wt=m.b.div(Ot(),function(e){return e.theme.colorText},qn.tablet),Dt=m.b.div(wt()),Gt=Object(m.b)(Sn.a)(Ct(),function(e){return e.theme.colorAccentText}),qt=t(114),Ut=(t(216),function(e){function n(){var e;return Object(j.a)(this,n),(e=Object(C.a)(this,Object(w.a)(n).call(this))).state={expanded:!1,cardShown:!1},e}return Object(O.a)(n,e),Object(E.a)(n,[{key:"componentDidMount",value:function(){var e=this,n=this.props.order;this.state.cardShown||setTimeout(function(){e.setState({cardShown:!0})},100*n)}},{key:"render",value:function(){var e=this.props,n=e.initClass,t=e.imageUrl,r=e.title,o=e.description;return a.a.createElement("div",{className:"entitlement-item ".concat(this.state.cardShown?"":n)},a.a.createElement("div",{className:"entitlement-item-card"},a.a.createElement("div",{className:"entitlement-item-card-media",style:{backgroundImage:"url(".concat(t,")")}}),a.a.createElement("div",{className:"entitlement-item-card-content"},a.a.createElement("div",{className:"entitlement-item-card-content-title"},r),a.a.createElement("div",{className:"entitlement-item-card-content-description"},o)),a.a.createElement(J.a,{in:this.state.expanded,timeout:"auto",unmountOnExit:!0},a.a.createElement(X.a,null,o))))}}]),n}(r.Component)),Rt=V.a.CancelToken,Ht=function(){var e=Object(F.a)(M.a.mark(function e(n,t,r,a){var o,i,c;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Ft&&Ft(),"https://store.xsolla.com/api/v1/game_delivery/xsolla_login/redeem_key",o={project_id:n,digital_content_sku:a,language:"en",key:r},i={headers:{Authorization:"Bearer "+t},cancelToken:new Rt(function(e){Ft=e})},c=V.a.post("https://store.xsolla.com/api/v1/game_delivery/xsolla_login/redeem_key",o,i),e.abrupt("return",c.data);case 6:case"end":return e.stop()}},e,this)}));return function(n,t,r,a){return e.apply(this,arguments)}}(),Jt=(t(218),t(220),function(e){function n(e){var t;return Object(j.a)(this,n),(t=Object(C.a)(this,Object(w.a)(n).call(this,e))).state={code:"",sku:"",hasRedeemError:!1,isFetching:!1},t.handleChangeCode=t.handleChangeCode.bind(Object(qt.a)(Object(qt.a)(t))),t.handleChangeSku=t.handleChangeSku.bind(Object(qt.a)(Object(qt.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(qt.a)(Object(qt.a)(t))),t}return Object(O.a)(n,e),Object(E.a)(n,[{key:"componentDidMount",value:function(){this.props.logToken&&0===this.props.entitlementItems.length&&(this.updateEntitlement(),this.props.setStateFrom("isFetching",!0))}},{key:"componentWillUnmount",value:function(){null!==this.props.entitlementItems&&this.props.setEntitlementItems([])}},{key:"updateEntitlement",value:function(){var e=this;Object(fe.b)({projectId:window.xProjectId,version:"v2"}),this.props.setStateFrom("isFetching",!0),function(e,n){Ft&&Ft();var t={url:"https://store.xsolla.com/api/v2/projects/entitlement",method:"GET",headers:{Authorization:"Bearer "+n},cancelToken:new Rt(function(e){Ft=e})};return V()(t).then(function(e){return e.data})}(window.xProjectId,this.props.logToken).then(function(n){e.props.setEntitlementItems(n)}).catch(function(){e.props.setEntitlementItems([])})}},{key:"handleChangeCode",value:function(e){this.setState({code:e.target.value})}},{key:"handleChangeSku",value:function(e){this.setState({sku:e.target.value})}},{key:"handleSubmit",value:function(e){var n=this;this.setState(Object(f.a)({},this.state,{isFetching:!0})),Ht(window.xProjectId,this.props.logToken,this.state.code,this.state.sku).then(function(e,t){n.updateEntitlement(),n.setState(Object(f.a)({},n.state,{hasRedeemError:!1,isFetching:!1}))}).catch(function(){console.log("error"),n.setState(Object(f.a)({},n.state,{hasRedeemError:!0,isFetching:!1}))}),e.preventDefault()}},{key:"render",value:function(){var e=this.props.entitlementItems;return a.a.createElement("div",{className:""},a.a.createElement("form",{className:"entitlement-redeem-form",onSubmit:this.handleSubmit},a.a.createElement("input",{className:"entitlement-redeem-input",type:"text",size:"40",placeholder:"Enter your code",onChange:this.handleChangeCode,value:this.state.code}),a.a.createElement("input",{className:"entitlement-redeem-input",type:"text",size:"40",placeholder:"Enter sku of your game",onChange:this.handleChangeSku,value:this.state.sku}),this.state.hasRedeemError&&!this.state.isFetching&&a.a.createElement("span",{className:"entitlement-redeem-error"},"Wrong code"),this.state.isFetching&&a.a.createElement("div",{className:"entitlement-redeem-loader"},a.a.createElement(b.a,null)),a.a.createElement(Q.a,{type:"submit",className:"entitlement-redeem-button",variant:"contained"},"Redeem Code")),a.a.createElement("div",{className:"entitlement-list"},e&&e.length?e.map(function(e,n){return a.a.createElement(Ut,{key:e.digital_content_sku,order:n,initClass:"initialFlow1",title:e.name,description:e.description,imageUrl:e.image_url})}):a.a.createElement("div",null,"Oops, you have no games yet!")))}}]),n}(r.PureComponent)),Xt=t(273),Qt=t(88),Zt=t.n(Qt),Yt=t(267),$t=t(254),Kt=t(278);function er(){var e=Object(c.a)(["\n  min-width: 80px;\n  text-align: right;\n"]);return er=function(){return e},e}function nr(){var e=Object(c.a)(["\n  display: flex;\n  font-weight: bold;\n  margin-right: 10px;\n\n  @media "," {\n    justify-content: flex-end;\n    width: 100%;\n    margin-bottom: 15px;\n    margin-right: 0;\n  }\n"]);return nr=function(){return e},e}function tr(){var e=Object(c.a)(["\n  display: flex;\n\n  @media "," {\n    justify-content: flex-end;\n    width: 100%;\n  }\n"]);return tr=function(){return e},e}function rr(){var e=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  background-color: ",";\n  border-top: 1px solid ",";\n  padding: 24px 0 24px 0;\n"]);return rr=function(){return e},e}function ar(){var e=Object(c.a)(["\n  display: grid;\n  grid-row-gap: 30px;\n  flex-grow: 1;\n  padding: 16px 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n"]);return ar=function(){return e},e}function or(){var e=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background-color: ",";\n  color: ",";\n  border-bottom: 1px solid ",";\n  z-index: 10;\n  padding: 24px 0 8px 0;\n"]);return or=function(){return e},e}function ir(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  padding: 0 32px;\n  width: 680px;\n  max-height: 80vh;\n  outline: none;\n\n  @media "," {\n    padding: 0 16px;\n    max-height: none;\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n  }\n"]);return ir=function(){return e},e}function cr(){var e=Object(c.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return cr=function(){return e},e}var ur=Object(m.b)(Yt.a)(cr()),lr=m.b.div(ir(),function(e){return"".concat(e.theme.borderRadius,"px")},function(e){return e.theme.colorBg},function(e){return e.theme.colorText},qn.tablet),sr=m.b.div(or(),function(e){return e.theme.colorBg},function(e){return e.theme.colorText},function(e){return U()(e.theme.colorText).alpha(.1).string()}),mr=m.b.div(ar()),dr=m.b.div(rr(),function(e){return e.theme.colorBg},U()(function(e){return e.theme.colorText}).alpha(.1).string()),fr=m.b.div(tr(),qn.tablet),pr=m.b.div(nr(),qn.tablet),hr=m.b.div(er()),br=Object(Xt.a)(function(e){var n=e.history,t=a.a.useState(!1),r=Object(G.a)(t,2),o=r[0],i=r[1],c=a.a.useContext(L),u=c.cart,l=c.hideCart,s=c.logToken,m=c.payStationHandler,d=c.isCartShown,f=c.changeItemQuantityInCart;return a.a.createElement(ur,{open:d,onClose:l,closeAfterTransition:!0,BackdropComponent:Kt.a,BackdropProps:{timeout:250}},a.a.createElement($t.a,{in:d,timeout:250},a.a.createElement(lr,null,a.a.createElement(sr,null,a.a.createElement("h4",null,"Cart"),a.a.createElement(Tn.a,{color:"inherit",onClick:l},a.a.createElement(Zt.a,null))),a.a.createElement(mr,null,u.items.length>0?u.items.map(function(e){return a.a.createElement(rt,{item:e,changeItemQuantity:f})}):a.a.createElement("p",null,"Empty cart")),a.a.createElement(dr,null,u.items.length>0&&a.a.createElement(pr,null,"Subtotal:",a.a.createElement(hr,null,jt(function(e){var n=e.reduce(function(e,n){return e+n.price.amount*n.quantity},0);return Math.round(100*n)/100}(u.items),u.price.currency||u.items[0].price.currency).formattedCurrency)),a.a.createElement(fr,null,a.a.createElement(Q.a,{variant:"contained",disabled:0===u.items.length,style:{marginRight:"7px"},onClick:function(){o||u.items.length<=0||(n.push("/purchase"),l())}},"Buy on PS4"),a.a.createElement(Q.a,{variant:"contained",disabled:0===u.items.length,onClick:function(){l(),function(e,n){var t={url:"https://store.xsolla.com/api/v2/project/"+window.xProjectId+"/payment/cart/"+e,method:"POST",headers:{Authorization:"Bearer "+n}};return V()(t).then(function(e){return e}).catch(function(e){})}(u.cartId,s).then(function(e){i(!0),window.xPayStationInit(e.data.token),window.XPayStationWidget.open(),window.XPayStationWidget.on(window.XPayStationWidget.eventTypes.CLOSE,function(){return i(!1)}),window.XPayStationWidget.on(window.XPayStationWidget.eventTypes.STATUS_DONE,m)}).catch(function(){return i(!1)})}},"Buy on Xsolla"))))))});function gr(){var e=Object(c.a)(["\n  font-weight: bolder;\n  margin-bottom: 5px;\n"]);return gr=function(){return e},e}function vr(){var e=Object(c.a)(["\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(",");\n"]);return vr=function(){return e},e}function xr(){var e=Object(c.a)(["\n  display: grid;\n  grid-template-columns: 0.7fr 1.3fr 1fr;\n  color: ",";\n  overflow: hidden;\n  height: 130px;\n\n  @media "," {\n    height: 185px;\n    grid-template-columns: 0.9fr 1.1fr;\n    grid-template-rows: 120px 1fr;\n  }\n"]);return xr=function(){return e},e}var yr=a.a.memo(function(e){var n=e.item;return a.a.createElement(jr,null,a.a.createElement(Er,{image:n.image_url}),a.a.createElement("div",null,a.a.createElement(Cr,null,n.name),a.a.createElement("div",null,n.description)))}),jr=m.b.div(xr(),function(e){return e.theme.colorText},qn.mobileL),Er=m.b.div(vr(),function(e){return e.image}),Cr=m.b.div(gr());function wr(){var e=Object(c.a)(["\n  display: flex;\n  justify-content: flex-end;\n  background-color: ",";\n  border-top: 1px solid ",";\n  padding: 24px 0 24px 0;\n"]);return wr=function(){return e},e}function Or(){var e=Object(c.a)(["\n  display: grid;\n  grid-row-gap: 30px;\n  flex-grow: 1;\n  padding: 16px 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n"]);return Or=function(){return e},e}function kr(){var e=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background-color: ",";\n  color: ",";\n  border-bottom: 1px solid ",";\n  z-index: 10;\n  padding: 24px 0 8px 0;\n"]);return kr=function(){return e},e}function Ir(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  padding: 0 32px;\n  width: 680px;\n  max-height: 80vh;\n  outline: none;\n\n  @media "," {\n    padding: 0 16px;\n    max-height: none;\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n  }\n"]);return Ir=function(){return e},e}function Sr(){var e=Object(c.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Sr=function(){return e},e}var Tr=function(){var e=a.a.useContext(L),n=e.vcCart,t=e.isVCCartShown,r=e.projectId,o=e.logToken,i=e.clearVCCart,c=e.setStateFrom,u=e.hideVCCart,l=e.isVCCartProcessing,s=e.updateVirtualCurrencyBalance;return a.a.createElement(_r,{open:t,onClose:u,closeAfterTransition:!0,BackdropComponent:Kt.a,BackdropProps:{timeout:250}},a.a.createElement($t.a,{in:t,timeout:250},a.a.createElement(Mr,null,a.a.createElement(Fr,null,a.a.createElement("h4",null,"Confirm"),a.a.createElement(Tn.a,{color:"inherit",onClick:u},a.a.createElement(Zt.a,null))),a.a.createElement(Br,null,n.items.length>0?n.items.map(function(e){return a.a.createElement(yr,{item:e})}):a.a.createElement("p",null,"Empty cart")),a.a.createElement(Vr,null,a.a.createElement(Q.a,{variant:"contained",disabled:l,onClick:function(){c("isVCCartProcessing",!0),A(r,n.items[0],o).then(function(){c("isVCCartProcessing",!1),i(),s()}).catch(function(){c("isVCCartProcessing",!1)})}},l?a.a.createElement(b.a,{size:24,color:"secondary"}):"Buy")))))},_r=Object(m.b)(Yt.a)(Sr()),Mr=m.b.div(Ir(),function(e){return"".concat(e.theme.borderRadius,"px")},function(e){return e.theme.colorBg},function(e){return e.theme.colorText},qn.tablet),Fr=m.b.div(kr(),function(e){return e.theme.colorBg},function(e){return e.theme.colorText},U()(function(e){return e.theme.colorText}).alpha(.1).string()),Br=m.b.div(Or()),Vr=m.b.div(wr(),function(e){return e.theme.colorBg},U()(function(e){return e.theme.colorText}).alpha(.1).string()),zr=a.a.memo(function(e){var n=e.product,t=e.order,r=e.isLoading,o=e.addToCart,i=a.a.useMemo(function(){return a.a.createElement(Be,{currency:n.price.currency,value:Math.round(100*n.price.amount)/100})},[n]);return a.a.createElement(re,{image:n.image_url,name:n.name,order:t,value:i,isLoading:r,description:n.description,actionButtonContent:a.a.createElement(Se.a,null),onAction:function(){return o(n)}})}),Pr=function(){var e=Object(F.a)(M.a.mark(function e(n,t){var r,a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://store.xsolla.com/api/v2/project/".concat(n,"/items/virtual_currency/package"),e.next=3,V.a.get(r,{headers:{Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.abrupt("return",a.data.items);case 5:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}();function Ar(){var e=Object(c.a)(["\n  display: grid;\n  padding: 30px 0;\n  grid-gap: 30px;\n  grid-template-columns: ",";\n  justify-content: center;\n"]);return Ar=function(){return e},e}function Lr(){var e=Object(c.a)(["\n  color: ",";\n  background-color: transparent;\n"]);return Lr=function(){return e},e}var Nr=function(){var e=a.a.useContext(L),n=e.logToken,t=e.projectId,r=e.addToCart,o=e.setStateFrom,i=e.virtualCurrencies,c=e.areVirtualCurrenciesFetching,u=e.isCartProcessing,l=e.setVirtualCurrencies,s=Object(h.useSnackbar)().enqueueSnackbar;a.a.useEffect(function(){n&&0===i.length&&(o("areVirtualCurrenciesFetching",!0),Pr(t,n).then(function(e){l(e),o("areVirtualCurrenciesFetching",!1)}).catch(function(e){s(e.message,{variant:"error"}),o("areVirtualCurrenciesFetching",!1)}))},[i]);var m=a.a.useMemo(function(){return i.length>0&&a.a.createElement(Dr,null,i.map(function(e,n){return a.a.createElement(zr,{order:n,key:e.sku,product:e,isLoading:u,addToCart:r})}))},[i,u]);return a.a.createElement(Wr,null,c?a.a.createElement(v,null):m)},Wr=m.b.div(Lr(),function(e){return e.theme.colorText}),Dr=m.b.div(Ar(),function(e){return"repeat(auto-fit, minmax(\n    ".concat(e.theme.cardWidth,", \n    ").concat(e.theme.cardWidth,"\n  ))")}),Gr=t(274),qr=t(225),Ur=t(148),Rr=t.n(Ur),Hr=t(150),Jr=t.n(Hr),Xr=t(149),Qr=t.n(Xr),Zr=t(92),Yr=t.n(Zr),$r={items:"/",currencies:"/crystals",physical:"/physical",inventory:"/inventory",entitlement:"/entitlement",manage:"/manage",purchase:"/purchase"},Kr=[{route:$r.items,label:"Items"},{route:$r.currencies,label:"Currencies"},{route:$r.physical,label:"Merchandise"},{route:$r.inventory,label:"Inventory"},{route:$r.entitlement,label:"Entitlement"},{route:$r.manage,label:"Manage"},{route:$r.purchase,label:"Server purchase"}],ea=function(e){return Kr.filter(function(n){return e.includes(n.route)}).sort(function(n,t){return e.indexOf(n.route)-e.indexOf(t.route)})};function na(){var e=Object(c.a)(["\n  display: flex;\n  align-content: center;\n  justify-content: center;\n  text-align: center;\n  padding: 36px;\n  overflow: hidden;\n  margin: 0 70px;\n  border-radius: 8px;\n"]);return na=function(){return e},e}function ta(){var e=Object(c.a)(["\n  padding: 20px 70px;\n  display: flex;\n  align-content: center;\n  justify-content: center;\n  flex-direction: column;\n  flex-grow: 1;\n  font-size: 22px;\n  width: 600px;\n  & a {\n    /* font-family: 'PS Mono', Courier, monospace; */\n    text-decoration: underline;\n    font-size: 28px;\n    line-height: 0px;\n  }\n"]);return ta=function(){return e},e}function ra(){var e=Object(c.a)(["\n  position: fixed;\n  z-index: 99;\n  background: rgba(0, 0, 0, 0.8);\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n"]);return ra=function(){return e},e}function aa(){var e=Object(c.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  min-height: 100%;\n  z-index: 100;\n  display: flex;\n  align-content: center;\n  justify-content: center;\n  flex-direction: column;\n"]);return aa=function(){return e},e}function oa(){var e=Object(c.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  min-height: 100%;\n  z-index: 1000;\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  justify-content: center;\n  overflow-y: scroll;\n  padding: 40px 0;\n"]);return oa=function(){return e},e}var ia=function(e){function n(e){var t;return Object(j.a)(this,n),(t=Object(C.a)(this,Object(w.a)(n).call(this,e))).unauthorizedFlow=function(){t.setState({logToken:null}),t.setState({shown:!0})},t.authorizedFlow=function(e){t.setState({logToken:e,shown:!1}),t.user=function(e){var n=e.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(window.atob(n))}(e),t.setStateFrom("user",t.user),t.createCart()},t.state={shown:!0,logToken:null,psToken:null},t}return Object(O.a)(n,e),Object(E.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement(W,null,function(n){return e.setStateFrom=n.setStateFrom,e.createCart=n.createCart,a.a.createElement("div",null,a.a.createElement(ca,{style:{display:e.state.shown?"flex":"none"}},a.a.createElement(ua,null,a.a.createElement(sa,null,"Current project: ",a.a.createElement("b",null,window.xProjectId)),a.a.createElement(ma,null,a.a.createElement("div",{id:"xl_auth"})),a.a.createElement(sa,null,da.map(function(e,n){var t=e.project_id,r=e.login_id,o="".concat("https://xsolla.github.io/store-demo/#/","?project_id=").concat(t,"&login_id=").concat(r);return a.a.createElement("div",{key:t+n,style:{marginBottom:"1em"}},a.a.createElement("div",{style:{fontSize:"0.4em"}},a.a.createElement("a",{href:o},t,": ",e.projectName)))}),a.a.createElement("p",null,"Open any Xsolla Store using GET parameters ",a.a.createElement("br",null),a.a.createElement("b",null,"project_id")," and ",a.a.createElement("b",null,"login_id")," (login must point back to https://xsolla.github.io/store-demo/#/)"))),a.a.createElement(la,null)))})}},{key:"componentDidMount",value:function(){window.XloginInit();var e=I();e?this.authorizedFlow(e):this.unauthorizedFlow()}}]),n}(r.Component),ca=m.b.div(oa()),ua=m.b.div(aa()),la=m.b.div(ra()),sa=m.b.div(ta()),ma=m.b.div(na()),da=[{projectName:"Xsolla Store Demo",project_id:47278,login_id:"fb2d7c69-bf25-11e9-9244-42010aa80004"}];function fa(){var e=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  height: 50px;\n  padding: 0 15px;\n  font-family: 'Helvetica Neue', 'Roboto', Arial, Helvetica, sans-serif;\n  color: ",";\n  background-color: ",";\n"]);return fa=function(){return e},e}function pa(){var e=Object(c.a)(["\n  && {\n    font-family: 'Roboto';\n    text-transform: uppercase;\n    color: ",";\n    margin: 0 1rem;\n  }\n"]);return pa=function(){return e},e}function ha(){var e=Object(c.a)(["\n  &.MuiButton-root {\n    margin-right: 10px;\n    font-size: 0.8rem;\n  }\n"]);return ha=function(){return e},e}function ba(){var e=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  flex-grow: 1;\n\n  @media "," {\n    justify-content: center;\n  }\n"]);return ba=function(){return e},e}function ga(){var e=Object(c.a)(["\n  margin-right: 10px;\n"]);return ga=function(){return e},e}function va(){var e=Object(c.a)(["\n  &.MuiButton-root {\n    margin-right: 10px;\n  }\n"]);return va=function(){return e},e}function xa(){var e=Object(c.a)(["\n  &.MuiIconButton-root {\n    color: ",";\n  }\n"]);return xa=function(){return e},e}function ya(){var e=Object(c.a)(["\n  display: flex;\n  padding: 15px 20px;\n  min-width: 200px;\n  align-items: center;\n  text-transform: uppercase;\n  text-decoration: none;\n  font-family: ",";\n  font-size: 1.2rem;\n  font-weight: 700;\n  line-height: 1.2rem;\n  height: 100%;\n  color: #d6e0e7;\n  border: none;\n\n  &:hover {\n    color: #ff005b;\n    text-decoration: none;\n  }\n\n  &.active {\n    color: #ff005b;\n  }\n"]);return ya=function(){return e},e}function ja(){var e=Object(c.a)(["\n  &.MuiTab-root {\n    text-transform: uppercase;\n    font-family: ",";\n    font-size: 1.4rem;\n    font-weight: 700;\n    line-height: 1.4rem;\n    min-width: 50px;\n  }\n"]);return ja=function(){return e},e}function Ea(){var e=Object(c.a)(["\n  &.MuiTabs-root {\n    height: 100%\n  }\n"]);return Ea=function(){return e},e}function Ca(){var e=Object(c.a)(["\n  .MuiMenu-list {\n    background-color: ",";\n  }\n"]);return Ca=function(){return e},e}var wa=Object(m.b)(qr.a)(Ca(),function(e){return e.theme.colorBg}),Oa=Object(m.b)(Re.a)(Ea()),ka=Object(m.b)(He.a)(ja(),function(e){return e.theme.fontFamily}),Ia=Object(m.b)(Gr.a)(ya(),function(e){return e.theme.fontFamily}),Sa=Object(m.b)(Tn.a)(xa(),function(e){return e.theme.colorAccentText}),Ta=Object(m.b)(Q.a)(va()),_a=m.b.div(ga()),Ma=m.b.div(ba(),qn.mobileL),Fa=Object(m.b)(Q.a)(ha()),Ba=Object(m.b)(Q.a)(pa(),function(e){return e.theme.colorAccent}),Va=m.b.header(fa(),function(e){return e.theme.colorAccentText},function(e){return e.theme.colorBg}),za=Object(Xt.a)(function(e){var n=e.location,t=a.a.useContext(L),r=t.logToken,o=t.user,i=t.userBalanceVirtualCurrency,c=t.projectId,u=t.showCart,l=t.setSideMenuVisibility,s=t.isSideMenuShown,m=a.a.useState(null),f=Object(G.a)(m,2),h=f[0],b=f[1],g=function(){return b(null)},v=r&&o,x=a.a.useMemo(function(){return ea([$r.items,$r.currencies].concat(Object(p.a)(44056===c?[$r.physical]:[])))},[$r,c]),y=a.a.useMemo(function(){return x.some(function(e){return e.route===n.pathname})},[x,n.pathname]),j=a.a.useMemo(function(){return ea([$r.inventory,$r.entitlement,$r.manage,$r.purchase])},[$r]);return a.a.createElement(Va,null,a.a.createElement(d.a,{mdDown:!0},a.a.createElement(Oa,{value:!!y&&n.pathname,component:"nav"},x.map(function(e){return a.a.createElement(ka,{key:e.route,component:Gr.a,label:e.label,value:e.route,to:e.route})}))),a.a.createElement(d.a,{lgUp:!0},a.a.createElement(Sa,{onClick:function(){return l(!s)}},a.a.createElement(Rr.a,null))),v&&a.a.createElement(Ma,null,i.map(function(e){return a.a.createElement(_a,{key:e.sku},a.a.createElement(Be,{image:e.image_url,value:e.amount}))}),a.a.createElement(d.a,{mdDown:!0},a.a.createElement(Ba,{endIcon:Boolean(h)?a.a.createElement(Qr.a,null):a.a.createElement(Jr.a,null),onClick:function(e){return b(e.currentTarget)}},o.email))),a.a.createElement(ia,null),!r&&a.a.createElement(Fa,{variant:"outlined",color:"secondary",size:"small"},"Log In"),v&&44056!==c&&a.a.createElement(Ta,{variant:"outlined",color:"secondary",size:"small",onClick:function(){S("xsolla_login_token"),S("xsolla_last_click_id"),window.location.reload()}},a.a.createElement(Yr.a,{size:"inherit"})),a.a.createElement(Q.a,{variant:"contained",color:"secondary",size:"small",onClick:u},a.a.createElement(Se.a,{size:"inherit"}),a.a.createElement(d.a,{xsDown:!0},"cart")),a.a.createElement(wa,{anchorEl:h,getContentAnchorEl:null,transformOrigin:{vertical:"top",horizontal:"center"},anchorOrigin:{vertical:"bottom",horizontal:"center"},open:Boolean(h),onClose:g},j.map(function(e){return a.a.createElement(Ia,{key:e.route,onClick:g,activeClassName:"active",to:e.route},e.label)})))}),Pa=t(272),Aa=t(151),La=t.n(Aa);function Na(){var e=Object(c.a)(["\n  flex-grow: 1;\n  padding: 0 15px;\n  text-transform: uppercase;\n  font-family: Roboto;\n  color: ",";\n"]);return Na=function(){return e},e}function Wa(){var e=Object(c.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 49px;\n"]);return Wa=function(){return e},e}function Da(){var e=Object(c.a)(["\n  &.MuiTab-root {\n    color: ",";\n    padding: 15px;\n    font-family: ",";\n    font-size: 1.3rem;\n    line-height: 1.3rem;\n    font-weight: 700;\n  }\n\n  & .MuiTab-wrapper {\n    align-items: flex-start;\n  }\n"]);return Da=function(){return e},e}function Ga(){var e=Object(c.a)(["\n  color: ",";\n"]);return Ga=function(){return e},e}function qa(){var e=Object(c.a)(["\n  &.MuiIconButton-root {\n    color: ",";\n  }\n"]);return qa=function(){return e},e}function Ua(){var e=Object(c.a)(["\n  &.MuiDivider-root {\n    margin: 5px 0;\n  }\n"]);return Ua=function(){return e},e}function Ra(){var e=Object(c.a)(["\n  &.MuiDivider-root {\n    background-color: ",";\n    opacity: 0.1;\n    margin-bottom: 5px;\n  }\n"]);return Ra=function(){return e},e}function Ha(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 320px;\n  height: 100%;\n  background-color: ",";\n"]);return Ha=function(){return e},e}var Ja=m.b.div(Ha(),function(e){return e.theme.colorBg}),Xa=Object(m.b)(Sn.a)(Ra(),function(e){return e.theme.colorAccentText}),Qa=Object(m.b)(Xa)(Ua()),Za=Object(m.b)(Tn.a)(qa(),function(e){return e.theme.colorAccentText}),Ya=Object(m.b)(Re.a)(Ga(),function(e){return e.theme.colorAccent}),$a=Object(m.b)(He.a)(Da(),function(e){return e.theme.colorAccentText},function(e){return e.theme.fontFamily}),Ka=m.b.div(Wa()),eo=m.b.div(Na(),function(e){return e.theme.colorAccent}),no=Object(Xt.a)(function(e){var n=e.location,t=a.a.useContext(L),r=t.isSideMenuShown,o=t.user,i=t.logToken,c=t.projectId,u=t.setSideMenuVisibility,l=function(){return u(!1)};a.a.useEffect(function(){return l},[]);var s=i&&o,m=a.a.useMemo(function(){return ea([$r.items,$r.currencies].concat(Object(p.a)(44056===c?[$r.physical]:[])))},[c]),d=a.a.useMemo(function(){return ea([$r.inventory,$r.entitlement,$r.manage,$r.purchase])},[]);return a.a.createElement(Pa.a,{open:r,anchor:"left",onOpen:function(){return u(!0)},onClose:l},a.a.createElement(Ja,null,a.a.createElement(Ka,null,s&&44056!==c&&a.a.createElement(Za,{onClick:function(){S("xsolla_login_token"),S("xsolla_last_click_id"),window.location.reload()}},a.a.createElement(Yr.a,{size:"inherit"})),a.a.createElement(eo,null,o.email),a.a.createElement(Za,{onClick:l},a.a.createElement(La.a,null))),a.a.createElement(Xa,null),a.a.createElement(Ya,{value:n.pathname,onChange:l,component:"nav",variant:"scrollable",orientation:"vertical"},m.map(function(e){return a.a.createElement($a,{component:Gr.a,label:e.label,value:e.route,to:e.route})}),a.a.createElement(Qa,null),d.map(function(e){return a.a.createElement($a,{component:Gr.a,label:e.label,value:e.route,to:e.route})}))))});function to(){var e=Object(c.a)(["\n  position: absolute;\n  background-color: ",";\n  opacity: 0.8;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n"]);return to=function(){return e},e}function ro(){var e=Object(c.a)(["\n  background-image: url(",");\n  z-index: -1;\n  background-size: cover;\n  position: fixed;\n  height: 100vh;\n  width: 100vw;\n  left: 0;\n  top: 0;\n"]);return ro=function(){return e},e}function ao(){var e=Object(c.a)(["\n  position: relative;\n  height: 100%;\n  overflow-y: auto;\n"]);return ao=function(){return e},e}var oo=m.b.div(ao()),io=m.b.div(ro(),function(e){return e.theme.backgroundUrl}),co=m.b.div(to(),function(e){return e.theme.colorBg}),uo=function(){var e=a.a.useContext(L);return a.a.useEffect(function(){e.updateVirtualCurrencyBalance()},[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(za,null),a.a.createElement(d.a,{lgUp:!0},a.a.createElement(no,null)),a.a.createElement(br,null),a.a.createElement(Tr,null),a.a.createElement(oo,null,a.a.createElement(u.a,null,a.a.createElement(l.a,{path:$r.items,exact:!0,component:wn}),a.a.createElement(l.a,{path:$r.currencies,component:Nr}),a.a.createElement(l.a,{path:$r.physical,component:We}),a.a.createElement(l.a,{path:$r.inventory,component:je}),a.a.createElement(l.a,{path:$r.manage,component:sn}),a.a.createElement(l.a,{path:$r.entitlement,render:function(){return a.a.createElement(Jt,e)}}),a.a.createElement(l.a,{path:$r.purchase,component:Bt}),a.a.createElement(s.a,{to:$r.items}))),a.a.createElement(io,null,a.a.createElement(co,null)))},lo=t(263),so=t(271),mo={colorText:"#D6E0E7",colorAccent:"#FF005B",colorAccentText:"#F6FAFF",colorBg:"#011627",borderRadius:8,backgroundUrl:"https://res.cloudinary.com/maiik/image/upload/v1549624607/Xsolla/HomePage_Hero_Illustration_1440_oabqmk.jpg",cardWidth:"300px",boxShadow:"0 5px 12px 0px rgba(0,0,0,0.2)",padding:"8px",transitionTime:"0.3s",transitionEasing:"ease-in-out",transition:"all 0.3s ease-in-out",transitionStyle:"0.3s ease-in-out",fontFamily:"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif"},fo={vertical:"bottom",horizontal:"right"},po=function(e){var n=e.children,t=Object(lo.a)("@media ".concat(qn.mobileL));return a.a.createElement(h.SnackbarProvider,{anchorOrigin:fo,dense:t,maxSnack:3,preventDuplicate:t},a.a.createElement(m.a,{theme:mo},a.a.createElement(D,{projectId:window.xProjectId},a.a.createElement(so.a,{basename:"/"},n))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(po,null,a.a.createElement(uo,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[161,2,1]]]);
//# sourceMappingURL=main.8d9b6891.chunk.js.map