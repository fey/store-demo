(this["webpackJsonpreact-store"]=this["webpackJsonpreact-store"]||[]).push([[0],{153:function(e,n,t){e.exports=t(212)},158:function(e,n,t){},212:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(14),c=t.n(i),o=t(33),u=(t(158),t(4)),s=t(11),l=t(27),p=t.n(l),m=t(48),d=t(3),f=t(262),v=t(244);function b(){var e=Object(u.a)(["\n  z-index: 9;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n"]);return b=function(){return e},e}var g=function(e){var n=e.size;return a.a.createElement(h,null,a.a.createElement(v.a,{size:n,color:"primary"}))},h=d.b.div(b()),y=t(8),E=t(72),O=t(5),C=t.n(O),x=t(10),_={items:[],isFetching:!1},j=function(e,n){switch(n.type){case"LOAD_PHYSICAL_GOODS":return Object(y.a)({},e,{isFetching:!0});case"LOAD_PHYSICAL_GOODS_SUCCESS":return Object(y.a)({},e,{items:n.payload.filter((function(e){return Boolean(e.price)})),isFetching:!1});case"LOAD_PHYSICAL_GOODS_FAIL":return Object(y.a)({},e,{isFetching:!1});default:return e}},I={groups:[],isFetching:!1},k=function(e,n){switch(n.type){case"LOAD_VIRTUAL_GOODS":return Object(y.a)({},e,{isFetching:!0});case"LOAD_VIRTUAL_GOODS_SUCCESS":return Object(y.a)({},e,{groups:n.payload,isFetching:!1});case"LOAD_VIRTUAL_GOODS_FAIL":return Object(y.a)({},e,{isFetching:!1});default:return e}},A={items:[],isFetching:!1},S=function(e,n){switch(n.type){case"LOAD_VIRTUAL_CURRENCIES":return Object(y.a)({},e,{isFetching:!0});case"LOAD_VIRTUAL_CURRENCIES_SUCCESS":return Object(y.a)({},e,{items:n.payload,isFetching:!1});case"LOAD_VIRTUAL_CURRENCIES_FAIL":return Object(y.a)({},e,{isFetching:!1});default:return e}},w=t(41),L={items:[],isFetching:!1,isConsuming:!1},T=function(e,n){switch(n.type){case"LOAD_INVENTORY_ITEMS":return Object(y.a)({},e,{isFetching:!0});case"LOAD_INVENTORY_ITEMS_SUCCESS":return Object(y.a)({},e,{items:n.payload,isFetching:!1});case"LOAD_INVENTORY_ITEMS_FAIL":return Object(y.a)({},e,{isFetching:!1});case"CONSUME_ITEM":return Object(y.a)({},e,{isConsuming:!0});case"CONSUME_ITEM_SUCCESS":var t=e.items.findIndex((function(e){return e.sku===n.payload})),r=e.items[t],a=r.quantity>1?[].concat(Object(w.a)(e.items.slice(0,t)),[Object(y.a)({},r,{quantity:r.quantity-1})],Object(w.a)(e.items.slice(t+1))):[].concat(Object(w.a)(e.items.slice(0,t)),Object(w.a)(e.items.slice(t+1)));return Object(y.a)({},e,{items:a,isConsuming:!1});case"CONSUME_ITEM_FAIL":return Object(y.a)({},e,{isConsuming:!1});default:return e}},R={items:[],isFetching:!1,isRedeeming:!1},M=function(e,n){switch(n.type){case"LOAD_ENTITLEMENT":return Object(y.a)({},e,{isFetching:!0});case"LOAD_ENTITLEMENT_SUCCESS":return Object(y.a)({},e,{items:n.payload,isFetching:!1});case"LOAD_ENTITLEMENT_FAIL":return Object(y.a)({},e,{isFetching:!1});case"REDEEM":return Object(y.a)({},e,{isRedeeming:!0});case"REDEEM_SUCCESS":case"REDEEM_FAIL":return Object(y.a)({},e,{isRedeeming:!1});default:return e}},U={id:null,items:[],price:{amount:0,amountWithoutDiscount:0,currency:""},isShown:!1,isLoading:!1,isPurchasing:!1,isClearing:!1,isQuantityChanging:!1,isItemAdding:!1,isItemRemoving:!1,isPaying:!1},D=function(e,n){return e.sku>n.sku?1:-1},F=function(e,n){switch(n.type){case"CART_SHOW":return Object(y.a)({},e,{isShown:!0});case"CART_HIDE":return Object(y.a)({},e,{isShown:!1});case"GET_CART":return Object(y.a)({},e,{isLoading:!0});case"GET_CART_SUCCESS":return Object(y.a)({},e,{id:n.payload.id,items:n.payload.items.filter((function(e){return Boolean(e.price)})).sort(D),price:n.payload.price||U.price,isLoading:!1});case"GET_CART_FAIL":return Object(y.a)({},e,{isLoading:!1});case"ADD_TO_CART":return Object(y.a)({},e,{isItemAdding:!0});case"ADD_TO_CART_SUCCESS":return Object(y.a)({},e,{items:[Object(y.a)({},n.payload,{quantity:1})].concat(Object(w.a)(e.items)).sort(D),price:Object(y.a)({},e.price,{amount:e.price.amount+n.payload.price.amount,amountWithoutDiscount:e.price.amountWithoutDiscount+n.payload.price.amountWithoutDiscount}),isItemAdding:!1});case"ADD_TO_CART_FAIL":return Object(y.a)({},e,{isItemAdding:!1});case"CHANGE_QUANTITY":var t=e.items.findIndex((function(e){return e.sku===n.payload.item.sku})),r=e.items[t];return r?Object(y.a)({},e,{items:[].concat(Object(w.a)(e.items.slice(0,t)),[Object(y.a)({},r,{quantity:n.payload.quantity})],Object(w.a)(e.items.slice(t+1))).sort(D),isQuantityChanging:!0}):e;case"CHANGE_QUANTITY_SUCCESS":case"CHANGE_QUANTITY_FAIL":return Object(y.a)({},e,{isQuantityChanging:!1});case"REMOVE_ITEM":return Object(y.a)({},e,{items:e.items.filter((function(e){return e.sku!==n.payload.sku})).sort(D),isItemRemoving:!0});case"REMOVE_ITEM_SUCCESS":case"REMOVE_ITEM_FAIL":return Object(y.a)({},e,{isItemRemoving:!1});case"CLEAR_CART":return Object(y.a)({},e,{isClearing:!0});case"CLEAR_CART_SUCCESS":return Object(y.a)({},e,{id:U.id,items:U.items,price:U.price,isClearing:!1});case"CLEAR_CART_FAIL":return Object(y.a)({},e,{isClearing:!1});case"PAY_FOR_GOODS":return Object(y.a)({},e,{isPaying:!0});case"PAY_FOR_GOODS_SUCCESS":case"PAY_FOR_GOODS_FAIL":return Object(y.a)({},e,{isPaying:!1});case"PURCHASE":return Object(y.a)({},e,{isPurchasing:!0});case"PURCHASE_SUCCESS":case"PURCHASE_FAIL":return Object(y.a)({},e,{isPurchasing:!1});default:return e}},N={isBuying:!1,item:null},G=function(e,n){switch(n.type){case"ADD_TO_CART":return Object(y.a)({},e,{item:n.payload});case"CLEAR_CART":return Object(y.a)({},e,{item:null});case"BUT_BY_VC":return Object(y.a)({},e,{isBuying:!0});case"BUT_BY_VC_SUCCESS":return Object(y.a)({},e,{item:null,isBuying:!1});case"BUT_BY_VC_FAIL":return Object(y.a)({},e,{isBuying:!1});default:return e}},V={isItemRevoking:!1,isItemRewarding:!1,areVirtualCurrenciesLoading:!1,virtualCurrencies:[],areVirtualItemsLoading:!1,virtualItems:[],users:[{id:"d342dad2-9d59-11e9-a384-42010aa8003f",name:"support@xsolla.com"},{id:"7d8b1f52-7d3f-400b-acd8-46e3a4368596",name:"v.legotkin@xsolla.com"},{id:"27bc1227-48a3-4da8-bb86-f8d093f68805",name:"r.ushakov@xsolla.com"},{id:"a7d10a4e-3f68-43cc-a6b2-893d2c68fd14",name:"p.sanachev@xsolla.com"}],groups:[{id:"items",label:"Items"},{id:"currencies",label:"Currencies"}]},B=function(e,n){switch(n.type){case"LOAD_VIRTUAL_ITEMS":return Object(y.a)({},e,{areVirtualItemsLoading:!0});case"LOAD_VIRTUAL_ITEMS_SUCCESS":return Object(y.a)({},e,{virtualItems:n.payload,areVirtualItemsLoading:!1});case"LOAD_VIRTUAL_ITEMS_FAIL":return Object(y.a)({},e,{areVirtualItemsLoading:!1});case"LOAD_VIRTUAL_CURRENCIES":return Object(y.a)({},e,{areVirtualCurrenciesLoading:!0});case"LOAD_VIRTUAL_CURRENCIES_SUCCESS":return Object(y.a)({},e,{virtualCurrencies:n.payload,areVirtualCurrenciesLoading:!1});case"LOAD_VIRTUAL_CURRENCIES_FAIL":return Object(y.a)({},e,{areVirtualCurrenciesLoading:!1});case"REWARD_ITEMS":return Object(y.a)({},e,{isRewarding:!0});case"REWARD_ITEMS_SUCCESS":case"REWARD_ITEMS_FAIL":return Object(y.a)({},e,{isRewarding:!1});case"REVOKE_ITEMS":return Object(y.a)({},e,{isRevoking:!0});case"REVOKE_ITEMS_SUCCESS":case"REVOKE_ITEMS_FAIL":return Object(y.a)({},e,{isRevoking:!1});default:return e}},P={userInfo:null,token:null,balances:[],areBalancesLoading:!1,isAuthenticating:!1,isLogouting:!1},W=function(e,n){switch(n.type){case"LOGIN":return Object(y.a)({},e,{isAuthenticating:!0});case"LOGIN_SUCCESS":return Object(y.a)({},e,{userInfo:n.payload,isAuthenticating:!1});case"LOGIN_FAIL":return Object(y.a)({},e,{isAuthenticating:!1});case"LOGOUT":return Object(y.a)({},e,{isLogouting:!0});case"LOGOUT_SUCCESS":return P;case"LOGOUT_FAIL":return Object(y.a)({},e,{isLogouting:!1});case"LOAD_USER_BALANCE":return Object(y.a)({},e,{areBalancesLoading:!0});case"LOAD_USER_BALANCE_SUCCESS":return Object(y.a)({},e,{balances:n.payload,areBalancesLoading:!1});case"LOAD_USER_BALANCE_FAIL":return Object(y.a)({},e,{areBalancesLoading:!1});default:return e}},z=a.a.createContext(),H=a.a.createContext(),Y=function(e,n){var t=a.a.useContext(z),r=a.a.useContext(H),i="function"===typeof e?e(t):{},c="function"===typeof n?n(r):{};return Object(y.a)({},i,{},c)},q=function(e){var n=e.storeMode,t=e.children,r=e.api,i=Object(E.useSnackbar)().enqueueSnackbar,c=function(e,n){var t=a.a.useReducer(F,U),r=Object(s.a)(t,2),i=r[0],c=r[1],o=a.a.useCallback((function(){return c({type:"CART_SHOW"})}),[]),u=a.a.useCallback((function(){return c({type:"CART_HIDE"})}),[]),l=a.a.useCallback(Object(x.a)(C.a.mark((function t(){var r,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:"GET_CART"}),t.next=4,e.cartApi.getCart();case 4:r=t.sent,c({type:"GET_CART_SUCCESS",payload:r}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0.__CANCEL__||(a=t.t0.response?t.t0.response.data.errorMessage:t.t0.message,n(a,{variant:"error"})),c({type:"GET_CART_FAIL"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])}))),[e.cartApi,n]),p=a.a.useCallback(function(){var t=Object(x.a)(C.a.mark((function t(r){var a,u;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=i.items,a.some((function(e){return e.sku===r.sku}))){t.next=18;break}return t.prev=3,c({type:"ADD_TO_CART"}),t.next=7,e.cartApi.changeItemQuantity(r.sku,1);case 7:c({type:"ADD_TO_CART_SUCCESS",payload:r}),l(),o(),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),t.t0.__CANCEL__||(l(),u=t.t0.response?t.t0.response.data.errorMessage:t.t0.message,n(u,{variant:"error"})),c({type:"ADD_TO_CART_FAIL"});case 16:t.next=19;break;case 18:o();case 19:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}(),[e.cartApi,l,n,o,i.items]),m=a.a.useCallback(function(){var t=Object(x.a)(C.a.mark((function t(r,a){var i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:"CHANGE_QUANTITY",payload:{item:r,quantity:a}}),t.next=4,e.cartApi.changeItemQuantity(r.sku,a);case 4:l(),c({type:"CHANGE_QUANTITY_SUCCESS"}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0.__CANCEL__||(l(),i=t.t0.response?t.t0.response.data.errorMessage:t.t0.message,n(i,{variant:"error"})),c({type:"CHANGE_QUANTITY_FAIL"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}(),[e.cartApi,l,n]),d=a.a.useCallback(function(){var t=Object(x.a)(C.a.mark((function t(r){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:"REMOVE_ITEM",payload:r}),t.next=4,e.cartApi.removeItemFromCart(r.sku);case 4:l(),c({type:"REMOVE_ITEM_SUCCESS"}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0.__CANCEL__||(l(),a=t.t0.response?t.t0.response.data.errorMessage:t.t0.message,n(a,{variant:"error"})),c({type:"REMOVE_ITEM_FAIL"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),[e.cartApi,l,n]),f=a.a.useCallback(Object(x.a)(C.a.mark((function t(){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:"CLEAR_CART"}),t.next=4,e.cartApi.clearCart();case 4:c({type:"CLEAR_CART_SUCCESS"}),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),r=t.t0.response?t.t0.response.data.errorMessage:t.t0.message,n(r,{variant:"error"}),c({type:"CLEAR_CART_FAIL"});case 12:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e.cartApi,n]),v=a.a.useCallback(Object(x.a)(C.a.mark((function t(){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:"PAY_FOR_GOODS"}),u(),t.next=5,e.cartApi.payForGoods();case 5:f(),c({type:"PAY_FOR_GOODS_SUCCESS"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0.cancelled?n("Payment cancelled",{variant:"warning"}):(r=t.t0.response?t.t0.response.data.errorMessage:t.t0.message,n(r,{variant:"error"})),c({type:"PAY_FOR_GOODS_FAIL"});case 13:case"end":return t.stop()}}),t,null,[[0,9]])}))),[e.cartApi,f,u,n]),b=a.a.useCallback(Object(x.a)(C.a.mark((function t(){var r,a,o,u;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=i.price,a=i.items,o={type:"purchase",user:"d342dad2-9d59-11e9-a384-42010aa8003f",platform:"playstation_network",purchase:{amount:r.amount,currency:r.currency,external_purchase_id:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),external_purchase_date:(new Date).toISOString()},items:a.map((function(e){return{sku:e.sku,quantity:e.quantity}}))},c({type:"PURCHASE"}),t.next=7,e.cartApi.purchaseItems(o);case 7:f(),n("Items are purchased",{variant:"success"}),c({type:"PURCHASE_SUCCESS"}),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),u=t.t0.response?t.t0.response.data.errorMessage:t.t0.message,n(u,{variant:"error"}),c({type:"PURCHASE_FAIL"});case 17:case"end":return t.stop()}}),t,null,[[0,12]])}))),[e.cartApi,f,n,i.items,i.price]);return a.a.useMemo((function(){return[i,{show:o,hide:u,getCart:l,addItem:p,changeItemQuantity:m,removeItem:d,clearCart:f,payForGoods:v,purchase:b}]}),[p,m,f,l,u,v,b,d,o,i])}(r,i),o=Object(s.a)(c,2),u=o[0],l=o[1],p=function(e,n){var t=a.a.useReducer(G,N),r=Object(s.a)(t,2),i=r[0],c=r[1],o=a.a.useCallback((function(e){return c({type:"ADD_TO_CART",payload:e})}),[]),u=a.a.useCallback((function(){return c({type:"CLEAR_CART"})}),[]),l=a.a.useCallback(Object(x.a)(C.a.mark((function t(){var r,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.item,t.prev=1,c({type:"BUT_BY_VC"}),t.next=5,e.cartApi.quickPurchaseByVirtualCurrency(r.sku,r.virtualPrice.sku);case 5:n("Purchased: ".concat(r.name),{variant:"success"}),c({type:"BUT_BY_VC_SUCCESS"}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(1),a=t.t0.response?t.t0.response.data.errorMessage:t.t0.message,n(a,{variant:"error"}),c({type:"BUT_BY_VC_FAIL"});case 14:case"end":return t.stop()}}),t,null,[[1,9]])}))),[e.cartApi,n,i.item]);return a.a.useMemo((function(){return[i,{addItem:o,clearCart:u,buyByVirtualCurrencies:l}]}),[i,o,u,l])}(r,i),m=Object(s.a)(p,2),d=m[0],f=m[1],v=function(e,n){var t=a.a.useReducer(j,_),r=Object(s.a)(t,2),i=r[0],c=r[1],o=a.a.useCallback(Object(x.a)(C.a.mark((function t(){var r,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"LOAD_PHYSICAL_GOODS"}),t.prev=1,t.next=4,e.physicalGoodApi.loadPhysicalGoods();case 4:r=t.sent,c({type:"LOAD_PHYSICAL_GOODS_SUCCESS",payload:r}),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),a=t.t0.response?t.t0.response.errorMessage:t.t0.message,n(a,{variant:"error"}),c({type:"LOAD_PHYSICAL_GOODS_FAIL"});case 13:case"end":return t.stop()}}),t,null,[[1,8]])}))),[e.physicalGoodApi,n]);return a.a.useMemo((function(){return[i,{load:o}]}),[o,i])}(r,i),b=Object(s.a)(v,2),g=b[0],h=b[1],y=function(e,n){var t=a.a.useReducer(M,R),r=Object(s.a)(t,2),i=r[0],c=r[1],o=a.a.useCallback(Object(x.a)(C.a.mark((function t(){var r,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"LOAD_ENTITLEMENT"}),t.prev=1,t.next=4,e.entitlementApi.loadEntitlement();case 4:r=t.sent,c({type:"LOAD_ENTITLEMENT_SUCCESS",payload:r}),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),a=t.t0.response?t.t0.response.errorMessage:t.t0.message,n(a,{variant:"error"}),c({type:"LOAD_ENTITLEMENT_FAIL"});case 13:case"end":return t.stop()}}),t,null,[[1,8]])}))),[e.entitlementApi,n]),u=a.a.useCallback(function(){var t=Object(x.a)(C.a.mark((function t(r,a){var i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"REDEEM"}),t.prev=1,t.next=4,e.entitlementApi.redeem(r,a);case 4:o(),c({type:"REDEEM_SUCCESS"}),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),i=t.t0.response?t.t0.response.errorMessage:t.t0.message,n(i,{variant:"error"}),c({type:"REDEEM_FAIL"});case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}(),[e.entitlementApi,o,n]);return a.a.useMemo((function(){return[i,{load:o,redeem:u}]}),[o,u,i])}(r,i),O=Object(s.a)(y,2),w=O[0],D=O[1],Y=function(e,n){var t=a.a.useReducer(k,I),r=Object(s.a)(t,2),i=r[0],c=r[1],o=a.a.useCallback(Object(x.a)(C.a.mark((function t(){var r,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"LOAD_VIRTUAL_GOODS"}),t.prev=1,t.next=4,e.virtualGoodsApi.loadVirtualItems();case 4:r=t.sent,c({type:"LOAD_VIRTUAL_GOODS_SUCCESS",payload:r}),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),a=t.t0.response?t.t0.response.errorMessage:t.t0.message,n(a,{variant:"error"}),c({type:"LOAD_VIRTUAL_GOODS_FAIL"});case 13:case"end":return t.stop()}}),t,null,[[1,8]])}))),[e.virtualGoodsApi,n]);return a.a.useMemo((function(){return[i,{load:o}]}),[o,i])}(r,i),q=Object(s.a)(Y,2),Q=q[0],J=q[1],Z=function(e,n){var t=a.a.useReducer(S,A),r=Object(s.a)(t,2),i=r[0],c=r[1],o=a.a.useCallback(Object(x.a)(C.a.mark((function t(){var r,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"LOAD_VIRTUAL_CURRENCIES"}),t.prev=1,t.next=4,e.virtualCurrenciesApi.loadVirtualCurrencies();case 4:r=t.sent,c({type:"LOAD_VIRTUAL_CURRENCIES_SUCCESS",payload:r}),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),a=t.t0.response?t.t0.response.errorMessage:t.t0.message,n(a,{variant:"error"}),c({type:"LOAD_VIRTUAL_CURRENCIES_FAIL"});case 13:case"end":return t.stop()}}),t,null,[[1,8]])}))),[e.virtualCurrenciesApi,n]);return a.a.useMemo((function(){return[i,{load:o}]}),[o,i])}(r,i),K=Object(s.a)(Z,2),X=K[0],$=K[1],ee=function(e,n){var t=a.a.useReducer(T,L),r=Object(s.a)(t,2),i=r[0],c=r[1],o=a.a.useCallback(Object(x.a)(C.a.mark((function t(){var r,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"LOAD_INVENTORY_ITEMS"}),t.prev=1,t.next=4,e.inventoryApi.loadInventory();case 4:r=t.sent,c({type:"LOAD_INVENTORY_ITEMS_SUCCESS",payload:r}),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),a=t.t0.response?t.t0.response.errorMessage:t.t0.message,n(a,{variant:"error"}),c({type:"LOAD_INVENTORY_ITEMS_FAIL"});case 13:case"end":return t.stop()}}),t,null,[[1,8]])}))),[e.inventoryApi,n]),u=a.a.useCallback(function(){var t=Object(x.a)(C.a.mark((function t(r){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"CONSUME_ITEM"}),t.prev=1,t.next=4,e.inventoryApi.consumeItem(r.sku,r.instanceId);case 4:c({type:"CONSUME_ITEM_SUCCESS",payload:r.sku}),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(1),a=t.t0.response?t.t0.response.errorMessage:t.t0.message,n(a,{variant:"error"}),c({type:"CONSUME_ITEM_FAIL"});case 12:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),[e.inventoryApi,n]);return a.a.useMemo((function(){return[i,{load:o,consume:u}]}),[u,o,i])}(r,i),ne=Object(s.a)(ee,2),te=ne[0],re=ne[1],ae=function(e,n){var t=a.a.useReducer(W,P),r=Object(s.a)(t,2),i=r[0],c=r[1],o=a.a.useCallback(Object(x.a)(C.a.mark((function t(){var r,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"LOGIN"}),t.prev=1,t.next=4,e.userApi.getUser();case 4:r=t.sent,c({type:"LOGIN_SUCCESS",payload:r}),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),a=t.t0.response?t.t0.response.errorMessage:t.t0.message,n(a,{variant:"error"}),c({type:"LOGIN_FAIL"});case 13:case"end":return t.stop()}}),t,null,[[1,8]])}))),[e.userApi,n]),u=a.a.useCallback(Object(x.a)(C.a.mark((function t(){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"LOGOUT"}),t.prev=1,t.next=4,e.userApi.logout();case 4:c({type:"LOGOUT_SUCCESS"}),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(1),r=t.t0.response?t.t0.response.errorMessage:t.t0.message,n(r,{variant:"error"}),c({type:"LOGOUT_FAIL"});case 12:case"end":return t.stop()}}),t,null,[[1,7]])}))),[e.userApi,n]),l=a.a.useCallback(Object(x.a)(C.a.mark((function t(){var r,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"LOAD_USER_BALANCE"}),t.prev=1,t.next=4,e.userApi.loadBalances();case 4:r=t.sent,c({type:"LOAD_USER_BALANCE_SUCCESS",payload:r}),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),a=t.t0.response?t.t0.response.errorMessage:t.t0.message,n(a,{variant:"error"}),c({type:"LOAD_USER_BALANCE_FAIL"});case 13:case"end":return t.stop()}}),t,null,[[1,8]])}))),[e.userApi,n]);return a.a.useMemo((function(){return[i,{getUser:o,loadBalances:l,logout:u}]}),[i,o,l,u])}(r,i),ie=Object(s.a)(ae,2),ce=ie[0],oe=ie[1],ue=function(e,n){var t=a.a.useReducer(B,V),r=Object(s.a)(t,2),i=r[0],c=r[1],o=a.a.useCallback(Object(x.a)(C.a.mark((function t(){var r,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"LOAD_VIRTUAL_ITEMS"}),t.prev=1,t.next=4,e.inventoryApi.loadVirtualItems();case 4:r=t.sent,c({type:"LOAD_VIRTUAL_ITEMS_SUCCESS",payload:r}),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),a=t.t0.response?t.t0.response.errorMessage:t.t0.message,n(a,{variant:"error"}),c({type:"LOAD_VIRTUAL_ITEMS_FAIL"});case 13:case"end":return t.stop()}}),t,null,[[1,8]])}))),[e.inventoryApi,n]),u=a.a.useCallback(Object(x.a)(C.a.mark((function t(){var r,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"LOAD_VIRTUAL_CURRENCIES"}),t.prev=1,t.next=4,e.inventoryApi.loadVirtualCurrencies();case 4:r=t.sent,c({type:"LOAD_VIRTUAL_CURRENCIES_SUCCESS",payload:r}),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),a=t.t0.response?t.t0.response.errorMessage:t.t0.message,n(a,{variant:"error"}),c({type:"LOAD_VIRTUAL_CURRENCIES_FAIL"});case 13:case"end":return t.stop()}}),t,null,[[1,8]])}))),[e.inventoryApi,n]),l=a.a.useCallback(function(){var t=Object(x.a)(C.a.mark((function t(r,a,i){var o,u,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"REWARD_ITEMS"}),t.prev=1,o={type:"reward",user:r,item:a,count:i},t.next=5,e.inventoryApi.rewardItems(o);case 5:u=t.sent,n("User: '".concat(u.userId,"' got '").concat(u.itemId,"' in quantity ").concat(u.quantity),{variant:"info"}),c({type:"REWARD_ITEMS_SUCCESS"}),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),s=t.t0.response?t.t0.response.errorMessage:t.t0.message,n(s,{variant:"error"}),c({type:"REWARD_ITEMS_FAIL"});case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n,r){return t.apply(this,arguments)}}(),[e.inventoryApi,n]),p=a.a.useCallback(function(){var t=Object(x.a)(C.a.mark((function t(r,a,i){var o,u,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"REVOKE_ITEMS"}),t.prev=1,o={type:"revoke",user:r,item:a,count:i},t.next=5,e.inventoryApi.rewardItems(o);case 5:u=t.sent,n("User: '".concat(u.userId,"' has lost '").concat(u.itemId,"' in quantity ").concat(u.quantity),{variant:"info"}),c({type:"REVOKE_ITEMS_SUCCESS"}),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),s=t.t0.response?t.t0.response.errorMessage:t.t0.message,n(s,{variant:"error"}),c({type:"REVOKE_ITEMS_FAIL"});case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n,r){return t.apply(this,arguments)}}(),[e.inventoryApi,n]);return a.a.useMemo((function(){return[i,{rewardItems:l,revokeItems:p,loadVirtualItems:o,loadVirtualCurrencies:u}]}),[i,o,u,l,p])}(r,i),se=Object(s.a)(ue,2),le=se[0],pe=se[1],me=a.a.useMemo((function(){return{storeMode:n}}),[n]);return a.a.createElement(z.Provider,{value:{config:me,cart:u,user:ce,vcCart:d,physicalGoods:g,entitlement:w,virtualGoods:Q,virtualCurrencies:X,inventory:te,manageInventory:le}},a.a.createElement(H.Provider,{value:{cart:l,user:oe,vcCart:f,physicalGoods:h,entitlement:D,virtualGoods:J,virtualCurrencies:$,inventory:re,manageInventory:pe}},t))},Q=t(122),J=t.n(Q),Z=t(111),K=t(252),X=t(250);function $(){var e=Object(u.a)(["\n  flex-grow: 1;\n  color: ",";\n  font-weight: 600;\n"]);return $=function(){return e},e}function ee(){var e=Object(u.a)(["\n  display: block;\n  margin-top: 8px;\n  height: 120px;\n  flex-shrink: 1;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(",");\n"]);return ee=function(){return e},e}function ne(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  border-top: 1px solid\n    ",";\n  padding: 8px 0;\n  height: 53px;\n  margin: 0px 16px 0 16px;\n"]);return ne=function(){return e},e}function te(){var e=Object(u.a)(["\n  color: ",";\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  font-weight: bolder;\n"]);return te=function(){return e},e}function re(){var e=Object(u.a)(["\n  min-height: 66px;\n  overflow: hidden;\n  flex-grow: 0;\n  padding-bottom: 0;\n  margin-bottom: 8px;\n"]);return re=function(){return e},e}function ae(){var e=Object(u.a)(["\n  position: absolute;\n  color: ",";\n  display: flex;\n  flex-direction: column;\n  width: ",";\n  min-height: ",";\n  background-color: ",";\n  box-shadow: ",";\n  transition: ",";\n  border-radius: ",";\n"]);return ae=function(){return e},e}function ie(){var e=Object(u.a)(["\n  position: relative;\n  z-index: ",";\n  width: ",";\n  height: ",";\n  transition: transform 350ms ease-out, opacity 150ms ease-out;\n  opacity: ",";\n  transform: ",";\n"]);return ie=function(){return e},e}var ce=a.a.memo((function(e){var n=e.image,t=e.order,r=e.name,i=e.value,c=e.description,o=e.actionButtonContent,u=e.onAction,l=e.isLoading,p=a.a.useState(!1),m=Object(s.a)(p,2),d=m[0],f=m[1],b=function(){return f(!0)},g=a.a.useState(!1),h=Object(s.a)(g,2),y=h[0],E=h[1];return a.a.useEffect((function(){setTimeout(b,100*t)}),[]),a.a.createElement(oe,{shown:d,hovered:y},a.a.createElement(ue,{hovered:y,onMouseEnter:function(){return E(!0)},onMouseLeave:function(){return E(!1)}},a.a.createElement(me,{image:n}),a.a.createElement(se,null,a.a.createElement(le,null,r),a.a.createElement(Z.a,{in:y,timeout:"auto",collapsedHeight:"50px"},y?c:a.a.createElement(J.a,{animate:!0,clamp:2},c))),(u||i)&&a.a.createElement(pe,null,i&&a.a.createElement(de,null,i),u&&a.a.createElement(X.a,{variant:"contained",color:"secondary",disabled:l,onClick:u},l?a.a.createElement(v.a,{size:24,color:"primary"}):o))))})),oe=d.b.div(ie(),(function(e){return e.hovered?1:0}),(function(e){return e.theme.shape.cardWidth}),(function(e){return e.theme.shape.cardWidth}),(function(e){return e.shown?1:0}),(function(e){return e.shown?"none":"translateY(20px)"})),ue=d.b.div(ae(),(function(e){return e.theme.palette.text.primary}),(function(e){return e.theme.shape.cardWidth}),(function(e){return e.theme.shape.cardWidth}),(function(e){var n=e.theme;return e.hovered?n.palette.background.default:"transparent"}),(function(e){var n=e.theme;return e.hovered?n.shadows[8]:"none"}),(function(e){return e.theme.transitions.create(["box-shadow","background-color"])}),(function(e){var n=e.theme;return"".concat(n.shape.borderRadius,"px")})),se=Object(d.b)(K.a)(re()),le=d.b.div(te(),(function(e){return e.theme.palette.primary.contrastText})),pe=d.b.div(ne(),(function(e){var n=e.theme;return p()(n.palette.text.primary).alpha(.1).string()})),me=d.b.div(ee(),(function(e){return e.image})),de=d.b.div($(),(function(e){return e.theme.palette.primary.main})),fe=a.a.memo((function(e){var n=e.item,t=e.order,r=e.isLoading,i=e.onConsume,c=a.a.useCallback((function(){return i(n,t)}),[]);return a.a.createElement(ce,{image:n.imageUrl,name:n.name,order:t,isLoading:r,value:"Quantity: ".concat(n.quantity),description:n.description,actionButtonContent:"Consume",onAction:n.remainingUses?c:void 0})}));function ve(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n"]);return ve=function(){return e},e}function be(){var e=Object(u.a)(["\n  display: grid;\n  grid-gap: 30px;\n  grid-template-columns: ",";\n  justify-content: center;\n"]);return be=function(){return e},e}function ge(){var e=Object(u.a)(["\n  padding: 30px 0;\n"]);return ge=function(){return e},e}var he=function(e){return{cartId:e.cart.id,inventoryItems:e.inventory.items,isInventoryFetching:e.inventory.isFetching,isItemConsuming:e.inventory.isConsuming}},ye=function(e){return{consumeItem:e.inventory.consume,loadInventory:e.inventory.load}},Ee=a.a.memo((function(){var e=Y(he,ye),n=e.cartId,t=e.inventoryItems,r=e.consumeItem,i=e.loadInventory,c=e.isInventoryFetching,o=e.isItemConsuming,u=a.a.useState(null),l=Object(s.a)(u,2),p=l[0],m=l[1],d=a.a.useCallback((function(e){m(e.sku),r(e)}),[r]);a.a.useEffect((function(){i()}),[]),a.a.useEffect((function(){i()}),[n]);var f=a.a.useMemo((function(){return t.length>0?a.a.createElement(Ce,null,t.map((function(e,n){return a.a.createElement(fe,{order:n,key:e.sku,item:e,isLoading:o&&p===e.sku,onConsume:d})}))):a.a.createElement(xe,null,"Oops, you have nothing bought yet!")}),[t,o,p,d]);return a.a.createElement(Oe,null,c?a.a.createElement(g,null):f)})),Oe=d.b.div(ge()),Ce=d.b.div(be(),(function(e){var n=e.theme;return"repeat(auto-fit, minmax(\n    ".concat(n.shape.cardWidth,", \n    ").concat(n.shape.cardWidth,"\n  ))")})),xe=d.b.div(ve()),_e=t(44),je=t.n(_e),Ie=t(266);function ke(){var e=Object(u.a)(["\n  && {\n    height: 1em;\n    width: 1em;\n    margin-right: 5px;\n  }\n"]);return ke=function(){return e},e}function Ae(){var e=Object(u.a)(["\n  margin-right: 5px;\n"]);return Ae=function(){return e},e}function Se(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n"]);return Se=function(){return e},e}var we=function(e){var n=e.image,t=e.value,r=e.currency;return a.a.createElement(Le,null,n&&a.a.createElement(Re,{src:n}),r&&a.a.createElement(Te,null,r),t)},Le=d.b.div(Se()),Te=d.b.span(Ae()),Re=Object(d.b)(Ie.a)(ke()),Me=a.a.memo((function(e){var n=e.item,t=e.order,r=e.isLoading,i=e.addToCart,c=a.a.useCallback((function(){return i(n)}),[n,i]),o=a.a.useMemo((function(){return n.price?a.a.createElement(we,{currency:n.price.currency,value:Math.round(100*n.price.amount)/100}):null}),[n]);return a.a.createElement(ce,{image:n.imageUrl,name:n.name,order:t,value:o,isLoading:r,description:n.description,actionButtonContent:a.a.createElement(je.a,null),onAction:c})}));function Ue(){var e=Object(u.a)(["\n  display: grid;\n  padding: 30px 0;\n  grid-gap: 30px;\n  grid-template-columns: ",";\n  justify-content: center;\n"]);return Ue=function(){return e},e}function De(){var e=Object(u.a)(["\n  height: 100%;\n"]);return De=function(){return e},e}var Fe=function(e){return{physicalGoods:e.physicalGoods.items,isItemAdding:e.cart.isItemAdding,arePhysicalGoodsFetching:e.physicalGoods.isFetching}},Ne=function(e){return{addToCart:e.cart.addItem,loadPhysicalGoods:e.physicalGoods.load}},Ge=a.a.memo((function(){var e=Y(Fe,Ne),n=e.physicalGoods,t=e.isItemAdding,r=e.arePhysicalGoodsFetching,i=e.loadPhysicalGoods,c=e.addToCart,o=a.a.useState(null),u=Object(s.a)(o,2),l=u[0],p=u[1],m=a.a.useCallback((function(e){c(e),p(e.sku)}),[c]);a.a.useEffect((function(){0===n.length&&i()}),[]);var d=a.a.useMemo((function(){return n.length>0&&a.a.createElement(Be,null,n.map((function(e,n){return a.a.createElement(Me,{order:n,key:e.sku,item:e,isLoading:t&&l===e.sku,addToCart:m})})))}),[n,t,l,m]);return a.a.createElement(Ve,null,r?a.a.createElement(g,null):d)})),Ve=d.b.div(De()),Be=d.b.div(Ue(),(function(e){var n=e.theme;return"repeat(auto-fit, minmax(\n    ".concat(n.shape.cardWidth,", \n    ").concat(n.shape.cardWidth,"\n  ))")})),Pe=t(258),We=t(264),ze=t(259),He=t(253);function Ye(){var e=Object(u.a)(["\n  padding: 30px 0;\n\n  & .MuiTabs-flexContainer {\n    justify-content: center;\n  }\n"]);return Ye=function(){return e},e}var qe=a.a.memo((function(e){var n=e.groups,t=e.activeGroup,r=e.onGroupChange,i=a.a.useCallback((function(e,n){return r(n)}),[r]);return a.a.createElement(Qe,{value:t||!1,onChange:i,variant:"scrollable",textColor:"primary",indicatorColor:"primary"},n.map((function(e){return a.a.createElement(He.a,{value:e.id,key:e.id,label:e.label})})))})),Qe=Object(d.b)(ze.a)(Ye());function Je(){var e=Object(u.a)(["\n  && {\n    margin-right: 10px;\n  }\n"]);return Je=function(){return e},e}function Ze(){var e=Object(u.a)(["\n  position: relative;\n"]);return Ze=function(){return e},e}function Ke(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding: 20px 0;\n"]);return Ke=function(){return e},e}function Xe(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-column-gap: 20px;\n"]);return Xe=function(){return e},e}function $e(){var e=Object(u.a)(["\n  width: 100%;\n"]);return $e=function(){return e},e}function en(){var e=Object(u.a)(["\n  max-width: 400px;\n  width: 100%;\n  padding: 20px;\n"]);return en=function(){return e},e}function nn(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 50px;\n"]);return nn=function(){return e},e}var tn=function(e){return{users:e.manageInventory.users,groups:e.manageInventory.groups,virtualItems:e.manageInventory.virtualItems,virtualCurrencies:e.manageInventory.virtualCurrencies,isRewarding:e.manageInventory.isRewarding,isRevoking:e.manageInventory.isRevoking,isLoading:e.manageInventory.areVirtualCurrenciesLoading||e.manageInventory.areVirtualItemsLoading}},rn=function(e){return{rewardItems:e.manageInventory.rewardItems,revokeItems:e.manageInventory.revokeItems,loadVirtualItems:e.manageInventory.loadVirtualItems,loadVirtualCurrencies:e.manageInventory.loadVirtualCurrencies}},an=a.a.memo((function(){var e=Y(tn,rn),n=e.users,t=e.groups,r=e.virtualItems,i=e.virtualCurrencies,c=e.isRewarding,o=e.isRevoking,u=e.isLoading,l=e.rewardItems,p=e.revokeItems,m=e.loadVirtualItems,d=e.loadVirtualCurrencies,f=a.a.useState(""),b=Object(s.a)(f,2),h=b[0],y=b[1],E=a.a.useState(""),O=Object(s.a)(E,2),C=O[0],x=O[1],_=a.a.useState(""),j=Object(s.a)(_,2),I=j[0],k=j[1],A=a.a.useState(1),S=Object(s.a)(A,2),w=S[0],L=S[1],T=a.a.useMemo((function(){return n.map((function(e){return a.a.createElement(We.a,{value:e.id},e.name)}))}),[n]),R=a.a.useMemo((function(){return r.map((function(e){return a.a.createElement(We.a,{value:e.sku},e.name)}))}),[r]),M=a.a.useMemo((function(){return i.map((function(e){return a.a.createElement(We.a,{value:e.sku},e.name)}))}),[i]),U=a.a.useMemo((function(){return{items:{name:"Item",items:r,options:R},currencies:{name:"Currency",items:i,options:M}}}),[M,R,i,r]),D=a.a.useCallback((function(){l(h,I,w)}),[w,l,I,h]),F=a.a.useCallback((function(){p(h,I,w)}),[w,p,I,h]),N=a.a.useCallback((function(e){return e.preventDefault()}),[]),G=a.a.useCallback((function(e){return y(e.target.value)}),[]),V=a.a.useCallback((function(e){return k(e.target.value)}),[]),B=a.a.useCallback((function(e){return L(e.target.value>=1?e.target.value:1)}),[]);return a.a.useEffect((function(){y(n[0]?n[0].id:null)}),[]),a.a.useEffect((function(){x(t[0]?t[0].id:null)}),[]),a.a.useEffect((function(){C&&U[C]&&U[C].items[0]&&(k(U[C].items[0].sku),L(1))}),[C,U]),a.a.useEffect((function(){m()}),[]),a.a.useEffect((function(){d()}),[]),a.a.useMemo((function(){return a.a.createElement(cn,null,u?a.a.createElement(g,null):a.a.createElement(on,{onSubmit:N},a.a.createElement(un,{select:!0,label:"User",value:h,color:"primary",onChange:G},T),a.a.createElement(qe,{groups:t,activeGroup:C,onGroupChange:x}),a.a.createElement(sn,null,U[C]&&a.a.createElement(un,{select:!0,label:U[C].name,value:I,color:"primary",onChange:V},U[C].options),a.a.createElement(un,{type:"number",label:"Quantity",value:w,color:"primary",onChange:B})),a.a.createElement(ln,null,a.a.createElement(pn,null,a.a.createElement(mn,{variant:"contained",disabled:c,onClick:D},c?a.a.createElement(v.a,{size:24,color:"primary"}):"Reward"),a.a.createElement(X.a,{variant:"contained",disabled:o,onClick:F},o?a.a.createElement(v.a,{size:24,color:"primary"}):"Revoke")))))}),[C,t,U,N,V,B,F,D,G,u,o,c,w,I,h,T])})),cn=d.b.div(nn()),on=d.b.form(en()),un=Object(d.b)(Pe.a)($e()),sn=d.b.div(Xe()),ln=d.b.div(Ke()),pn=d.b.div(Ze()),mn=Object(d.b)(X.a)(Je());function dn(){var e=Object(u.a)(["\n  color: ",";\n  opacity: 0.8;\n"]);return dn=function(){return e},e}var fn=a.a.memo((function(e){var n=e.product,t=e.order,r=e.isLoading,i=e.addToCart,c=e.buyByVC,o=e.isPurchased,u=a.a.useCallback((function(){return c(n)}),[n,c]),s=a.a.useCallback((function(){return i(n)}),[n,i]),l=a.a.useMemo((function(){return n.virtualPrice?u:s}),[n,u,s]),p=a.a.useMemo((function(){return n.virtualPrice?"Buy now":a.a.createElement(je.a,null)}),[n]),m=a.a.useMemo((function(){return o?a.a.createElement(vn,null,"Purchased"):n.virtualPrice?a.a.createElement(we,{image:n.virtualPrice.imageUrl,value:n.virtualPrice.amount}):a.a.createElement(we,{currency:n.price.currency,value:Math.round(100*n.price.amount)/100})}),[n,o]);return a.a.createElement(ce,{image:n.imageUrl,name:n.name,order:t,value:m,isLoading:r,description:n.description,actionButtonContent:p,onAction:o?void 0:l})})),vn=d.b.div(dn(),(function(e){return e.theme.palette.text.primary}));function bn(){var e=Object(u.a)(["\n  color: ",";\n  min-height: 2em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  width: 100%;\n  font-size: 1.2em;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n"]);return bn=function(){return e},e}function gn(){var e=Object(u.a)(["\n  display: grid;\n  padding: 30px 0;\n  grid-gap: 30px;\n  grid-template-columns: ",";\n  justify-content: center;\n"]);return gn=function(){return e},e}function hn(){var e=Object(u.a)(["\n  background-color: transparent;\n"]);return hn=function(){return e},e}var yn=function(e){return{groups:e.virtualGoods.groups,inventoryItems:e.inventory.items,cartId:e.cart.id,isLoading:e.virtualGoods.isFetching||e.inventory.isFetching,isItemAdding:e.cart.isItemAdding}},En=function(e){return{loadVirtualGoods:e.virtualGoods.load,loadInventory:e.inventory.load,addItemToCart:e.cart.addItem,addItemToVCCart:e.vcCart.addItem}},On=a.a.memo((function(){var e=Y(yn,En),n=e.groups,t=e.cartId,r=e.isLoading,i=e.loadVirtualGoods,c=e.inventoryItems,o=e.loadInventory,u=e.addItemToCart,l=e.isItemAdding,p=e.addItemToVCCart,m=a.a.useState(null),d=Object(s.a)(m,2),f=d[0],v=d[1],b=a.a.useState(null),h=Object(s.a)(b,2),y=h[0],E=h[1],O=a.a.useMemo((function(e){return c.some((function(n){return e===n.sku}))}),[c]),C=a.a.useMemo((function(){return n.map((function(e){return{id:e.groupId,label:e.groupName}}))}),[n]),x=a.a.useCallback((function(e){u(e),E(e.sku)}),[u]);a.a.useEffect((function(){v(n[0]?n[0].groupId:null),E(null)}),[n]),a.a.useEffect((function(){0===n.length&&i()}),[n.length,i]),a.a.useEffect((function(){t&&o()}),[t,o]);var _=a.a.useMemo((function(){return n.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement(qe,{groups:C,activeGroup:f,onGroupChange:v}),n.map((function(e){return f===e.groupId&&a.a.createElement(a.a.Fragment,{key:e.groupId},a.a.createElement(_n,null,e.groupName),a.a.createElement(xn,null,e.items.map((function(e,n){return a.a.createElement(fn,{order:n,key:e.sku,product:e,isPurchased:null===e.isConsumable&&O(e.sku),addToCart:x,isLoading:l&&y===e.sku,buyByVC:p})}))))})))}),[f,y,l,n,x,O,C,p]);return a.a.createElement(Cn,null,r?a.a.createElement(g,null):_)})),Cn=d.b.div(hn()),xn=d.b.div(gn(),(function(e){var n=e.theme;return"repeat(auto-fit, minmax(\n    ".concat(n.shape.cardWidth,", \n    ").concat(n.shape.cardWidth,"\n  ))")})),_n=d.b.div(bn(),(function(e){return e.theme.palette.primary.contrastText}));function jn(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding: 20px 0;\n"]);return jn=function(){return e},e}function In(){var e=Object(u.a)(["\n  && {\n    min-width: 140px;\n  }\n"]);return In=function(){return e},e}function kn(){var e=Object(u.a)(["\n  && {\n    width: 100%;\n    margin-bottom: 20px;\n  }\n"]);return kn=function(){return e},e}function An(){var e=Object(u.a)(["\n  max-width: 400px;\n  width: 100%;\n  padding: 20px;\n"]);return An=function(){return e},e}function Sn(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-top: 50px;\n"]);return Sn=function(){return e},e}var wn=function(e){return{entitlementItems:e.entitlement.items,isEntitlementFetching:e.entitlement.isFetching,isItemRedeeming:e.entitlement.isRedeeming}},Ln=function(e){return{redeem:e.entitlement.redeem,loadEntitlement:e.entitlement.load}},Tn=function(){var e=Y(wn,Ln),n=e.entitlementItems,t=e.isEntitlementFetching,r=e.isItemRedeeming,i=e.redeem,c=e.loadEntitlement,o=a.a.useState(""),u=Object(s.a)(o,2),l=u[0],p=u[1],m=a.a.useState(""),d=Object(s.a)(m,2),f=d[0],b=d[1],g=a.a.useCallback((function(e){return b(e.target.value)}),[]),h=a.a.useCallback((function(e){return p(e.target.value)}),[]),y=a.a.useCallback((function(e){e.preventDefault(),i(f,l)}),[i,f,l]);a.a.useEffect((function(){c()}),[]);var E=a.a.useMemo((function(){return n.length>0?n.map((function(e,n){return a.a.createElement(ce,{key:e.sku,order:n,name:e.name,description:e.description,image:e.imageUrl})})):a.a.createElement("div",null,"Oops, you have no games yet!")}),[n]);return a.a.createElement(Rn,null,a.a.createElement(Mn,{onSubmit:y},a.a.createElement(Un,{color:"primary",placeholder:"Enter your code",onChange:g,value:f}),a.a.createElement(Un,{color:"primary",placeholder:"Enter sku of your game",onChange:h,value:l}),a.a.createElement(Fn,null,a.a.createElement(Dn,{color:"secondary",type:"submit",variant:"contained"},r?a.a.createElement(v.a,{size:24,color:"primary"}):"Redeem Code"))),a.a.createElement("div",null,t?a.a.createElement(v.a,{size:24,color:"primary"}):E))},Rn=d.b.div(Sn()),Mn=d.b.form(An()),Un=Object(d.b)(Pe.a)(kn()),Dn=Object(d.b)(X.a)(In()),Fn=d.b.div(jn()),Nn=t(78),Gn=t.n(Nn),Vn=t(260),Bn=t(254),Pn=t(249),Wn=t(265),zn=t(255),Hn=t(126),Yn=t(81);function qn(e){return{name:e,fractionSize:2,symbol:{grapheme:e,template:null,rtl:!1},uniqSymbol:null}}function Qn(e,n,t){var r=parseFloat(e);if(!n||isNaN(r))return{formattedCurrency:e+" "+n,dir:"ltr"};var a=function(e){return e&&Hn[e.toUpperCase()]||qn(e)}(n),i=function(e){return e&&Yn[function(e){return[e.substr(0,2).toLowerCase(),e.substr(3,2).toUpperCase()].join("_")}(e)]||Yn.en_US}(t),c=r<0?"-":"",o=a.fractionSize,u=a.symbol,s=i.thousands,l=i.decimal;u&&!u.rtl||" "!==i.thousands||(s=",",l=".");var p=Math.abs(r).toFixed(o).split(".");p[0]=p[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+s);var m=p.join(l),d=c+m+" "+n,f=!1;return u&&u.template&&(d=c+u.template.replace("1",m).replace("$",u.grapheme),f=u.rtl),{formattedCurrency:d,dir:f?"rtl":"ltr"}}var Jn="375px",Zn="425px",Kn="768px",Xn="1024px",$n="1440px",et="1920px",nt="2560px",tt={mobileS:"(max-width: ".concat("320px",")"),mobileM:"(max-width: ".concat(Jn,")"),mobileL:"(max-width: ".concat(Zn,")"),tablet:"(max-width: ".concat(Kn,")"),laptop:"(max-width: ".concat(Xn,")"),laptopL:"(max-width: ".concat($n,")"),desktop:"(max-width: ".concat(et,")"),retina:"(max-width: ".concat(nt,")")},rt="/",at="/crystals",it="/physical",ct="/inventory",ot="/entitlement",ut="/manage",st="/purchase",lt="/projects/:projectId",pt=[{route:rt,label:"Items"},{route:at,label:"Currencies"},{route:it,label:"Merchandise"},{route:ct,label:"Inventory"},{route:ot,label:"Entitlement"},{route:ut,label:"Manage"},{route:st,label:"Server purchase"}],mt=function(e){return pt.filter((function(n){return e.includes(n.route)})).sort((function(n,t){return e.indexOf(n.route)-e.indexOf(t.route)}))},dt=t(127),ft=t.n(dt),vt=t(129),bt=t.n(vt),gt=t(128),ht=t.n(gt);function yt(){var e=Object(u.a)(["\n  @media "," {\n    && {\n      width: 1.5em;\n      height: 1.5em;\n    }\n  }\n"]);return yt=function(){return e},e}function Et(){var e=Object(u.a)(["\n  @media "," {\n    && {\n      width: 1.5em;\n      height: 1.5em;\n    }\n  }\n"]);return Et=function(){return e},e}function Ot(){var e=Object(u.a)(["\n  @media "," {\n    && {\n      width: 1.5em;\n      height: 1.5em;\n    }\n  }\n"]);return Ot=function(){return e},e}function Ct(){var e=Object(u.a)(["\n  font-size: 0.8em;\n  opacity: 0.3;\n"]);return Ct=function(){return e},e}function xt(){var e=Object(u.a)(["\n  color: ",";\n  font-weight: 600;\n"]);return xt=function(){return e},e}function _t(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n\n  @media "," {\n    flex-grow: 1;\n  }\n"]);return _t=function(){return e},e}function jt(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n\n  @media "," {\n    grid-column: 2 / 2;\n  }\n"]);return jt=function(){return e},e}function It(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: bolder;\n  min-width: 44px;\n  font-size: 1.2em;\n"]);return It=function(){return e},e}function kt(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n"]);return kt=function(){return e},e}function At(){var e=Object(u.a)(["\n  font-weight: bolder;\n  margin-bottom: 5px;\n"]);return At=function(){return e},e}function St(){var e=Object(u.a)(["\n  padding: 10px;\n"]);return St=function(){return e},e}function wt(){var e=Object(u.a)(["\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(",");\n"]);return wt=function(){return e},e}function Lt(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-columns: 0.7fr 1.3fr 1fr;\n  color: ",";\n  overflow: hidden;\n  height: 130px;\n\n  @media "," {\n    height: 185px;\n    grid-template-columns: 0.9fr 1.1fr;\n    grid-template-rows: 120px 1fr;\n  }\n"]);return Lt=function(){return e},e}var Tt=a.a.memo((function(e){var n=e.item,t=e.changeItemQuantity,r=e.removeItem,i=a.a.useMemo((function(){return Math.round(n.price.amount*n.quantity*100)/100}),[n.price.amount,n.quantity]),c=a.a.useMemo((function(){return Math.round(100*n.price.amount/100)}),[n.price.amount]),o=a.a.useCallback((function(){return t(n,n.quantity-1)}),[n,t]),u=a.a.useCallback((function(){return t(n,n.quantity+1)}),[n,t]),s=a.a.useCallback((function(){return r(n)}),[n,r]);return a.a.createElement(Rt,null,a.a.createElement(Mt,{image:n.imageUrl}),a.a.createElement(Ut,null,a.a.createElement(Dt,null,n.name),a.a.createElement(Vt,null,a.a.createElement(Bt,null,n.price.currency," ",i),n.quantity>1&&a.a.createElement(Pt,null,n.price.currency," ",c," for one item"))),a.a.createElement(Gt,null,a.a.createElement(Ft,null,n.quantity>1?a.a.createElement(Bn.a,{color:"inherit",onClick:o},a.a.createElement(zt,null)):a.a.createElement(Bn.a,{color:"inherit",onClick:s},a.a.createElement(Wt,null)),a.a.createElement(Nt,null,n.quantity),a.a.createElement(Bn.a,{color:"inherit",onClick:u},a.a.createElement(Ht,null)))))})),Rt=d.b.div(Lt(),(function(e){return e.theme.palette.text.primary}),tt.mobileL),Mt=d.b.div(wt(),(function(e){return e.image})),Ut=d.b.div(St()),Dt=d.b.div(At()),Ft=d.b.div(kt()),Nt=d.b.div(It()),Gt=d.b.div(jt(),tt.mobileL),Vt=d.b.div(_t(),tt.mobileL),Bt=d.b.div(xt(),(function(e){return e.theme.palette.primary.main})),Pt=d.b.div(Ct()),Wt=Object(d.b)(ft.a)(Ot(),tt.mobileL),zt=Object(d.b)(ht.a)(Et(),tt.mobileL),Ht=Object(d.b)(bt.a)(yt(),tt.mobileL);function Yt(){var e=Object(u.a)(["\n  min-width: 80px;\n  text-align: right;\n"]);return Yt=function(){return e},e}function qt(){var e=Object(u.a)(["\n  display: flex;\n  flex-grow: 1;\n  font-weight: bold;\n  margin-right: 10px;\n\n  @media "," {\n    justify-content: flex-end;\n    width: 100%;\n    margin-bottom: 15px;\n    margin-right: 0;\n  }\n"]);return qt=function(){return e},e}function Qt(){var e=Object(u.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  grid-column-gap: 7px;\n"]);return Qt=function(){return e},e}function Jt(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  flex-wrap: wrap;\n  border-top: 1px solid\n    ",";\n  padding: 24px 0 24px 0;\n"]);return Jt=function(){return e},e}function Zt(){var e=Object(u.a)(["\n  display: grid;\n  grid-row-gap: 30px;\n  flex-grow: 1;\n  padding: 16px 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n"]);return Zt=function(){return e},e}function Kt(){var e=Object(u.a)(["\n  && {\n    position: absolute;\n    width: 100%;\n  }\n"]);return Kt=function(){return e},e}function Xt(){var e=Object(u.a)(["\n  position: relative;\n"]);return Xt=function(){return e},e}function $t(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: ",";\n  border-bottom: 1px solid\n    ",";\n  z-index: 10;\n  padding: 24px 0 8px 0;\n"]);return $t=function(){return e},e}function er(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  padding: 0 32px;\n  width: 680px;\n  max-height: 80vh;\n  outline: none;\n\n  @media "," {\n    padding: 0 16px;\n    max-height: none;\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n  }\n"]);return er=function(){return e},e}function nr(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return nr=function(){return e},e}var tr=function(e){return{isPublic:"public"===e.config.storeMode,cartItems:e.cart.items,price:e.cart.price,isCartShown:e.cart.isShown,isCartLoading:e.cart.isLoading,isItemRemoving:e.cart.isItemRemoving,isCartClearing:e.cart.isClearing}},rr=function(e){return{hideCart:e.cart.hide,getCart:e.cart.getCart,removeItem:e.cart.removeItem,changeItemQuantity:e.cart.changeItemQuantity,purchase:e.cart.purchase,payForGoods:e.cart.payForGoods}},ar=a.a.memo((function(){var e=Y(tr,rr),n=e.cartItems,t=e.price,r=e.isCartShown,i=e.isCartLoading,c=e.isItemRemoving,o=e.isPublic,u=e.changeItemQuantity,s=e.getCart,l=e.hideCart,p=e.removeItem,d=e.payForGoods,f=Object(m.g)(),v=i||c,b=a.a.useMemo((function(){var e=n.filter((function(e){return Boolean(e.price)})).reduce((function(e,n){return e+n.price.amount*n.quantity}),0);return Math.round(100*e)/100}),[n]),g=a.a.useCallback((function(){l(),f.push(st)}),[l,f]);return a.a.useEffect((function(){s()}),[]),a.a.useMemo((function(){return a.a.createElement(ir,{open:r,onClose:l,closeAfterTransition:!0,BackdropComponent:Wn.a,BackdropProps:{timeout:250}},a.a.createElement(Pn.a,{in:r,timeout:250},a.a.createElement(cr,null,a.a.createElement(or,null,a.a.createElement("h4",null,"Cart"),a.a.createElement(Bn.a,{color:"inherit",onClick:l},a.a.createElement(Gn.a,null))),a.a.createElement(lr,null,n.length>0?n.map((function(e){return a.a.createElement(Tt,{key:e.sku,item:e,removeItem:p,changeItemQuantity:u})})):a.a.createElement("p",null,"Empty cart")),a.a.createElement(ur,null,v&&a.a.createElement(sr,null)),a.a.createElement(pr,null,n.length>0&&a.a.createElement(dr,null,"Subtotal:",a.a.createElement(fr,null,Qn(b,t.currency||n[0].price.currency).formattedCurrency)),a.a.createElement(mr,null,!o&&a.a.createElement(X.a,{variant:"contained",color:"secondary",disabled:0===n.length,onClick:g},"Buy on PS4"),a.a.createElement(X.a,{variant:"contained",color:"secondary",disabled:0===n.length,onClick:d},"Buy on Xsolla"))))))}),[g,n,b,u,l,r,v,o,d,t.currency,p])})),ir=Object(d.b)(Vn.a)(nr()),cr=d.b.div(er(),(function(e){var n=e.theme;return"".concat(n.shape.borderRadius,"px")}),(function(e){return e.theme.palette.background.default}),(function(e){return e.theme.palette.text.primary}),tt.tablet),or=d.b.div($t(),(function(e){return e.theme.palette.text.primary}),(function(e){var n=e.theme;return p()(n.palette.text.primary).alpha(.1).string()})),ur=d.b.div(Xt()),sr=Object(d.b)(zn.a)(Kt()),lr=d.b.div(Zt()),pr=d.b.div(Jt(),(function(e){var n=e.theme;return p()(n.palette.text.primary).alpha(.1).string()})),mr=d.b.div(Qt()),dr=d.b.div(qt(),tt.tablet),fr=d.b.div(Yt()),vr=function(e){return{user:e.user.userInfo}},br=function(e){return{getUser:e.user.getUser}},gr=a.a.memo((function(){var e=Y(vr,br).getUser;return a.a.useEffect((function(){e()}),[]),null}));function hr(){var e=Object(u.a)(["\n  display: grid;\n  grid-column-gap: 10px;\n  grid-auto-flow: column;\n  color: ",";\n"]);return hr=function(){return e},e}var yr=function(e){return{balances:e.user.balances,areBalancesLoading:e.user.areBalancesLoading}},Er=function(e){return{loadBalances:e.user.loadBalances}},Or=a.a.memo((function(){var e=Y(yr,Er),n=e.balances,t=e.areBalancesLoading,r=e.loadBalances;return a.a.useEffect((function(){r()}),[]),a.a.useMemo((function(){return a.a.createElement(Cr,null,t?a.a.createElement(v.a,{size:24,color:"primary"}):n.map((function(e){return a.a.createElement(we,{key:e.sku,image:e.imageUrl,value:e.amount})})))}),[t,n])})),Cr=d.b.div(hr(),(function(e){return e.theme.palette.text.primary})),xr=t(256);function _r(){var e=Object(u.a)(["\n  && {\n    position: absolute;\n    width: 100%;\n  }\n"]);return _r=function(){return e},e}function jr(){var e=Object(u.a)(["\n  position: relative;\n"]);return jr=function(){return e},e}function Ir(){var e=Object(u.a)(["\n  &.MuiDivider-root {\n    background-color: ",";\n    opacity: 0.1;\n    margin-bottom: 5px;\n  }\n"]);return Ir=function(){return e},e}function kr(){var e=Object(u.a)(["\n  min-width: 80px;\n  text-align: right;\n"]);return kr=function(){return e},e}function Ar(){var e=Object(u.a)(["\n  display: flex;\n  font-weight: bold;\n  color: ",";\n  margin-right: 10px;\n\n  @media "," {\n    justify-content: flex-end;\n    width: 100%;\n    margin-bottom: 15px;\n    margin-right: 0;\n  }\n"]);return Ar=function(){return e},e}function Sr(){var e=Object(u.a)(["\n  display: flex;\n\n  @media "," {\n    justify-content: flex-end;\n    width: 100%;\n  }\n"]);return Sr=function(){return e},e}function wr(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  padding: 24px 0 24px 0;\n"]);return wr=function(){return e},e}function Lr(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ",";\n  height: 100%;\n"]);return Lr=function(){return e},e}function Tr(){var e=Object(u.a)(["\n  display: grid;\n  grid-row-gap: 30px;\n  padding: 16px 0;\n"]);return Tr=function(){return e},e}function Rr(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  max-width: 600px;\n  padding: 0 20px;\n"]);return Rr=function(){return e},e}function Mr(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 50px;\n"]);return Mr=function(){return e},e}var Ur=function(e){return{cartItems:e.cart.items,price:e.cart.price,isCartLoading:e.cart.isLoading,isPurchasing:e.cart.isPurchasing,isCartClearing:e.cart.isClearing}},Dr=function(e){return{removeItem:e.cart.removeItem,purchase:e.cart.purchase,changeItemQuantity:e.cart.changeItemQuantity}},Fr=a.a.memo((function(){var e=Y(Ur,Dr),n=e.price,t=e.cartItems,r=e.isCartLoading,i=e.isPurchasing,c=e.isCartClearing,o=e.removeItem,u=e.purchase,s=e.changeItemQuantity,l=a.a.useMemo((function(){return Math.round(100*t.reduce((function(e,n){return e+n.price.amount*n.quantity}),0))/100}),[t]),p=a.a.useMemo((function(){return t.length>0?a.a.createElement(Vr,null,t.map((function(e){return a.a.createElement(a.a.Fragment,{key:e.sku},a.a.createElement(Tt,{item:e,removeItem:o,changeItemQuantity:s}),a.a.createElement(Yr,null))}))):a.a.createElement(Br,null,"Oops, you have nothing bought yet!")}),[t,o,s]),m=a.a.useMemo((function(){return t.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement(qr,null,r&&a.a.createElement(Qr,null)),a.a.createElement(Pr,null,a.a.createElement(zr,null,"Subtotal:",a.a.createElement(Hr,null,Qn(l,n.currency||t[0].price.currency).formattedCurrency)),a.a.createElement(Wr,null,a.a.createElement(X.a,{variant:"contained",disabled:i,onClick:u},i?a.a.createElement(v.a,{size:24,color:"primary"}):"Grant purchase"))))}),[t,r,n.currency,i,u]);return a.a.createElement(Nr,null,c?a.a.createElement(g,null):a.a.createElement(Gr,null,p,m))})),Nr=d.b.div(Mr()),Gr=d.b.div(Rr()),Vr=d.b.div(Tr()),Br=d.b.div(Lr(),(function(e){return e.theme.palette.text.primary})),Pr=d.b.div(wr()),Wr=d.b.div(Sr(),tt.tablet),zr=d.b.div(Ar(),(function(e){return e.theme.palette.text.primary}),tt.tablet),Hr=d.b.div(kr()),Yr=Object(d.b)(xr.a)(Ir(),(function(e){return e.theme.palette.primary.contrastText})),qr=d.b.div(jr()),Qr=Object(d.b)(zn.a)(_r());function Jr(){var e=Object(u.a)(["\n  font-weight: bolder;\n  margin-bottom: 5px;\n"]);return Jr=function(){return e},e}function Zr(){var e=Object(u.a)(["\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(",");\n"]);return Zr=function(){return e},e}function Kr(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-columns: 0.7fr 1.3fr 1fr;\n  overflow: hidden;\n  height: 130px;\n\n  @media "," {\n    height: 185px;\n    grid-template-columns: 0.9fr 1.1fr;\n    grid-template-rows: 120px 1fr;\n  }\n"]);return Kr=function(){return e},e}var Xr=a.a.memo((function(e){var n=e.item;return a.a.createElement($r,null,a.a.createElement(ea,{image:n.imageUrl}),a.a.createElement("div",null,a.a.createElement(na,null,n.name),a.a.createElement("div",null,n.description)))})),$r=d.b.div(Kr(),tt.mobileL),ea=d.b.div(Zr(),(function(e){return e.image})),na=d.b.div(Jr());function ta(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: flex-end;\n  border-top: 1px solid\n    ",";\n  padding: 24px 0 24px 0;\n"]);return ta=function(){return e},e}function ra(){var e=Object(u.a)(["\n  display: grid;\n  grid-row-gap: 30px;\n  flex-grow: 1;\n  padding: 16px 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n"]);return ra=function(){return e},e}function aa(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid\n    ",";\n  z-index: 10;\n  padding: 24px 0 8px 0;\n"]);return aa=function(){return e},e}function ia(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  padding: 0 32px;\n  width: 680px;\n  max-height: 80vh;\n  outline: none;\n\n  @media "," {\n    padding: 0 16px;\n    max-height: none;\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n  }\n"]);return ia=function(){return e},e}function ca(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return ca=function(){return e},e}var oa=function(e){return{item:e.vcCart.item,isBuying:e.vcCart.isBuying}},ua=function(e){return{clearCart:e.vcCart.clearCart,buyByVirtualCurrencies:e.vcCart.buyByVirtualCurrencies}},sa=a.a.memo((function(){var e=Y(oa,ua),n=e.item,t=e.clearCart,r=e.isBuying,i=e.buyByVirtualCurrencies;return a.a.useMemo((function(){return a.a.createElement(la,{open:Boolean(n),onClose:t,closeAfterTransition:!0,BackdropComponent:Wn.a,BackdropProps:{timeout:250}},a.a.createElement(Pn.a,{in:Boolean(n),timeout:250},a.a.createElement(pa,null,a.a.createElement(ma,null,a.a.createElement("h4",null,"Confirm"),a.a.createElement(Bn.a,{color:"inherit",onClick:t},a.a.createElement(Gn.a,null))),a.a.createElement(da,null,n&&a.a.createElement(Xr,{item:n})),a.a.createElement(fa,null,a.a.createElement(X.a,{variant:"contained",disabled:r,onClick:i},r?a.a.createElement(v.a,{size:24,color:"primary"}):"Buy")))))}),[i,t,r,n])})),la=Object(d.b)(Vn.a)(ca()),pa=d.b.div(ia(),(function(e){var n=e.theme;return"".concat(n.shape.borderRadius,"px")}),(function(e){return e.theme.palette.background.default}),(function(e){return e.theme.palette.text.primary}),tt.tablet),ma=d.b.div(aa(),(function(e){var n=e.theme;return p()(n.palette.text.primary).alpha(.1).string()})),da=d.b.div(ra()),fa=d.b.div(ta(),(function(e){var n=e.theme;return p()(n.palette.text.primary).alpha(.1).string()})),va=a.a.memo((function(e){var n=e.product,t=e.order,r=e.isLoading,i=e.addToCart,c=a.a.useCallback((function(){return i(n)}),[]),o=a.a.useMemo((function(){return a.a.createElement(je.a,null)}),[]),u=a.a.useMemo((function(){return a.a.createElement(we,{currency:n.price.currency,value:Math.round(100*n.price.amount)/100})}),[n]);return a.a.createElement(ce,{image:n.imageUrl,name:n.name,order:t,value:u,isLoading:r,description:n.description,actionButtonContent:o,onAction:c})}));function ba(){var e=Object(u.a)(["\n  display: grid;\n  padding: 30px 0;\n  grid-gap: 30px;\n  grid-template-columns: ",";\n  justify-content: center;\n"]);return ba=function(){return e},e}function ga(){var e=Object(u.a)(["\n  background-color: transparent;\n"]);return ga=function(){return e},e}var ha=function(e){return{virtualCurrencies:e.virtualCurrencies.items,isItemAdding:e.cart.isItemAdding,isFetching:e.virtualCurrencies.isFetching}},ya=function(e){return{addToCart:e.cart.addItem,loadVirtualCurrencies:e.virtualCurrencies.load}},Ea=a.a.memo((function(){var e=Y(ha,ya),n=e.addToCart,t=e.isItemAdding,r=e.virtualCurrencies,i=e.loadVirtualCurrencies,c=e.isFetching,o=a.a.useState(null),u=Object(s.a)(o,2),l=u[0],p=u[1],m=a.a.useCallback((function(e){n(e),p(e.sku)}),[n]);a.a.useEffect((function(){0===r.length&&i()}),[]);var d=a.a.useMemo((function(){return r.length>0&&a.a.createElement(Ca,null,r.map((function(e,n){return a.a.createElement(va,{order:n,key:e.sku,product:e,isLoading:t&&e.sku===l,addToCart:m})})))}),[r,t,l,m]);return a.a.createElement(Oa,null,c?a.a.createElement(g,null):d)})),Oa=d.b.div(ga()),Ca=d.b.div(ba(),(function(e){var n=e.theme;return"repeat(auto-fit, minmax(\n    ".concat(n.shape.cardWidth,", \n    ").concat(n.shape.cardWidth,"\n  ))")})),xa=t(138),_a=t(131),ja=t.n(_a),Ia=t(133),ka=t.n(Ia),Aa=t(132),Sa=t.n(Aa),wa=t(79),La=t.n(wa);function Ta(e){return 44056===e?"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE5NjIyMzQwNDgsImlzcyI6Imh0dHBzOi8vbG9naW4ueHNvbGxhLmNvbSIsImlhdCI6MTU2MjE0NzY0OCwidXNlcm5hbWUiOiJ4c29sbGEiLCJ4c29sbGFfbG9naW5fYWNjZXNzX2tleSI6IjA2SWF2ZHpDeEVHbm5aMTlpLUc5TmMxVWFfTWFZOXhTR3ZEVEY4OFE3RnMiLCJzdWIiOiJkMzQyZGFkMi05ZDU5LTExZTktYTM4NC00MjAxMGFhODAwM2YiLCJlbWFpbCI6InN1cHBvcnRAeHNvbGxhLmNvbSIsInR5cGUiOiJ4c29sbGFfbG9naW4iLCJ4c29sbGFfbG9naW5fcHJvamVjdF9pZCI6ImU2ZGZhYWM2LTc4YTgtMTFlOS05MjQ0LTQyMDEwYWE4MDAwNCIsInB1Ymxpc2hlcl9pZCI6MTU5MjR9.GCrW42OguZbLZTaoixCZgAeNLGH2xCeJHxl8u8Xn2aI":function(){var e;return window.location.search&&(e=function(e){e=e.split("+").join(" ");for(var n,t={},r=/[?&]?([^=]+)=([^&]*)/g;n=r.exec(e);)t[decodeURIComponent(n[1])]=decodeURIComponent(n[2]);return t}(window.location.search).token),e?(!function(e,n){var t=new Date;t.setTime(t.getTime()+864e5);var r="expires="+t.toUTCString();document.cookie=e+"="+n+";"+r+";path=/"}("xsolla_login_token",e),window.history.pushState("","",document.location.pathname)):e=function(e){for(var n=e+"=",t=decodeURIComponent(document.cookie).split(";"),r=0;r<t.length;r++){for(var a=t[r];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return""}("xsolla_login_token"),e&&"undefined"!==e?e:null}()}function Ra(e){return document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;"}function Ma(e){var n=e.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(window.atob(n))}function Ua(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  height: 50px;\n  padding: 0 15px;\n  font-family: 'Helvetica Neue', 'Roboto', Arial, Helvetica, sans-serif;\n  background-color: ",";\n"]);return Ua=function(){return e},e}function Da(){var e=Object(u.a)(["\n  && {\n    font-family: 'Roboto' sans-serif;\n    text-transform: uppercase;\n    color: ",";\n  }\n"]);return Da=function(){return e},e}function Fa(){var e=Object(u.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  grid-column-gap: 1rem;\n  align-items: center;\n  justify-content: end;\n  flex-grow: 1;\n  margin: 0 1rem;\n\n  @media "," {\n    justify-content: center;\n  }\n"]);return Fa=function(){return e},e}function Na(){var e=Object(u.a)(["\n  &.MuiButton-root {\n    margin-right: 10px;\n  }\n"]);return Na=function(){return e},e}function Ga(){var e=Object(u.a)(["\n  display: flex;\n  padding: 15px 20px;\n  min-width: 200px;\n  align-items: center;\n  text-transform: uppercase;\n  text-decoration: none;\n  font-size: 1.2rem;\n  font-weight: 700;\n  line-height: 1.2rem;\n  height: 100%;\n  color: #d6e0e7;\n  border: none;\n\n  &:hover {\n    color: #ff005b;\n    text-decoration: none;\n  }\n\n  &.active {\n    color: #ff005b;\n  }\n"]);return Ga=function(){return e},e}function Va(){var e=Object(u.a)(["\n  &.MuiTab-root {\n    text-transform: uppercase;\n    font-size: 1.4rem;\n    font-weight: 700;\n    line-height: 1.4rem;\n    min-width: 50px;\n  }\n"]);return Va=function(){return e},e}function Ba(){var e=Object(u.a)(["\n  &.MuiTabs-root {\n    height: 100%;\n    flex-grow: 1;\n  }\n"]);return Ba=function(){return e},e}function Pa(){var e=Object(u.a)(["\n  .MuiMenu-list {\n    background-color: ",";\n  }\n"]);return Pa=function(){return e},e}var Wa=a.a.memo((function(e){var n=e.isPublic,t=e.isLogged,r=e.isLogoutHide,i=e.userEmail,c=e.onMenuOpen,u=e.onCartOpen,l=e.renderUserBalances,p=Object(m.h)().pathname,d=a.a.useState(null),v=Object(s.a)(d,2),b=v[0],g=v[1],h=function(){return g(null)},y=function(e){return g(e.currentTarget)},E=a.a.useCallback((function(){Ra("xsolla_login_token"),Ra("xsolla_last_click_id"),window.location.reload()}),[]),O=a.a.useMemo((function(){return mt([rt,at,it])}),[]),C=a.a.useMemo((function(){return mt([ct,ot,ut,st])}),[]),x=a.a.useMemo((function(){return O.some((function(e){return e.route===p}))}),[O,p]);return a.a.useMemo((function(){return a.a.createElement(Ka,null,!n&&a.a.createElement(a.a.Fragment,null,a.a.createElement(f.a,{mdDown:!0},a.a.createElement(Ha,{value:!!x&&p,textColor:"primary",indicatorColor:"primary",component:"nav"},O.map((function(e){return a.a.createElement(Ya,{key:e.route,component:o.b,label:e.label,value:e.route,to:e.route})})))),a.a.createElement(f.a,{lgUp:!0},a.a.createElement(Bn.a,{color:"primary",onClick:c},a.a.createElement(ja.a,null))),t&&a.a.createElement(Ja,null,l(),a.a.createElement(f.a,{mdDown:!0},a.a.createElement(Za,{endIcon:Boolean(b)?a.a.createElement(Sa.a,null):a.a.createElement(ka.a,null),onClick:y},i))),r&&t&&a.a.createElement(Qa,{color:"primary",variant:"text",size:"small",onClick:E},a.a.createElement(La.a,{size:"inherit"})),a.a.createElement(za,{anchorEl:b,getContentAnchorEl:null,transformOrigin:{vertical:"top",horizontal:"center"},anchorOrigin:{vertical:"bottom",horizontal:"center"},open:Boolean(b),onClose:h},C.map((function(e){return a.a.createElement(qa,{key:e.route,onClick:h,activeClassName:"active",to:e.route},e.label)})))),a.a.createElement(X.a,{variant:"contained",color:"primary",size:"small",onClick:u},a.a.createElement(je.a,{size:"inherit"}),a.a.createElement(f.a,{xsDown:!0},"cart")))}),[n,x,p,O,c,t,l,b,i,r,E,C,u])})),za=Object(d.b)(xa.a)(Pa(),(function(e){return e.theme.palette.background.default})),Ha=Object(d.b)(ze.a)(Ba()),Ya=Object(d.b)(He.a)(Va()),qa=Object(d.b)(o.b)(Ga()),Qa=Object(d.b)(X.a)(Na()),Ja=d.b.div(Fa(),tt.mobileL),Za=Object(d.b)(X.a)(Da(),(function(e){return e.theme.palette.primary.main})),Ka=d.b.header(Ua(),(function(e){return e.theme.palette.background.default})),Xa=t(263),$a=t(134),ei=t.n($a);function ni(){var e=Object(u.a)(["\n  flex-grow: 1;\n  padding: 0 15px;\n  text-transform: uppercase;\n  font-family: Roboto;\n  color: ",";\n"]);return ni=function(){return e},e}function ti(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 49px;\n  border-bottom: 1px solid\n    ",";\n"]);return ti=function(){return e},e}function ri(){var e=Object(u.a)(["\n  &.MuiTab-root {\n    padding: 15px;\n    font-size: 1.3rem;\n    line-height: 1.3rem;\n    font-weight: 700;\n  }\n\n  & .MuiTab-wrapper {\n    align-items: flex-start;\n  }\n"]);return ri=function(){return e},e}function ai(){var e=Object(u.a)(["\n  &.MuiIconButton-root {\n    color: ",";\n  }\n"]);return ai=function(){return e},e}function ii(){var e=Object(u.a)(["\n  &.MuiDivider-root {\n    background-color: ",";\n    margin: 5px 0;\n  }\n"]);return ii=function(){return e},e}function ci(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 320px;\n  height: 100%;\n  background-color: ",";\n"]);return ci=function(){return e},e}var oi=a.a.memo((function(e){var n=e.userEmail,t=e.isOpen,r=e.isLogged,i=e.onOpen,c=e.onClose,u=Object(m.h)().pathname,s=function(){Ra("xsolla_login_token"),Ra("xsolla_last_click_id"),window.location.reload()};a.a.useEffect((function(){return c}),[]);var l=a.a.useMemo((function(){return mt([rt,at,it])}),[]),p=a.a.useMemo((function(){return mt([ct,ot,ut,st])}),[]),d=a.a.useMemo((function(){return l.some((function(e){return e.route===u}))}),[l,u]);return a.a.useMemo((function(){return a.a.createElement(Xa.a,{open:t,anchor:"left",onOpen:i,onClose:c},a.a.createElement(ui,null,a.a.createElement(mi,null,r&&a.a.createElement(li,{onClick:s},a.a.createElement(La.a,{size:"inherit"})),r&&a.a.createElement(di,null,n),a.a.createElement(li,{onClick:c},a.a.createElement(ei.a,null))),a.a.createElement(ze.a,{value:!!d&&u,onChange:c,component:"nav",variant:"scrollable",color:"primary",indicatorColor:"primary",orientation:"vertical"},l.map((function(e){return a.a.createElement(pi,{key:e.route,component:o.b,label:e.label,value:e.route,to:e.route})})),a.a.createElement(si,null),p.map((function(e){return a.a.createElement(pi,{key:e.route,component:o.b,label:e.label,value:e.route,to:e.route})})))))}),[l,d,r,t,c,i,u,n,p])})),ui=d.b.div(ci(),(function(e){return e.theme.palette.background.default})),si=Object(d.b)(xr.a)(ii(),(function(e){var n=e.theme;return p()(n.palette.text.primary).alpha(.1).string()})),li=Object(d.b)(Bn.a)(ai(),(function(e){return e.theme.palette.primary.main})),pi=Object(d.b)(He.a)(ri()),mi=d.b.div(ti(),(function(e){var n=e.theme;return p()(n.palette.text.primary).alpha(.1).string()})),di=d.b.div(ni(),(function(e){return e.theme.palette.primary.main}));function fi(){var e=Object(u.a)(["\n  position: relative;\n  height: 100%;\n  overflow-y: auto;\n"]);return fi=function(){return e},e}function vi(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  font-family: ",";\n  background: ",";\n  background-attachment: fixed;\n  background-size: cover;\n  background-blend-mode: darken;\n"]);return vi=function(){return e},e}var bi=function(e){return{user:e.user.userInfo,isPublic:"public"===e.config.storeMode,isDemo:"demo"===e.config.storeMode}},gi=function(e){return{showCart:e.cart.show}},hi=a.a.memo((function(){var e=a.a.useState(!1),n=Object(s.a)(e,2),t=n[0],r=n[1],i=a.a.useCallback((function(){return r(!0)}),[]),c=a.a.useCallback((function(){return r(!1)}),[]),o=Y(bi,gi),u=o.user,l=o.isPublic,p=o.isDemo,d=o.showCart,v=a.a.useCallback((function(){return a.a.createElement(Or,null)}),[]);return a.a.useMemo((function(){return a.a.createElement(yi,null,a.a.createElement(Wa,{isPublic:l,isLogoutShown:p,isLogged:Boolean(u),userEmail:u?u.email:"",onMenuOpen:i,onCartOpen:d,renderUserBalances:v}),!l&&a.a.createElement(f.a,{lgUp:!0},a.a.createElement(oi,{isLogged:Boolean(u),userEmail:u?u.email:"",isOpen:t,onOpen:i,onClose:c})),a.a.createElement(ar,null),a.a.createElement(sa,null),a.a.createElement(gr,null),a.a.createElement(Ei,null,a.a.createElement(m.d,null,a.a.createElement(m.b,{path:rt,exact:!0,component:On}),a.a.createElement(m.b,{path:at,component:Ea}),a.a.createElement(m.b,{path:it,component:Ge}),a.a.createElement(m.b,{path:ct,component:Ee}),a.a.createElement(m.b,{path:ut,component:an}),a.a.createElement(m.b,{path:ot,component:Tn}),a.a.createElement(m.b,{path:st,component:Fr}),a.a.createElement(m.b,{path:lt,component:Ge}),a.a.createElement(m.a,{to:rt}))))}),[l,p,u,i,d,v,t,c])})),yi=d.b.div(vi(),(function(e){return e.theme.typography.fontFamily}),(function(e){var n=e.theme;return"url(".concat(n.palette.background.imageUrl,") ").concat(p()(n.palette.background.default).alpha(.8))})),Ei=d.b.div(fi()),Oi=hi,Ci=t(257),xi=t(248),_i=t(21),ji=t(40),Ii=t.n(ji),ki=function e(n,t,r){var a=this;Object(_i.a)(this,e),this.getCart=Object(x.a)(C.a.mark((function e(){var n,t,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/v2/project/".concat(a.projectId,"/cart"),t={cancelToken:new a.CancelToken((function(e){a.cartGettingCancel(),a.cartGettingCancel=e}))},e.next=4,a.actions.get(n,t);case 4:return r=e.sent,e.abrupt("return",Ai(r.data));case 6:case"end":return e.stop()}}),e)}))),this.changeItemQuantity=function(){var e=Object(x.a)(C.a.mark((function e(n,t){var r,i,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/v2/project/".concat(a.projectId,"/cart/item/").concat(n),i=JSON.stringify({quantity:t}),c={headers:{"Content-Type":"application/json; charset=utf-8"},cancelToken:new a.CancelToken((function(e){a.cartGettingCancel(),a.quantityChangingCancel(),a.quantityChangingCancel=e}))},e.next=5,a.actions.put(r,i,c);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),this.removeItemFromCart=function(){var e=Object(x.a)(C.a.mark((function e(n){var t,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/v2/project/".concat(a.projectId,"/cart/item/").concat(n),r={cancelToken:new a.CancelToken((function(){a.cartGettingCancel(),a.quantityChangingCancel()}))},e.next=4,a.actions.delete(t,r);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.clearCart=Object(x.a)(C.a.mark((function e(){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/v2/project/".concat(a.projectId,"/cart/clear"),e.next=3,a.actions.put(n);case 3:case"end":return e.stop()}}),e)}))),this.payForGoods=Object(x.a)(C.a.mark((function e(){var n,t,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/v2/project/".concat(a.projectId,"/payment/cart"),t={sandbox:!0,settings:{ui:{theme:"dark"}}},e.next=4,a.actions.post(n,t);case 4:return r=e.sent,e.abrupt("return",new Promise((function(e,n){a.paymentWidget.init({host:"sandbox-secure.xsolla.com",sandbox:!0,access_token:r.data.token,lightbox:{height:640,spinner:"round",width:"740px",spinnerColor:"#fff",contentBackground:"rgba(0,0,0,0.5)"}}),a.paymentWidget.open(),a.paymentWidget.on(a.paymentWidget.eventTypes.CLOSE,(function(){return n({cancelled:!0})})),a.paymentWidget.on(a.paymentWidget.eventTypes.STATUS_DONE,(function(){return e()}))})));case 6:case"end":return e.stop()}}),e)}))),this.quickPurchaseByVirtualCurrency=function(){var e=Object(x.a)(C.a.mark((function e(n,t){var r,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/v2/project/".concat(a.projectId,"/payment/item/").concat(n,"/virtual/").concat(t),e.next=3,a.actions.post(r);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),this.purchaseItems=function(){var e=Object(x.a)(C.a.mark((function e(n){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://livedemo.xsolla.com/store-demo/api/index.php",e.next=3,Ii.a.post("https://livedemo.xsolla.com/store-demo/api/index.php",n);case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.CancelToken=Ii.a.CancelToken,this.actions=n,this.projectId=t,this.paymentWidget=r,this.cartGettingCancel=function(){},this.quantityChangingCancel=function(){}},Ai=function(e){return{id:e.cart_id,price:e.price?{price:e.price.amount,priceWithoutDiscount:e.price.amount_without_discount,currency:e.price.currency}:null,items:(n=e.items,n.map((function(e){return{sku:e.sku,name:e.name,type:e.type,description:e.description,imageUrl:e.image_url,price:e.price?{amount:Number(e.price.amount),priceWithoutDiscount:Number(e.price.amount_without_discount),currency:e.price.currency}:null,virtualPrice:e.virtual_prices.length>0?{imageUrl:e.virtual_prices[0].image_url,amount:Number(e.virtual_prices[0].amount)}:null,quantity:e.quantity}})))};var n},Si=function e(n,t,r,a){var i=this;Object(_i.a)(this,e),this.getUser=Object(x.a)(C.a.mark((function e(){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.token?Ma(i.token):null,e.abrupt("return",n?wi(n):null);case 2:case"end":return e.stop()}}),e)}))),this.logout=Object(x.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ra("xsolla_login_token"),Ra("xsolla_last_click_id");case 2:case"end":return e.stop()}}),e)}))),this.loadBalances=Object(x.a)(C.a.mark((function e(){var n,t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/v2/project/".concat(i.projectId,"/user/virtual_currency_balance"),e.next=3,i.actions.get(n);case 3:return t=e.sent,e.abrupt("return",Li(t.data.items));case 5:case"end":return e.stop()}}),e)}))),this.actions=n,this.projectId=t,this.token=r,this.loginWidget=a},wi=function(e){return{email:e.email,loginId:e.xsolla_login_project_id}},Li=function(e){return e.map((function(e){return{sku:e.sku,name:e.name,type:e.type,description:e.description,imageUrl:e.image_url,amount:e.amount}}))},Ti=t(135),Ri=t(30),Mi=function e(n,t,r){var a=this;Object(_i.a)(this,e),this.loadPhysicalGoods=Object(x.a)(C.a.mark((function e(){var n,t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Ri.b)({projectId:a.projectId,version:"v2"}),n=new Ti.a(a.loginToken),e.next=4,n.getPhysicalGoodList();case 4:return t=e.sent,e.abrupt("return",Ui(t.data.items));case 6:case"end":return e.stop()}}),e)}))),this.actions=n,this.projectId=t,this.loginToken=r},Ui=function(e){return e.map((function(e){return{sku:e.sku,name:e.name,type:e.type,description:e.description,imageUrl:e.image_url,isFree:e.is_free,price:e.price?{amount:Number(e.price.amount),priceWithoutDiscount:Number(e.price.amount_without_discount),currency:e.price.currency}:null}}))},Di=t(136),Fi=function e(n,t,r){var a=this;Object(_i.a)(this,e),this.loadVirtualItems=Object(x.a)(C.a.mark((function e(){var n,t,r,i,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/v2/project/".concat(a.projectId,"/items/groups"),e.next=3,a.actions.get(n);case 3:return t=e.sent,e.next=6,Promise.all(t.data.groups.map(function(){var e=Object(x.a)(C.a.mark((function e(n){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.loadVirtualItemsByGroup(n.external_id);case 2:return t=e.sent,e.abrupt("return",{groupId:n.external_id,groupName:n.name,items:Ni(t)});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 6:return r=e.sent,i=Object(Di.a)(r),c=i.slice(0),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)}))),this.loadVirtualItemsByGroup=function(){var e=Object(x.a)(C.a.mark((function e(n){var t,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/v2/project/".concat(a.projectId,"/items/virtual_items/group/").concat(n),e.next=3,a.actions.get(t);case 3:return r=e.sent,e.abrupt("return",r.data.items);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.actions=n,this.projectId=t,this.loginToken=r},Ni=function(e){return e.map((function(e){return{sku:e.sku,name:e.name,type:e.type,description:e.description,imageUrl:e.image_url,isFree:e.is_free,price:e.price?{amount:Number(e.price.amount),priceWithoutDiscount:Number(e.price.amount_without_discount),currency:e.price.currency}:null,virtualPrice:e.virtual_prices.length>0?{sku:e.virtual_prices[0].sku,imageUrl:e.virtual_prices[0].image_url,amount:e.virtual_prices[0].amount}:null,isConsumable:Boolean(e.inventory_options.consumable)}}))},Gi=function e(n,t,r){var a=this;Object(_i.a)(this,e),this.loadVirtualCurrencies=Object(x.a)(C.a.mark((function e(){var n,t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://store.xsolla.com/api/v2/project/".concat(a.projectId,"/items/virtual_currency/package"),e.next=3,a.actions.get(n);case 3:return t=e.sent,e.abrupt("return",Vi(t.data.items));case 5:case"end":return e.stop()}}),e)}))),this.actions=n,this.projectId=t,this.loginToken=r},Vi=function(e){return e.map((function(e){return{sku:e.sku,name:e.name,type:e.type,description:e.description,imageUrl:e.image_url,price:e.price?{amount:e.price.amount,currency:e.price.currency}:null}}))},Bi=t(137),Pi=function e(n,t,r){var a=this;Object(_i.a)(this,e),this.loadVirtualItems=Object(x.a)(C.a.mark((function e(){var n,t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/v2/project/".concat(a.projectId,"/items/virtual_items"),e.next=3,a.actions.get(n);case 3:return t=e.sent,e.abrupt("return",zi(t.data.items));case 5:case"end":return e.stop()}}),e)}))),this.loadVirtualCurrencies=Object(x.a)(C.a.mark((function e(){var n,t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/v2/project/".concat(a.projectId,"/items/virtual_currency"),e.next=3,a.actions.get(n);case 3:return t=e.sent,e.abrupt("return",Hi(t.data.items));case 5:case"end":return e.stop()}}),e)}))),this.rewardItems=function(){var e=Object(x.a)(C.a.mark((function e(n){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://livedemo.xsolla.com/store-demo/api/index.php",e.next=3,a.actions.post("https://livedemo.xsolla.com/store-demo/api/index.php",n);case 3:return t=e.sent,e.abrupt("return",Wi(t.data));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.loadInventory=Object(x.a)(C.a.mark((function e(){var n,t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/v2/project/".concat(a.projectId,"/user/inventory/items"),e.next=3,a.actions.get(n);case 3:return t=e.sent,e.abrupt("return",Yi(t.data.items));case 5:case"end":return e.stop()}}),e)}))),this.consumeItem=function(){var e=Object(x.a)(C.a.mark((function e(n,t){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Ri.b)({projectId:a.projectId,version:"v2"}),r=new Bi.a(a.loginToken),e.next=4,r.consumeItem(n,1,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),this.actions=n,this.projectId=t,this.loginToken=r},Wi=function(e){return{userId:e.operations[0].user_id,itemId:e.operations[0].items[0].sku,quantity:e.operations[0].items[0].quantity}},zi=function(e){return e.map((function(e){return{sku:e.sku,name:e.name,type:e.type,description:e.description,imageUrl:e.image_url,isFree:e.is_free,price:e.price?{amount:Number(e.price.amount),priceWithoutDiscount:Number(e.price.amount_without_discount),currency:e.price.currency}:null,virtualPrice:e.virtual_prices.length>0?{sku:e.virtual_prices[0].sku,imageUrl:e.virtual_prices[0].image_url,amount:e.virtual_prices[0].amount}:null,isConsumable:Boolean(e.inventory_options.consumable)}}))},Hi=function(e){return e.map((function(e){return{sku:e.sku,name:e.name,type:e.type,description:e.description,imageUrl:e.image_url,price:e.price?{amount:e.price.amount,currency:e.price.currency}:null}}))},Yi=function(e){return e.filter((function(e){return"virtual_good"===e.type})).map((function(e){return{sku:e.sku,instanceId:e.instance_id,name:e.name,type:e.type,description:e.description,imageUrl:e.image_url,quantity:e.quantity,remainingUses:e.remaining_uses}}))},qi=function e(n,t,r){var a=this;Object(_i.a)(this,e),this.loadEntitlement=Object(x.a)(C.a.mark((function e(){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/v2/projects/entitlement",e.next=3,a.actions.get("/v2/projects/entitlement");case 3:return n=e.sent,e.abrupt("return",Qi(n.data));case 5:case"end":return e.stop()}}),e)}))),this.redeem=function(){var e=Object(x.a)(C.a.mark((function e(n,t){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Ri.b)({projectId:a.projectId,version:"v2"}),"/v1/game_delivery/xsolla_login/redeem_key",r={project_id:a.projectId,digital_content_sku:t,language:"en",key:n},e.next=5,a.actions.post("/v1/game_delivery/xsolla_login/redeem_key",r);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),this.actions=n,this.projectId=t,this.loginToken=r},Qi=function(e){return e.map((function(e){return{sku:e.digital_content_sku,name:e.name,imageUrl:e.image_url,description:e.description,projectId:e.project_id}}))},Ji=function e(n,t,r,a,i){Object(_i.a)(this,e);var c=Ta(t),o={baseURL:n,headers:!r&&c?{Authorization:"Bearer ".concat(c)}:void 0},u=Ii.a.create(o);this.userApi=new Si(u,t,c,i),this.cartApi=new ki(u,t,a),this.physicalGoodApi=new Mi(u,t,c),this.virtualGoodsApi=new Fi(u,t,c),this.virtualCurrenciesApi=new Gi(u,t,c),this.inventoryApi=new Pi(u,t,c),this.entitlementApi=new qi(u,t,c)},Zi=t(66),Ki=Object(Zi.a)({typography:{fontFamily:"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif"},palette:{primary:{main:"#FF005B",contrastText:"#F6FAFF"},secondary:{main:"#D6E0E7",contrastText:"#000"},text:{primary:"#D6E0E7",secondary:"#D6E0E7"},background:{default:"#011627",paper:"#011627",imageUrl:"https://res.cloudinary.com/maiik/image/upload/v1549624607/Xsolla/HomePage_Hero_Illustration_1440_oabqmk.jpg"},action:{selected:"#D6E0E712",hover:"#D6E0E708"}},shape:{borderRadius:6,cardWidth:"300px"}}),Xi=t(93),$i={vertical:"bottom",horizontal:"right"},ec=function(e){var n=e.children,t=Object(Ci.a)("@media ".concat(tt.mobileL)),r=Object(m.i)({path:lt,strict:!0,sensitive:!0}),i=r?r.params.projectId:Xi.projectId,c=function(e,n){if("virtual"===Object({NODE_ENV:"production",PUBLIC_URL:"/store-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_STORE_MODE)return"virtual";if("physical"===Object({NODE_ENV:"production",PUBLIC_URL:"/store-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_STORE_MODE)return"physical";if(e!==n)return"public";if(44056===n)return"demo";throw new Error("Unknown type of store")}(i,Xi.projectId),o=a.a.useMemo((function(){return new Ji("https://store.xsolla.com/api",i,"public"===c,window.XPayStationWidget,window.XL)}),[]);return a.a.createElement(E.SnackbarProvider,{anchorOrigin:$i,dense:t,maxSnack:3,preventDuplicate:t},a.a.createElement(xi.a,{theme:Ki},a.a.createElement(d.a,{theme:Ki},a.a.createElement(q,{storeMode:c,api:o},n))))};c.a.render(a.a.createElement(o.a,{basename:"/"},a.a.createElement(ec,null,a.a.createElement(Oi,null))),document.getElementById("root"))},93:function(e){e.exports=JSON.parse('{"projectId":44056,"loginId":"e6dfaac6-78a8-11e9-9244-42010aa80004"}')}},[[153,1,2]]]);
//# sourceMappingURL=main.dce8eaa5.chunk.js.map