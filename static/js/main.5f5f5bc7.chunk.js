(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{161:function(e,n,t){e.exports=t(197)},166:function(e,n,t){},197:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(11),c=t.n(i),o=t(34),u=(t(166),t(4)),l=t(28),s=t.n(l),m=t(62),d=t(3),p=t(272),f=t(38),h=t(37),v=t(19),g=t(259);function b(){var e=Object(u.a)(["\n  z-index: 9;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n"]);return b=function(){return e},e}var x=function(e){var n=e.size;return a.a.createElement(y,null,a.a.createElement(g.a,{size:n,color:"primary"}))},y=d.c.div(b()),j=t(80),E=t(45),C=t(46),w=t(114),O=t(107),k=t(115),I=function(){var e;return window.location.search&&(e=function(e){e=e.split("+").join(" ");for(var n,t={},r=/[?&]?([^=]+)=([^&]*)/g;n=r.exec(e);)t[decodeURIComponent(n[1])]=decodeURIComponent(n[2]);return t}(window.location.search).token),e?(!function(e,n){var t=new Date;t.setTime(t.getTime()+864e5);var r="expires="+t.toUTCString();document.cookie=e+"="+n+";"+r+";path=/"}("xsolla_login_token",e),window.history.pushState("","",document.location.pathname)):e=function(e){for(var n=e+"=",t=decodeURIComponent(document.cookie).split(";"),r=0;r<t.length;r++){for(var a=t[r];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return""}("xsolla_login_token"),e&&"undefined"!==e?e:null};function S(){return 44056===window.xProjectId?"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE5NjIyMzQwNDgsImlzcyI6Imh0dHBzOi8vbG9naW4ueHNvbGxhLmNvbSIsImlhdCI6MTU2MjE0NzY0OCwidXNlcm5hbWUiOiJ4c29sbGEiLCJ4c29sbGFfbG9naW5fYWNjZXNzX2tleSI6IjA2SWF2ZHpDeEVHbm5aMTlpLUc5TmMxVWFfTWFZOXhTR3ZEVEY4OFE3RnMiLCJzdWIiOiJkMzQyZGFkMi05ZDU5LTExZTktYTM4NC00MjAxMGFhODAwM2YiLCJlbWFpbCI6InN1cHBvcnRAeHNvbGxhLmNvbSIsInR5cGUiOiJ4c29sbGFfbG9naW4iLCJ4c29sbGFfbG9naW5fcHJvamVjdF9pZCI6ImU2ZGZhYWM2LTc4YTgtMTFlOS05MjQ0LTQyMDEwYWE4MDAwNCIsInB1Ymxpc2hlcl9pZCI6MTU5MjR9.GCrW42OguZbLZTaoixCZgAeNLGH2xCeJHxl8u8Xn2aI":I()}function _(e){return document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;"}var M,F=t(8),T=t.n(F),V=t(16),z=t(14),B=t.n(z),P=B.a.CancelToken;function L(e,n,t,r){var a=e.sku,i=void 0===a?"sku":a;M&&M();var c={url:"https://store.xsolla.com/api/v2/project/"+window.xProjectId+"/cart/"+t+"/item/"+i,method:"PUT",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+r},data:JSON.stringify({quantity:n})};return B()(c)}var A=function(){var e=Object(V.a)(T.a.mark(function e(n,t,r){var a,i,c;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://store.xsolla.com/api/v2/project/".concat(n,"/payment/item/").concat(t.sku,"/virtual/").concat(t.virtual_prices[0].sku),i={headers:{Authorization:"Bearer ".concat(r)}},e.next=4,B.a.post(a,{},i);case 4:return c=e.sent,e.abrupt("return",c.data);case 6:case"end":return e.stop()}},e,this)}));return function(n,t,r){return e.apply(this,arguments)}}();var W=a.a.createContext(),q=function(e){function n(){var e,t;Object(E.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=Object(w.a)(this,(e=Object(O.a)(n)).call.apply(e,[this].concat(a)))).state={projectId:t.props.projectId,logToken:S(),isSideMenuShown:!1,userBalanceVirtualCurrency:[],isUserBalanceFetching:!1,virtualItems:[],areVirtualItemsFetching:!1,virtualCurrencies:[],areVirtualCurrenciesFetching:!1,physicalItems:[],arePhysicalItemsFetching:!1,inventoryItems:[],areInventoryItemsFetching:!1,isItemConsuming:!1,entitlementItems:[],areEntitlementItemsFetching:!1,isRedeeming:!1,isVCCartShown:!1,isVCCartProcessing:!1,vcCart:{items:[],vcPriceSku:null},isCartShown:!1,isCartProcessing:!1,cart:{cartId:null,items:[],price:{amount:0,amount_without_discount:0,currency:""}}},t.setStateFrom=function(e,n){return t.setState(Object(j.a)({},e,n))},t.showCart=function(){return t.setState({isCartShown:!0})},t.hideCart=function(){return t.setState({isCartShown:!1})},t.showVCCart=function(){return t.setState({isVCCartShown:!0})},t.hideVCCart=function(){return t.setState({isVCCartShown:!1})},t.setSideMenuVisibility=function(e){return t.setState({isSideMenuShown:e})},t.setEntitlementItems=function(e){return t.setState({entitlementItems:e})},t.setInventoryItems=function(e){return t.setState({inventoryItems:e})},t.setPhysicalItems=function(e){return t.setState({physicalItems:e})},t.setVirtualCurrencies=function(e){return t.setState({virtualCurrencies:e})},t.setVirtualItems=function(e){return t.setState({virtualItems:e})},t.getCart=function(){var e=t.state,n=e.cart,r=e.logToken,a=function(e,n){M&&M();var t={url:"https://store.xsolla.com/api/v2/project/"+window.xProjectId+"/cart/"+e,method:"GET",headers:{Authorization:"Bearer "+n},cancelToken:new P(function(e){M=e})};return B()(t).then(function(e){return e}).catch(function(e){return console.error(e)})}(n.cartId,r);a.then(function(e){!a.isCancel&&e&&t.setState({cart:{cartId:e.data.cart_id,items:e.data.items.sort(t.compareItems),price:e.data.price||0},isCartProcessing:!1})})},t.createCart=function(){(function(e){var n={url:"https://store.xsolla.com/api/v1/project/"+window.xProjectId+"/cart",method:"POST",headers:{Authorization:"Bearer "+e}};return B()(n)})(t.state.logToken).then(function(e){t.setState({cart:{cartId:e.data.id,items:[],price:{amount:0,amount_without_discount:0,currency:""}}})})},t.clearCart=function(){t.createCart(),t.updateVirtualCurrencyBalance()},t.compareItems=function(e,n){return e.sku>n.sku?1:e.sku<n.sku?-1:0},t.buyByVC=function(e){t.setState({isVCCartShown:!0,vcCart:{items:[e]}})},t.clearVCCart=function(){t.setState({isVCCartShown:!1,vcCart:{items:[]}})},t.addToCart=function(e){var n=t.props.enqueueSnackbar,r=t.state,a=r.cart,i=r.logToken;a.items.some(function(n){return n.sku===e.sku})?(t.getCart(),t.setState({isCartShown:!0})):(t.setState({isCartProcessing:!0}),L(e,1,a.cartId,i).then(function(){t.setState({cart:Object(f.a)({},a,{items:[Object(f.a)({},e,{quantity:1})].concat(Object(h.a)(a.items)).sort(t.compareItems),price:Object(f.a)({},a.price,{amount:a.price.amount+e.price.amount,amount_without_discount:a.price.amount_without_discount+e.price.amount_without_discount})}),isCartProcessing:!1}),t.showCart()}).catch(function(e){t.setState({isCartProcessing:!1});var r=e.response?e.response.data.errorMessage:e.message;n(r,{variant:"error"})}))},t.removeFromCart=function(e){var n=t.state.cart;t.setState({cart:Object(f.a)({},n,{items:n.items.filter(function(n){return n.sku!==e.sku}).sort(t.compareItems),price:Object(f.a)({},n.price,{amount:n.price.amount-e.price.amount*e.quantity,amount_without_discount:n.price.amount_without_discount-e.price.amount_without_discount*e.quantity})})})},t.changeItemQuantityInCart=function(e,n){var r=t.props.enqueueSnackbar,a=t.state,i=a.cart,c=a.logToken;if(n<=0)t.removeFromCart(e),function(e,n,t){var r=e.sku,a=void 0===r?"sku":r;M&&M();var i={url:"https://store.xsolla.com/api/v2/project/"+window.xProjectId+"/cart/"+n+"/item/"+a,method:"DELETE",headers:{Authorization:"Bearer "+t}};return B()(i)}(e,i.cartId,c).then(t.getCart);else{var o=i.items.findIndex(function(n){return n.sku===e.sku}),u=i.items;u.splice(o,1,Object(f.a)({},e,{quantity:n})),t.setState({cart:Object(f.a)({},i,{items:u.sort(t.compareItems)})}),L(e,n,i.cartId,c).then(t.getCart).catch(function(e){var n=e.response?e.response.data.errorMessage:e.message;r(n,{variant:"error"})})}},t.updateVirtualCurrencyBalance=function(){var e=t.props.enqueueSnackbar,n=t.state.logToken;t.setState({isUserBalanceFetching:!0}),function(e){var n={url:"https://store.xsolla.com/api/v2/project/"+window.xProjectId+"/user/virtual_currency_balance",method:"GET",headers:{Authorization:"Bearer "+e}};return B()(n)}(n).then(function(e){t.setState({isUserBalanceFetching:!1,userBalanceVirtualCurrency:e.data.items})}).catch(function(n){t.setState({isUserBalanceFetching:!1});var r=n.response?n.response.data.errorMessage:n.message;e(r,{variant:"error"})})},t}return Object(k.a)(n,e),Object(C.a)(n,[{key:"render",value:function(){return a.a.createElement(W.Provider,{value:Object(f.a)({},this.state,{setStateFrom:this.setStateFrom,clearCart:this.clearCart,setInventoryItems:this.setInventoryItems,setVirtualCurrencies:this.setVirtualCurrencies,setPhysicalItems:this.setPhysicalItems,setVirtualItems:this.setVirtualItems,setEntitlementItems:this.setEntitlementItems,addToCart:this.addToCart,showVCCart:this.showVCCart,hideVCCart:this.hideVCCart,buyByVC:this.buyByVC,clearVCCart:this.clearVCCart,createCart:this.createCart,showCart:this.showCart,changeItemQuantityInCart:this.changeItemQuantityInCart,updateVirtualCurrencyBalance:this.updateVirtualCurrencyBalance,hideCart:this.hideCart,setSideMenuVisibility:this.setSideMenuVisibility})},this.props.children)}}]),n}(a.a.PureComponent),D=W.Consumer,U=Object(v.withSnackbar)(q),G=t(17),N=t(138),R=t.n(N),J=t(122),H=t(262),X=t(260);function Q(){var e=Object(u.a)(["\n  flex-grow: 1;\n  color: ",";\n  font-weight: 600;\n"]);return Q=function(){return e},e}function Z(){var e=Object(u.a)(["\n  display: block;\n  margin-top: 8px;\n  height: 120px;\n  flex-shrink: 1;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(",");\n"]);return Z=function(){return e},e}function Y(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  border-top: 1px solid ",";\n  padding: 8px 0;\n  height: 53px;\n  margin: 0px 16px 0 16px;\n"]);return Y=function(){return e},e}function $(){var e=Object(u.a)(["\n  color: ",";\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  font-weight: bolder;\n"]);return $=function(){return e},e}function K(){var e=Object(u.a)(["\n  min-height: 66px;\n  overflow: hidden;\n  flex-grow: 0;\n  padding-bottom: 0;\n  margin-bottom: 8px;\n"]);return K=function(){return e},e}function ee(){var e=Object(u.a)(["\n  position: absolute;\n  color: ",";\n  display: flex;\n  flex-direction: column;\n  width: ",";\n  min-height: ",";\n  background-color: ",";\n  box-shadow: ",";\n  transition: ",";\n  border-radius: ",";\n"]);return ee=function(){return e},e}function ne(){var e=Object(u.a)(["\n  position: relative;\n  z-index: ",";\n  width: ",";\n  height: ",";\n  transition: transform 350ms ease-out, opacity 150ms ease-out;\n  opacity: ",";\n  transform: ",";;\n"]);return ne=function(){return e},e}var te=a.a.memo(function(e){var n=e.image,t=e.order,r=e.name,i=e.value,c=e.description,o=e.actionButtonContent,u=e.onAction,l=e.isLoading,s=a.a.useState(!1),m=Object(G.a)(s,2),d=m[0],p=m[1],f=function(){return p(!0)},h=a.a.useState(!1),v=Object(G.a)(h,2),b=v[0],x=v[1],y=a.a.useState(!1),j=Object(G.a)(y,2),E=j[0],C=j[1];return a.a.useEffect(function(){l||x(!1)},[l]),a.a.useEffect(function(){setTimeout(f,100*t)},[]),a.a.createElement(re,{shown:d,hovered:E},a.a.createElement(ae,{hovered:E,onMouseEnter:function(){return C(!0)},onMouseLeave:function(){return C(!1)}},a.a.createElement(ue,{image:n}),a.a.createElement(ie,null,a.a.createElement(ce,null,r),a.a.createElement(J.a,{in:E,timeout:"auto",collapsedHeight:"50px"},E?c:a.a.createElement(R.a,{animate:!0,clamp:2},c))),(u||i)&&a.a.createElement(oe,null,i&&a.a.createElement(le,null,i),u&&a.a.createElement(X.a,{variant:"contained",color:"secondary",disabled:l&&b,onClick:function(){x(!0),u()}},l&&b?a.a.createElement(g.a,{size:24,color:"primary"}):o))))}),re=d.c.div(ne(),function(e){return e.hovered?1:0},function(e){return e.theme.shape.cardWidth},function(e){return e.theme.shape.cardWidth},function(e){return e.shown?1:0},function(e){return e.shown?"none":"translateY(20px)"}),ae=d.c.div(ee(),function(e){return e.theme.palette.text.primary},function(e){return e.theme.shape.cardWidth},function(e){return e.theme.shape.cardWidth},function(e){var n=e.theme;return e.hovered?n.palette.background.default:"transparent"},function(e){var n=e.theme;return e.hovered?n.shadows[8]:"none"},function(e){return e.theme.transitions.create(["box-shadow","background-color"])},function(e){var n=e.theme;return"".concat(n.shape.borderRadius,"px")}),ie=Object(d.c)(H.a)(K()),ce=d.c.div($(),function(e){return e.theme.palette.primary.contrastText}),oe=d.c.div(Y(),function(e){var n=e.theme;return s()(n.palette.text.primary).alpha(.1).string()}),ue=d.c.div(Z(),function(e){return e.image}),le=d.c.div(Q(),function(e){return e.theme.palette.primary.main}),se=a.a.memo(function(e){var n=e.item,t=e.order,r=e.isLoading,i=e.onConsume;return a.a.createElement(te,{image:n.image_url,name:n.name,order:t,isLoading:r,value:"Quantity: ".concat(n.quantity),description:n.description,actionButtonContent:"Consume",onAction:n.remaining_uses?function(){return i(n,t)}:void 0})}),me=t(140),de=t(31),pe=B.a.CancelToken,fe=function(){},he=function(){var e=Object(V.a)(T.a.mark(function e(n,t){var r,a,i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://store.xsolla.com/api/v2/project/".concat(n,"/user/inventory/items"),a={headers:{Authorization:"Bearer "+t},cancelToken:new pe(function(e){fe(),fe=e})},e.next=4,B.a.get(r,a);case 4:return i=e.sent,e.abrupt("return",i.data.items.filter(function(e){return"virtual_good"===e.type}));case 6:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(V.a)(T.a.mark(function e(n,t,r){var a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(de.b)({projectId:n,version:"v2"}),a=new me.a(t),e.next=4,a.consumeItem(r.sku,1,r.instance_id);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(n,t,r){return e.apply(this,arguments)}}();function ge(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n"]);return ge=function(){return e},e}function be(){var e=Object(u.a)(["\n  display: grid;\n  grid-gap: 30px;\n  grid-template-columns: ",";\n  justify-content: center;\n"]);return be=function(){return e},e}function xe(){var e=Object(u.a)(["\n  padding: 30px 0;\n"]);return xe=function(){return e},e}var ye=function(){var e=a.a.useContext(W),n=e.cart,t=e.logToken,r=e.projectId,i=e.setStateFrom,c=e.inventoryItems,o=e.isItemConsuming,u=e.areInventoryItemsFetching,l=e.setInventoryItems,s=Object(v.useSnackbar)().enqueueSnackbar,m=a.a.useCallback(function(e){i("isItemConsuming",!0),ve(r,t,e).then(function(){var n=c.findIndex(function(n){return n.sku===e.sku}),t=c[n];if(t){var r=t.quantity>1?[].concat(Object(h.a)(c.slice(0,n)),[Object(f.a)({},t,{quantity:t.quantity-1})],Object(h.a)(c.slice(n+1))):[].concat(Object(h.a)(c.slice(0,n)),Object(h.a)(c.slice(n+1)));l(r)}i("isItemConsuming",!1)}).catch(function(e){i("isItemConsuming",!1),s(e.message,{variant:"error"})})}),d=function(){i("areInventoryItemsFetching",!0),he(r,t).then(function(e){l(e),i("areInventoryItemsFetching",!1)}).catch(function(e){i("areInventoryItemsFetching",!1),s(e.message,{variant:"error"})})};a.a.useEffect(function(){d()},[]),a.a.useEffect(function(){!u&&n.cartId&&0===c.length&&d()},[c.length,n.cartId]);var p=a.a.useMemo(function(){return c.length>0?a.a.createElement(Ee,null,c.map(function(e,n){return a.a.createElement(se,{order:n,key:e.sku,item:e,isLoading:o,onConsume:m})})):a.a.createElement(Ce,null,"Oops, you have nothing bought yet!")},[c,o]);return a.a.createElement(je,null,u?a.a.createElement(x,null):p)},je=d.c.div(xe()),Ee=d.c.div(be(),function(e){var n=e.theme;return"repeat(auto-fit, minmax(\n    ".concat(n.shape.cardWidth,", \n    ").concat(n.shape.cardWidth,"\n  ))")}),Ce=d.c.div(ge()),we=t(141),Oe=function(){var e=Object(V.a)(T.a.mark(function e(n,t){var r,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(de.b)({projectId:n,version:"v2"}),r=new we.a(t),e.next=4,r.getPhysicalGoodList();case 4:return a=e.sent,e.abrupt("return",a.data.items);case 6:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}(),ke=t(48),Ie=t.n(ke),Se=t(276);function _e(){var e=Object(u.a)(["\n  && {\n    height: 1em;\n    width: 1em;\n    margin-right: 5px;\n  }\n"]);return _e=function(){return e},e}function Me(){var e=Object(u.a)(["\n  margin-right: 5px;\n"]);return Me=function(){return e},e}function Fe(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n"]);return Fe=function(){return e},e}var Te=function(e){var n=e.image,t=e.value,r=e.currency;return a.a.createElement(Ve,null,n&&a.a.createElement(Be,{src:n}),r&&a.a.createElement(ze,null,r),t)},Ve=d.c.div(Fe()),ze=d.c.span(Me()),Be=Object(d.c)(Se.a)(_e()),Pe=a.a.memo(function(e){var n=e.product,t=e.order,r=e.isLoading,i=e.addToCart,c=a.a.useMemo(function(){return a.a.createElement(Te,{currency:n.price.currency,value:Math.round(100*n.price.amount)/100})},[n]);return a.a.createElement(te,{image:n.image_url,name:n.name,order:t,value:c,isLoading:r,description:n.description,actionButtonContent:a.a.createElement(Ie.a,null),onAction:function(){return i(n)}})});function Le(){var e=Object(u.a)(["\n  display: grid;\n  padding: 30px 0;\n  grid-gap: 30px;\n  grid-template-columns: ",";\n  justify-content: center;\n"]);return Le=function(){return e},e}function Ae(){var e=Object(u.a)(["\n  height: 100%;\n"]);return Ae=function(){return e},e}var We=function(){var e=a.a.useContext(W),n=e.logToken,t=e.projectId,r=e.addToCart,i=e.setStateFrom,c=e.physicalItems,o=e.arePhysicalItemsFetching,u=e.setPhysicalItems,l=e.isCartProcessing,s=Object(v.useSnackbar)().enqueueSnackbar;a.a.useEffect(function(){i("arePhysicalItemsFetching",!0),Oe(t,n).then(function(e){u(e),i("arePhysicalItemsFetching",!1)}).catch(function(e){s(e.message,{variant:"error"}),i("arePhysicalItemsFetching",!1)})},[t]);var m=a.a.useMemo(function(){return c.length>0&&a.a.createElement(De,null,c.map(function(e,n){return a.a.createElement(Pe,{order:n,key:e.sku,product:e,isLoading:l,addToCart:r})}))},[c,l]);return a.a.createElement(qe,null,o?a.a.createElement(x,null):m)},qe=d.c.div(Ae()),De=d.c.div(Le(),function(e){var n=e.theme;return"repeat(auto-fit, minmax(\n    ".concat(n.shape.cardWidth,", \n    ").concat(n.shape.cardWidth,"\n  ))")}),Ue=t(267),Ge=t(274),Ne=t(268),Re=t(263);function Je(){var e=Object(u.a)(["\n  padding: 30px 0;\n  \n  & .MuiTabs-flexContainer {\n    justify-content: center;\n  };\n"]);return Je=function(){return e},e}var He=function(e){var n=e.groups,t=e.activeGroup,r=e.onGroupChange;return a.a.createElement(Xe,{value:t,onChange:function(e,n){return r(n)},variant:"scrollable",textColor:"primary",indicatorColor:"primary"},n.map(function(e){return a.a.createElement(Re.a,{value:e.id,key:e.id,label:e.label})}))},Xe=Object(d.c)(Ne.a)(Je()),Qe=function(){var e=Object(V.a)(T.a.mark(function e(n){var t,r;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://store.xsolla.com/api/v2/project/".concat(n,"/items/virtual_items"),e.next=3,B.a.get(t);case 3:return r=e.sent,e.abrupt("return",r.data.items);case 5:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(V.a)(T.a.mark(function e(n){var t,r;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://store.xsolla.com/api/v2/project/".concat(n,"/items/virtual_currency"),e.next=3,B.a.get(t);case 3:return r=e.sent,e.abrupt("return",r.data.items);case 5:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(V.a)(T.a.mark(function e(n){var t;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://livedemo.xsolla.com/store-demo/api/index.php",e.next=3,B.a.post("https://livedemo.xsolla.com/store-demo/api/index.php",n);case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}();function $e(){var e=Object(u.a)(["\n  && {\n    margin-right: 10px;\n  }\n"]);return $e=function(){return e},e}function Ke(){var e=Object(u.a)(["\n  position: relative;\n"]);return Ke=function(){return e},e}function en(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding: 20px 0;\n"]);return en=function(){return e},e}function nn(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-column-gap: 20px;\n"]);return nn=function(){return e},e}function tn(){var e=Object(u.a)(["\n  width: 100%;\n"]);return tn=function(){return e},e}function rn(){var e=Object(u.a)(["\n  max-width: 400px;\n  width: 100%;\n  padding: 20px;\n"]);return rn=function(){return e},e}function an(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 50px;\n"]);return an=function(){return e},e}var cn=[{id:"d342dad2-9d59-11e9-a384-42010aa8003f",name:"support@xsolla.com"},{id:"7d8b1f52-7d3f-400b-acd8-46e3a4368596",name:"v.legotkin@xsolla.com"},{id:"27bc1227-48a3-4da8-bb86-f8d093f68805",name:"r.ushakov@xsolla.com"},{id:"a7d10a4e-3f68-43cc-a6b2-893d2c68fd14",name:"p.sanachev@xsolla.com"}],on=[{id:"items",label:"Items"},{id:"currencies",label:"Currencies"}],un=function(){var e=a.a.useContext(W),n=e.projectId,t=e.updateVirtualCurrencyBalance,r=Object(v.useSnackbar)().enqueueSnackbar,i=a.a.useState(null),c=Object(G.a)(i,2),o=c[0],u=c[1],l=a.a.useState(null),s=Object(G.a)(l,2),m=s[0],d=s[1],p=a.a.useState(null),f=Object(G.a)(p,2),h=f[0],g=f[1],b=a.a.useState(1),y=Object(G.a)(b,2),j=y[0],E=y[1],C=a.a.useState(!1),w=Object(G.a)(C,2),O=w[0],k=w[1],I=a.a.useState(!1),S=Object(G.a)(I,2),_=S[0],M=S[1],F=a.a.useState([]),T=Object(G.a)(F,2),V=T[0],z=T[1],B=a.a.useState(!1),P=Object(G.a)(B,2),L=P[0],A=P[1],q=a.a.useState([]),D=Object(G.a)(q,2),U=D[0],N=D[1],R=_||L,J=a.a.useMemo(function(){return cn.map(function(e){return a.a.createElement(Ge.a,{value:e.id},e.name)},cn)}),H=a.a.useMemo(function(){return V.map(function(e){return a.a.createElement(Ge.a,{value:e.sku},e.name)},V)}),Q=a.a.useMemo(function(){return U.map(function(e){return a.a.createElement(Ge.a,{value:e.sku},e.name)},U)}),Z={items:{name:"Item",items:V,options:H},currencies:{name:"Currency",items:U,options:Q}},Y=function(e){if(h&&o){var n={type:e,user:o,item:h,count:j};k(!0),r("Operation is processing",{variant:"info"}),Ye(n).then(function(){k(!1),t(),r("Complete",{variant:"success"})}).catch(function(e){k(!1),r(e.message,{variant:"error"})})}};return a.a.useEffect(function(){u(cn[0]?cn[0].id:null)},[cn]),a.a.useEffect(function(){d(on[0]?on[0].id:null)},[on]),a.a.useEffect(function(){m&&Z[m]&&Z[m].items[0]&&(g(Z[m].items[0].sku),E(1))},[V,U,m]),a.a.useEffect(function(){0===V.length&&(M(!0),Qe(n).then(function(e){M(!1),z(e)}).catch(function(e){M(!1),r(e.message,{variant:"error"})}))},[V]),a.a.useEffect(function(){0===V.length&&(A(!0),Ze(n).then(function(e){A(!1),N(e)}).catch(function(e){A(!1),r(e.message,{variant:"error"})}))},[U]),a.a.createElement(ln,null,R?a.a.createElement(x,null):a.a.createElement(sn,{onSubmit:function(e){return e.preventDefault()}},a.a.createElement(mn,{select:!0,label:"User",value:o,color:"primary",onChange:function(e){return u(e.target.value)}},J),a.a.createElement(He,{groups:on,activeGroup:m,onGroupChange:d}),a.a.createElement(dn,null,Z[m]&&a.a.createElement(mn,{select:!0,label:Z[m].name,value:h,color:"primary",onChange:function(e){return g(e.target.value)}},Z[m].options),a.a.createElement(mn,{type:"number",label:"Quantity",value:j,color:"primary",onChange:function(e){var n=Number(e.target.value);E(n>=1?n:1)}})),a.a.createElement(pn,null,a.a.createElement(fn,null,O&&a.a.createElement(x,{size:24}),a.a.createElement(hn,{type:"submit",variant:"contained",disabled:O,onClick:function(){return Y("reward")}},"Reward"),a.a.createElement(X.a,{variant:"contained",disabled:O,onClick:function(){return Y("revoke")}},"Revoke")))))},ln=d.c.div(an()),sn=d.c.form(rn()),mn=Object(d.c)(Ue.a)(tn()),dn=d.c.div(nn()),pn=d.c.div(en()),fn=d.c.div(Ke()),hn=Object(d.c)(X.a)($e()),vn=t(144),gn=function(){var e=Object(V.a)(T.a.mark(function e(n,t){var r,a,i,c,o;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://store.xsolla.com/api/v1/project/".concat(n,"/items/groups"),e.next=3,B.a.get(r,{headers:{Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.next=6,Promise.all(a.data.groups.map(function(){var e=Object(V.a)(T.a.mark(function e(t){var r;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bn(n,t.external_id);case 2:return r=e.sent,e.abrupt("return",{groupID:t.external_id,groupName:t.name,items:r});case 4:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}()));case 6:return i=e.sent,c=Object(vn.a)(i),o=c.slice(0),e.abrupt("return",o);case 10:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}(),bn=function(){var e=Object(V.a)(T.a.mark(function e(n,t){var r,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://store.xsolla.com/api/v2/project/".concat(n,"/items/virtual_items/group/").concat(t),e.next=3,B.a.get(r);case 3:return a=e.sent,e.abrupt("return",a.data.items);case 5:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}();function xn(){var e=Object(u.a)(["\n  color: ",";\n  opacity: 0.8;\n"]);return xn=function(){return e},e}var yn=a.a.memo(function(e){var n=e.product,t=e.order,r=e.isLoading,i=e.addToCart,c=e.buyByVC,o=e.isPurchased,u=n.virtual_prices&&n.virtual_prices.length>0,l=a.a.useCallback(function(){return c(n)},[]),s=a.a.useCallback(function(){return i(n)},[]),m=a.a.useMemo(function(){return u?l:s},[u]),d=a.a.useMemo(function(){return u?"Buy now":a.a.createElement(Ie.a,null)},[n]),p=a.a.useMemo(function(){return o?a.a.createElement(jn,null,"Purchased"):u?a.a.createElement(Te,{image:n.virtual_prices[0].image_url,value:n.virtual_prices[0].amount}):a.a.createElement(Te,{currency:n.price.currency,value:Math.round(100*n.price.amount)/100})},[n,u,o]);return a.a.createElement(te,{image:n.image_url,name:n.name,order:t,value:p,isLoading:r,description:n.description,actionButtonContent:d,onAction:o?void 0:m})}),jn=d.c.div(xn(),function(e){return e.theme.palette.text.primary});function En(){var e=Object(u.a)(["\n  color: ",";\n  min-height: 2em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  width: 100%;\n  font-size: 1.2em;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n"]);return En=function(){return e},e}function Cn(){var e=Object(u.a)(["\n  display: grid;\n  padding: 30px 0;\n  grid-gap: 30px;\n  grid-template-columns: ",";\n  justify-content: center;\n"]);return Cn=function(){return e},e}function wn(){var e=Object(u.a)(["\n  background-color: transparent;\n"]);return wn=function(){return e},e}var On=function(){var e=a.a.useContext(W),n=e.cart,t=e.logToken,r=e.virtualItems,i=e.inventoryItems,c=e.addToCart,o=e.buyByVC,u=e.projectId,l=e.areVirtualItemsFetching,s=e.areInventoryItemsFetching,m=e.isCartProcessing,d=e.setInventoryItems,p=e.setVirtualItems,f=e.setStateFrom,h=Object(v.useSnackbar)().enqueueSnackbar,g=a.a.useState(null),b=Object(G.a)(g,2),y=b[0],j=b[1],E=a.a.useMemo(function(){return r.map(function(e){return{id:e.groupID,label:e.groupName}})},[r]);a.a.useEffect(function(){j(r[0]?r[0].groupID:null)},[r]),a.a.useEffect(function(){!l&&t&&0===r.length&&(f("areVirtualItemsFetching",!0),gn(u,t).then(function(e){p(e),f("areVirtualItemsFetching",!1)}).catch(function(e){f("areVirtualItemsFetching",!1),h(e.message,{variant:"error"})}))},[r]),a.a.useEffect(function(){!s&&t&&0===i.length&&n.cartId&&(f("areInventoryItemsFetching",!0),he(u,t).then(function(e){d(e),f("areInventoryItemsFetching",!1)}).catch(function(e){f("areInventoryItemsFetching",!1),h(e.message,{variant:"error"})}))},[i,n.cartId]);var C=a.a.useMemo(function(){return r.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement(He,{groups:E,activeGroup:y,onGroupChange:j}),r.map(function(e){return y===e.groupID&&a.a.createElement(a.a.Fragment,{key:e.groupID},a.a.createElement(Sn,null,e.groupName),a.a.createElement(In,null,e.items.map(function(e,n){return a.a.createElement(yn,{order:n,key:e.sku,product:e,isPurchased:null===e.inventory_options.consumable&&i.some(function(n){return e.sku===n.sku}),addToCart:c,isLoading:m,buyByVC:o})})))}))},[y,r,i,m]);return a.a.createElement(kn,null,l||s?a.a.createElement(x,null):C)},kn=d.c.div(wn()),In=d.c.div(Cn(),function(e){var n=e.theme;return"repeat(auto-fit, minmax(\n    ".concat(n.shape.cardWidth,", \n    ").concat(n.shape.cardWidth,"\n  ))")}),Sn=d.c.div(En(),function(e){return e.theme.palette.primary.contrastText}),_n=t(265),Mn=t(264),Fn=t(145),Tn=t.n(Fn),Vn=t(147),zn=t.n(Vn),Bn=t(146),Pn=t.n(Bn),Ln="375px",An="425px",Wn="768px",qn="1024px",Dn="1440px",Un="1920px",Gn="2560px",Nn={mobileS:"(max-width: ".concat("320px",")"),mobileM:"(max-width: ".concat(Ln,")"),mobileL:"(max-width: ".concat(An,")"),tablet:"(max-width: ".concat(Wn,")"),laptop:"(max-width: ".concat(qn,")"),laptopL:"(max-width: ".concat(Dn,")"),desktop:"(max-width: ".concat(Un,")"),retina:"(max-width: ".concat(Gn,")")};function Rn(){var e=Object(u.a)(["\n  @media "," {\n    && {\n      width: 1.5em;\n      height: 1.5em;\n    }\n  }\n"]);return Rn=function(){return e},e}function Jn(){var e=Object(u.a)(["\n  @media "," {\n    && {\n      width: 1.5em;\n      height: 1.5em;\n    }\n  }\n"]);return Jn=function(){return e},e}function Hn(){var e=Object(u.a)(["\n  @media "," {\n    && {\n      width: 1.5em;\n      height: 1.5em;\n    }\n  }\n"]);return Hn=function(){return e},e}function Xn(){var e=Object(u.a)(["\n  font-size: 0.8em;\n  opacity: 0.3;\n"]);return Xn=function(){return e},e}function Qn(){var e=Object(u.a)(["\n  font-weight: 600;\n"]);return Qn=function(){return e},e}function Zn(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n\n  @media "," {\n    flex-grow: 1;\n  }\n"]);return Zn=function(){return e},e}function Yn(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n\n  @media "," {\n    grid-column: 2 / 2;\n  }\n"]);return Yn=function(){return e},e}function $n(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: bolder;\n  min-width: 44px;\n  font-size: 1.2em;\n"]);return $n=function(){return e},e}function Kn(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n"]);return Kn=function(){return e},e}function et(){var e=Object(u.a)(["\n  font-weight: bolder;\n  margin-bottom: 5px;\n"]);return et=function(){return e},e}function nt(){var e=Object(u.a)(["  \n  padding: 10px;\n"]);return nt=function(){return e},e}function tt(){var e=Object(u.a)(["\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(",");\n"]);return tt=function(){return e},e}function rt(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-columns: 0.7fr 1.3fr 1fr;\n  color: ",";\n  overflow: hidden;\n  height: 130px;\n\n  @media "," {\n    height: 185px;\n    grid-template-columns: 0.9fr 1.1fr;\n    grid-template-rows: 120px 1fr;\n  }\n"]);return rt=function(){return e},e}var at=function(e){var n=e.item,t=e.changeItemQuantity,r=function(e,n){return Math.round(e*n*100)/100},i=function(){return t(n,n.quantity-1)};return a.a.createElement(it,null,a.a.createElement(ct,{image:n.image_url}),a.a.createElement(ot,null,a.a.createElement(ut,null,n.name),a.a.createElement(dt,null,a.a.createElement(pt,null,n.price.currency," ",r(n.price.amount,n.quantity)),n.quantity>1&&a.a.createElement(ft,null,n.price.currency," ",r(n.price.amount,1)," for one item"))),a.a.createElement(mt,null,a.a.createElement(lt,null,n.quantity>1?a.a.createElement(Mn.a,{color:"inherit",onClick:i},a.a.createElement(vt,null)):a.a.createElement(Mn.a,{color:"inherit",onClick:i},a.a.createElement(ht,null)),a.a.createElement(st,null,n.quantity),a.a.createElement(Mn.a,{color:"inherit",onClick:function(){return t(n,n.quantity+1)}},a.a.createElement(gt,null)))))},it=d.c.div(rt(),function(e){return e.theme.palette.text.primary},Nn.mobileL),ct=d.c.div(tt(),function(e){return e.image}),ot=d.c.div(nt()),ut=d.c.div(et()),lt=d.c.div(Kn()),st=d.c.div($n()),mt=d.c.div(Yn(),Nn.mobileL),dt=d.c.div(Zn(),Nn.mobileL),pt=d.c.div(Qn()),ft=d.c.div(Xn()),ht=Object(d.c)(Tn.a)(Hn(),Nn.mobileL),vt=Object(d.c)(Pn.a)(Jn(),Nn.mobileL),gt=Object(d.c)(zn.a)(Rn(),Nn.mobileL),bt=t(148),xt=t(116);function yt(e){return{name:e,fractionSize:2,symbol:{grapheme:e,template:null,rtl:!1},uniqSymbol:null}}var jt="en_US";function Et(e,n,t){var r=parseFloat(e);if(!n||isNaN(r))return{formattedCurrency:e+" "+n,dir:"ltr"};var a=function(e){return e&&bt[e.toUpperCase()]||yt(e)}(n),i=function(e){return e&&xt[function(e){return[e.substr(0,2).toLowerCase(),e.substr(3,2).toUpperCase()].join("_")}(e)]||xt[jt]}(t),c=r<0?"-":"",o=a.fractionSize,u=a.symbol,l=i.thousands,s=i.decimal;u&&!u.rtl||" "!==i.thousands||(l=",",s=".");var m=Math.abs(r).toFixed(o).split(".");m[0]=m[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+l);var d=m.join(s),p=c+d+" "+n,f=!1;return u&&u.template&&(p=c+u.template.replace("1",d).replace("$",u.grapheme),f=u.rtl),{formattedCurrency:p,dir:f?"rtl":"ltr"}}var Ct=function(){var e=Object(V.a)(T.a.mark(function e(n){var t;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://livedemo.xsolla.com/store-demo/api/index.php",e.next=3,B.a.post("https://livedemo.xsolla.com/store-demo/api/index.php",n);case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}();function wt(){var e=Object(u.a)(["\n  &.MuiDivider-root {\n    background-color: ",";\n    opacity: 0.1;\n    margin-bottom: 5px;\n  }\n"]);return wt=function(){return e},e}function Ot(){var e=Object(u.a)(["\n  min-width: 80px;\n  text-align: right;\n"]);return Ot=function(){return e},e}function kt(){var e=Object(u.a)(["\n  display: flex;\n  font-weight: bold; \n  color: ",";\n  margin-right: 10px;\n\n  @media "," {\n    justify-content: flex-end;\n    width: 100%;\n    margin-bottom: 15px;\n    margin-right: 0;\n  }\n"]);return kt=function(){return e},e}function It(){var e=Object(u.a)(["\n  display: flex;\n\n  @media "," {\n    justify-content: flex-end;\n    width: 100%;\n  }\n"]);return It=function(){return e},e}function St(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  padding: 24px 0 24px 0;\n"]);return St=function(){return e},e}function _t(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ",";\n  height: 100%;\n"]);return _t=function(){return e},e}function Mt(){var e=Object(u.a)(["\n  display: grid;\n  grid-row-gap: 30px;\n  padding: 16px 0;\n"]);return Mt=function(){return e},e}function Ft(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  max-width: 600px;\n  padding: 0 20px;\n"]);return Ft=function(){return e},e}function Tt(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 50px;\n"]);return Tt=function(){return e},e}var Vt=function(){var e=a.a.useContext(W),n=e.cart,t=e.changeItemQuantityInCart,r=Object(v.useSnackbar)().enqueueSnackbar,i=a.a.useState(),c=Object(G.a)(i,2),o=c[0],u=c[1],l=a.a.useCallback(function(){var e={type:"purchase",user:"d342dad2-9d59-11e9-a384-42010aa8003f",platform:"playstation_network",purchase:{amount:n.price.amount,currency:n.price.currency,external_purchase_id:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}),external_purchase_date:(new Date).toISOString()},items:n.items.map(function(e){return{sku:e.sku,quantity:e.quantity}})};u(!0),r("Operation is processing",{variant:"info"}),Ct(e).then(function(){u(!1),r("Complete",{variant:"success"})}).catch(function(e){u(!1),r(e.message,{variant:"error"})})},[]),s=a.a.useMemo(function(){return n.items.length>0?a.a.createElement(Pt,null,n.items.map(function(e){return a.a.createElement(a.a.Fragment,{key:e.sku},a.a.createElement(at,{item:e,changeItemQuantity:t}),a.a.createElement(Ut,null))})):a.a.createElement(Lt,null,"Oops, you have nothing bought yet!")},[n]),m=a.a.useMemo(function(){return n.items.length>0&&a.a.createElement(At,null,a.a.createElement(qt,null,"Subtotal:",a.a.createElement(Dt,null,Et(function(e){var n=e.reduce(function(e,n){return e+n.price.amount*n.quantity},0);return Math.round(100*n)/100}(n.items),n.price.currency||n.items[0].price.currency).formattedCurrency)),a.a.createElement(Wt,null,a.a.createElement(X.a,{variant:"contained",disabled:o,onClick:l},o?a.a.createElement(g.a,{size:24,color:"secondary"}):"Grant purchase")))},[n,o]);return a.a.createElement(zt,null,a.a.createElement(Bt,null,s,m))},zt=d.c.div(Tt()),Bt=d.c.div(Ft()),Pt=d.c.div(Mt()),Lt=d.c.div(_t(),function(e){return e.theme.palette.text.primary}),At=d.c.div(St()),Wt=d.c.div(It(),Nn.tablet),qt=d.c.div(kt(),function(e){return e.theme.palette.text.primary},Nn.tablet),Dt=d.c.div(Ot()),Ut=Object(d.c)(_n.a)(wt(),function(e){return e.theme.palette.primary.contrastText}),Gt=function(){var e=Object(V.a)(T.a.mark(function e(n){var t,r;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://store.xsolla.com/api/v2/projects/entitlement",t={headers:{Authorization:"Bearer ".concat(n)}},e.next=4,B.a.get("https://store.xsolla.com/api/v2/projects/entitlement",t);case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),Nt=function(){var e=Object(V.a)(T.a.mark(function e(n,t,r,a){var i,c,o;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(de.b)({projectId:n,version:"v2"}),"https://store.xsolla.com/api/v1/game_delivery/xsolla_login/redeem_key",i={project_id:n,digital_content_sku:a,language:"en",key:r},c={headers:{Authorization:"Bearer ".concat(t)}},e.next=6,B.a.post("https://store.xsolla.com/api/v1/game_delivery/xsolla_login/redeem_key",i,c);case 6:return o=e.sent,e.abrupt("return",o.data);case 8:case"end":return e.stop()}},e,this)}));return function(n,t,r,a){return e.apply(this,arguments)}}();function Rt(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding: 20px 0;\n"]);return Rt=function(){return e},e}function Jt(){var e=Object(u.a)(["\n  && {\n    min-width: 140px;\n  }\n"]);return Jt=function(){return e},e}function Ht(){var e=Object(u.a)(["\n  && {\n    width: 100%;\n    margin-bottom: 20px;\n  }\n"]);return Ht=function(){return e},e}function Xt(){var e=Object(u.a)(["\n  max-width: 400px;\n  width: 100%;\n  padding: 20px;\n"]);return Xt=function(){return e},e}function Qt(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-top: 50px;\n"]);return Qt=function(){return e},e}var Zt=function(){var e=a.a.useContext(W),n=e.projectId,t=e.logToken,r=e.setEntitlementItems,i=e.entitlementItems,c=e.areEntitlementItemsFetching,o=e.isRedeeming,u=e.setStateFrom,l=Object(v.useSnackbar)().enqueueSnackbar,s=a.a.useState(""),m=Object(G.a)(s,2),d=m[0],p=m[1],f=a.a.useState(""),h=Object(G.a)(f,2),b=h[0],x=h[1],y=a.a.useCallback(function(e){return x(e.target.value)}),j=a.a.useCallback(function(e){return p(e.target.value)}),E=function(){u("areEntitlementItemsFetching",!0),Gt(t).then(function(e){u("areEntitlementItemsFetching",!1),r(e)}).catch(function(e){u("areEntitlementItemsFetching",!1);var n=e.response?e.response.data.errorMessage:e.message;l(n,{variant:"error"})})};a.a.useEffect(function(){E()},[]);var C=a.a.useMemo(function(){return i.length>0?i.map(function(e,n){return a.a.createElement(te,{key:e.digital_content_sku,order:n,name:e.name,description:e.description,image:e.image_url})}):a.a.createElement("div",null,"Oops, you have no games yet!")},[i]);return a.a.createElement(Yt,null,a.a.createElement($t,{onSubmit:function(e){e.preventDefault(),u("isRedeeming",!0),Nt(n,t,b,d).then(function(){u("isRedeeming",!1),E()}).catch(function(e){u("isRedeeming",!1);var n=e.response?e.response.data.errorMessage:e.message;l(n,{variant:"error"})})}},a.a.createElement(Kt,{color:"primary",placeholder:"Enter your code",onChange:y,value:b}),a.a.createElement(Kt,{color:"primary",placeholder:"Enter sku of your game",onChange:j,value:d}),a.a.createElement(nr,null,a.a.createElement(er,{color:"secondary",type:"submit",variant:"contained"},o?a.a.createElement(g.a,{size:24,color:"primary"}):"Redeem Code"))),a.a.createElement("div",null,c?a.a.createElement(g.a,{size:24,color:"primary"}):C))},Yt=d.c.div(Qt()),$t=d.c.form(Xt()),Kt=Object(d.c)(Ue.a)(Ht()),er=Object(d.c)(X.a)(Jt()),nr=d.c.div(Rt()),tr=t(111),rr=t.n(tr),ar=t(270),ir=t(257),cr=t(275),or={items:"/",currencies:"/crystals",physical:"/physical",inventory:"/inventory",entitlement:"/entitlement",manage:"/manage",purchase:"/purchase",specificProject:"/projects/:projectID"},ur=[{route:or.items,label:"Items"},{route:or.currencies,label:"Currencies"},{route:or.physical,label:"Merchandise"},{route:or.inventory,label:"Inventory"},{route:or.entitlement,label:"Entitlement"},{route:or.manage,label:"Manage"},{route:or.purchase,label:"Server purchase"}],lr=function(e){return ur.filter(function(n){return e.includes(n.route)}).sort(function(n,t){return e.indexOf(n.route)-e.indexOf(t.route)})};function sr(){var e=Object(u.a)(["\n  min-width: 80px;\n  text-align: right;\n"]);return sr=function(){return e},e}function mr(){var e=Object(u.a)(["\n  display: flex;\n  flex-grow: 1;\n  font-weight: bold;\n  margin-right: 10px;\n\n  @media "," {\n    justify-content: flex-end;\n    width: 100%;\n    margin-bottom: 15px;\n    margin-right: 0;\n  }\n"]);return mr=function(){return e},e}function dr(){var e=Object(u.a)(["\n  display: flex;\n\n  @media "," {\n    justify-content: flex-end;\n    width: 100%;\n  }\n"]);return dr=function(){return e},e}function pr(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  flex-wrap: wrap;\n  border-top: 1px solid ",";\n  padding: 24px 0 24px 0;\n"]);return pr=function(){return e},e}function fr(){var e=Object(u.a)(["\n  display: grid;\n  grid-row-gap: 30px;\n  flex-grow: 1;\n  padding: 16px 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n"]);return fr=function(){return e},e}function hr(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: ",";\n  border-bottom: 1px solid ",";\n  z-index: 10;\n  padding: 24px 0 8px 0;\n"]);return hr=function(){return e},e}function vr(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  padding: 0 32px;\n  width: 680px;\n  max-height: 80vh;\n  outline: none;\n\n  @media "," {\n    padding: 0 16px;\n    max-height: none;\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n  }\n"]);return vr=function(){return e},e}function gr(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return gr=function(){return e},e}var br=function(){var e=a.a.useState(!1),n=Object(G.a)(e,2),t=n[0],r=n[1],i=a.a.useContext(W),c=i.cart,o=i.hideCart,u=i.logToken,l=i.clearCart,s=i.isCartShown,d=i.changeItemQuantityInCart,p=Object(v.useSnackbar)().enqueueSnackbar,f=Object(m.f)();return a.a.createElement(xr,{open:s,onClose:o,closeAfterTransition:!0,BackdropComponent:cr.a,BackdropProps:{timeout:250}},a.a.createElement(ir.a,{in:s,timeout:250},a.a.createElement(yr,null,a.a.createElement(jr,null,a.a.createElement("h4",null,"Cart"),a.a.createElement(Mn.a,{color:"inherit",onClick:o},a.a.createElement(rr.a,null))),a.a.createElement(Er,null,c.items.length>0?c.items.map(function(e){return a.a.createElement(at,{item:e,changeItemQuantity:d})}):a.a.createElement("p",null,"Empty cart")),a.a.createElement(Cr,null,c.items.length>0&&a.a.createElement(Or,null,"Subtotal:",a.a.createElement(kr,null,Et(function(e){var n=e.reduce(function(e,n){return e+n.price.amount*n.quantity},0);return Math.round(100*n)/100}(c.items),c.price.currency||c.items[0].price.currency).formattedCurrency)),a.a.createElement(wr,null,a.a.createElement(X.a,{variant:"contained",color:"secondary",disabled:0===c.items.length,style:{marginRight:"7px"},onClick:function(){t||c.items.length<=0||(f.push(or.purchase),o())}},"Buy on PS4"),a.a.createElement(X.a,{variant:"contained",color:"secondary",disabled:0===c.items.length,onClick:function(){o(),function(e,n){var t={url:"https://store.xsolla.com/api/v2/project/"+window.xProjectId+"/payment/cart/"+e,method:"POST",headers:{Authorization:"Bearer "+n},data:{sandbox:!0,settings:{ui:{theme:"dark"}}}};return B()(t).then(function(e){return e}).catch(function(e){})}(c.cartId,u).then(function(e){r(!0),window.xPayStationInit(e.data.token,{sandbox:!0,host:"sandbox-secure.xsolla.com"}),window.XPayStationWidget.open(),window.XPayStationWidget.on(window.XPayStationWidget.eventTypes.CLOSE,function(){return r(!1)}),window.XPayStationWidget.on(window.XPayStationWidget.eventTypes.STATUS_DONE,l)}).catch(function(e){r(!1);var n=e.response?e.response.data.errorMessage:e.message;p(n,{variant:"error"})})}},"Buy on Xsolla"))))))},xr=Object(d.c)(ar.a)(gr()),yr=d.c.div(vr(),function(e){var n=e.theme;return"".concat(n.shape.borderRadius,"px")},function(e){return e.theme.palette.background.default},function(e){return e.theme.palette.text.primary},Nn.tablet),jr=d.c.div(hr(),function(e){return e.theme.palette.text.primary},function(e){var n=e.theme;return s()(n.palette.text.primary).alpha(.1).string()}),Er=d.c.div(fr()),Cr=d.c.div(pr(),function(e){var n=e.theme;return s()(n.palette.text.primary).alpha(.1).string()}),wr=d.c.div(dr(),Nn.tablet),Or=d.c.div(mr(),Nn.tablet),kr=d.c.div(sr());function Ir(){var e=Object(u.a)(["\n  font-weight: bolder;\n  margin-bottom: 5px;\n"]);return Ir=function(){return e},e}function Sr(){var e=Object(u.a)(["\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(",");\n"]);return Sr=function(){return e},e}function _r(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-columns: 0.7fr 1.3fr 1fr;\n  overflow: hidden;\n  height: 130px;\n\n  @media "," {\n    height: 185px;\n    grid-template-columns: 0.9fr 1.1fr;\n    grid-template-rows: 120px 1fr;\n  }\n"]);return _r=function(){return e},e}var Mr=a.a.memo(function(e){var n=e.item;return a.a.createElement(Fr,null,a.a.createElement(Tr,{image:n.image_url}),a.a.createElement("div",null,a.a.createElement(Vr,null,n.name),a.a.createElement("div",null,n.description)))}),Fr=d.c.div(_r(),Nn.mobileL),Tr=d.c.div(Sr(),function(e){return e.image}),Vr=d.c.div(Ir());function zr(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: flex-end;\n  border-top: 1px solid ",";\n  padding: 24px 0 24px 0;\n"]);return zr=function(){return e},e}function Br(){var e=Object(u.a)(["\n  display: grid;\n  grid-row-gap: 30px;\n  flex-grow: 1;\n  padding: 16px 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n"]);return Br=function(){return e},e}function Pr(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid ",";\n  z-index: 10;\n  padding: 24px 0 8px 0;\n"]);return Pr=function(){return e},e}function Lr(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  padding: 0 32px;\n  width: 680px;\n  max-height: 80vh;\n  outline: none;\n\n  @media "," {\n    padding: 0 16px;\n    max-height: none;\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n  }\n"]);return Lr=function(){return e},e}function Ar(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Ar=function(){return e},e}var Wr=function(){var e=a.a.useContext(W),n=e.vcCart,t=e.isVCCartShown,r=e.projectId,i=e.logToken,c=e.clearVCCart,o=e.setStateFrom,u=e.hideVCCart,l=e.isVCCartProcessing,s=e.updateVirtualCurrencyBalance,m=Object(v.useSnackbar)().enqueueSnackbar;return a.a.createElement(qr,{open:t,onClose:u,closeAfterTransition:!0,BackdropComponent:cr.a,BackdropProps:{timeout:250}},a.a.createElement(ir.a,{in:t,timeout:250},a.a.createElement(Dr,null,a.a.createElement(Ur,null,a.a.createElement("h4",null,"Confirm"),a.a.createElement(Mn.a,{color:"inherit",onClick:u},a.a.createElement(rr.a,null))),a.a.createElement(Gr,null,n.items.length>0?n.items.map(function(e){return a.a.createElement(Mr,{item:e})}):a.a.createElement("p",null,"Empty cart")),a.a.createElement(Nr,null,a.a.createElement(X.a,{variant:"contained",disabled:l,onClick:function(){o("isVCCartProcessing",!0),A(r,n.items[0],i).then(function(){o("isVCCartProcessing",!1),c(),s()}).catch(function(e){o("isVCCartProcessing",!1);var n=e.response?e.response.data.errorMessage:e.message;m(n,{variant:"error"})})}},l?a.a.createElement(g.a,{size:24,color:"secondary"}):"Buy")))))},qr=Object(d.c)(ar.a)(Ar()),Dr=d.c.div(Lr(),function(e){var n=e.theme;return"".concat(n.shape.borderRadius,"px")},function(e){return e.theme.palette.background.default},function(e){return e.theme.palette.text.primary},Nn.tablet),Ur=d.c.div(Pr(),function(e){var n=e.theme;return s()(n.palette.text.primary).alpha(.1).string()}),Gr=d.c.div(Br()),Nr=d.c.div(zr(),function(e){var n=e.theme;return s()(n.palette.text.primary).alpha(.1).string()}),Rr=a.a.memo(function(e){var n=e.product,t=e.order,r=e.isLoading,i=e.addToCart,c=a.a.useMemo(function(){return a.a.createElement(Te,{currency:n.price.currency,value:Math.round(100*n.price.amount)/100})},[n]);return a.a.createElement(te,{image:n.image_url,name:n.name,order:t,value:c,isLoading:r,description:n.description,actionButtonContent:a.a.createElement(Ie.a,null),onAction:function(){return i(n)}})}),Jr=function(){var e=Object(V.a)(T.a.mark(function e(n,t){var r,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://store.xsolla.com/api/v2/project/".concat(n,"/items/virtual_currency/package"),e.next=3,B.a.get(r,{headers:{Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.abrupt("return",a.data.items);case 5:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}();function Hr(){var e=Object(u.a)(["\n  display: grid;\n  padding: 30px 0;\n  grid-gap: 30px;\n  grid-template-columns: ",";\n  justify-content: center;\n"]);return Hr=function(){return e},e}function Xr(){var e=Object(u.a)(["\n  background-color: transparent;\n"]);return Xr=function(){return e},e}var Qr=function(){var e=a.a.useContext(W),n=e.logToken,t=e.projectId,r=e.addToCart,i=e.setStateFrom,c=e.virtualCurrencies,o=e.areVirtualCurrenciesFetching,u=e.isCartProcessing,l=e.setVirtualCurrencies,s=Object(v.useSnackbar)().enqueueSnackbar;a.a.useEffect(function(){i("areVirtualCurrenciesFetching",!0),Jr(t,n).then(function(e){l(e),i("areVirtualCurrenciesFetching",!1)}).catch(function(e){s(e.message,{variant:"error"}),i("areVirtualCurrenciesFetching",!1)})},[]);var m=a.a.useMemo(function(){return c.length>0&&a.a.createElement(Yr,null,c.map(function(e,n){return a.a.createElement(Rr,{order:n,key:e.sku,product:e,isLoading:u,addToCart:r})}))},[c,u]);return a.a.createElement(Zr,null,o?a.a.createElement(x,null):m)},Zr=d.c.div(Xr()),Yr=d.c.div(Hr(),function(e){var n=e.theme;return"repeat(auto-fit, minmax(\n    ".concat(n.shape.cardWidth,", \n    ").concat(n.shape.cardWidth,"\n  ))")}),$r=t(198),Kr=t(150),ea=t.n(Kr),na=t(152),ta=t.n(na),ra=t(151),aa=t.n(ra),ia=t(112),ca=t.n(ia);function oa(){var e=Object(u.a)(["\n  display: flex;\n  align-content: center;\n  justify-content: center;\n  text-align: center;\n  padding: 36px;\n  overflow: hidden;\n  margin: 0 70px;\n  border-radius: 8px;\n"]);return oa=function(){return e},e}function ua(){var e=Object(u.a)(["\n  padding: 20px 70px;\n  display: flex;\n  align-content: center;\n  justify-content: center;\n  flex-direction: column;\n  flex-grow: 1;\n  font-size: 22px;\n  width: 600px;\n  & a {\n    /* font-family: 'PS Mono', Courier, monospace; */\n    text-decoration: underline;\n    font-size: 28px;\n    line-height: 0px;\n  }\n"]);return ua=function(){return e},e}function la(){var e=Object(u.a)(["\n  position: fixed;\n  z-index: 99;\n  background: rgba(0, 0, 0, 0.8);\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n"]);return la=function(){return e},e}function sa(){var e=Object(u.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  min-height: 100%;\n  z-index: 100;\n  display: flex;\n  align-content: center;\n  justify-content: center;\n  flex-direction: column;\n"]);return sa=function(){return e},e}function ma(){var e=Object(u.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  min-height: 100%;\n  z-index: 1000;\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  justify-content: center;\n  overflow-y: scroll;\n  padding: 40px 0;\n"]);return ma=function(){return e},e}var da=function(e){function n(e){var t;return Object(E.a)(this,n),(t=Object(w.a)(this,Object(O.a)(n).call(this,e))).unauthorizedFlow=function(){t.setState({logToken:null}),t.setState({shown:!0})},t.authorizedFlow=function(e){t.setState({logToken:e,shown:!1}),t.user=function(e){var n=e.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(window.atob(n))}(e),t.setStateFrom("user",t.user),t.createCart()},t.state={shown:!0,logToken:null,psToken:null},t}return Object(k.a)(n,e),Object(C.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement(D,null,function(n){return e.setStateFrom=n.setStateFrom,e.createCart=n.createCart,a.a.createElement("div",null,a.a.createElement(pa,{style:{display:e.state.shown?"flex":"none"}},a.a.createElement(fa,null,a.a.createElement(va,null,"Current project: ",a.a.createElement("b",null,window.xProjectId)),a.a.createElement(ga,null,a.a.createElement("div",{id:"xl_auth"})),a.a.createElement(va,null,ba.map(function(e,n){var t=e.project_id,r=e.login_id,i="".concat("https://xsolla.github.io/store-demo/#/","?project_id=").concat(t,"&login_id=").concat(r);return a.a.createElement("div",{key:t+n,style:{marginBottom:"1em"}},a.a.createElement("div",{style:{fontSize:"0.4em"}},a.a.createElement("a",{href:i},t,": ",e.projectName)))}),a.a.createElement("p",null,"Open any Xsolla Store using GET parameters ",a.a.createElement("br",null),a.a.createElement("b",null,"project_id")," and ",a.a.createElement("b",null,"login_id")," (login must point back to https://xsolla.github.io/store-demo/#/)"))),a.a.createElement(ha,null)))})}},{key:"componentDidMount",value:function(){window.XloginInit();var e=S();e?this.authorizedFlow(e):this.unauthorizedFlow()}}]),n}(r.Component),pa=d.c.div(ma()),fa=d.c.div(sa()),ha=d.c.div(la()),va=d.c.div(ua()),ga=d.c.div(oa()),ba=[{projectName:"Xsolla Store Demo",project_id:47278,login_id:"fb2d7c69-bf25-11e9-9244-42010aa80004"}];function xa(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  height: 50px;\n  padding: 0 15px;\n  font-family: 'Helvetica Neue', 'Roboto', Arial, Helvetica, sans-serif;\n  background-color: ",";\n"]);return xa=function(){return e},e}function ya(){var e=Object(u.a)(["\n  && {\n    font-family: 'Roboto';\n    text-transform: uppercase;\n    color: ",";\n    margin: 0 1rem;\n  }\n"]);return ya=function(){return e},e}function ja(){var e=Object(u.a)(["\n  &.MuiButton-root {\n    margin-right: 10px;\n    font-size: 0.8rem;\n  }\n"]);return ja=function(){return e},e}function Ea(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  flex-grow: 1;\n\n  @media "," {\n    justify-content: center;\n  }\n"]);return Ea=function(){return e},e}function Ca(){var e=Object(u.a)(["\n  color: ",";\n  margin-right: 10px;\n"]);return Ca=function(){return e},e}function wa(){var e=Object(u.a)(["\n  &.MuiButton-root {\n    margin-right: 10px;\n  }\n"]);return wa=function(){return e},e}function Oa(){var e=Object(u.a)(["\n  display: flex;\n  padding: 15px 20px;\n  min-width: 200px;\n  align-items: center;\n  text-transform: uppercase;\n  text-decoration: none;\n  font-size: 1.2rem;\n  font-weight: 700;\n  line-height: 1.2rem;\n  height: 100%;\n  color: #d6e0e7;\n  border: none;\n\n  &:hover {\n    color: #ff005b;\n    text-decoration: none;\n  }\n\n  &.active {\n    color: #ff005b;\n  }\n"]);return Oa=function(){return e},e}function ka(){var e=Object(u.a)(["\n  &.MuiTab-root {\n    text-transform: uppercase;\n    font-size: 1.4rem;\n    font-weight: 700;\n    line-height: 1.4rem;\n    min-width: 50px;\n  }\n"]);return ka=function(){return e},e}function Ia(){var e=Object(u.a)(["\n  &.MuiTabs-root {\n    height: 100%\n  }\n"]);return Ia=function(){return e},e}function Sa(){var e=Object(u.a)(["\n  .MuiMenu-list {\n    background-color: ",";\n  }\n"]);return Sa=function(){return e},e}var _a=function(e){var n=e.isSpecificProject,t=a.a.useContext(W),r=t.logToken,i=t.user,c=t.userBalanceVirtualCurrency,u=t.projectId,l=t.showCart,s=t.setSideMenuVisibility,d=t.isUserBalanceFetching,f=t.isSideMenuShown,v=Object(m.g)().pathname,b=a.a.useState(null),x=Object(G.a)(b,2),y=x[0],j=x[1],E=function(){return j(null)},C=function(e){return j(e.currentTarget)},w=function(){return s(!f)},O=function(){_("xsolla_login_token"),_("xsolla_last_click_id"),window.location.reload()},k=r&&i,I=a.a.useMemo(function(){return lr([or.items,or.currencies].concat(Object(h.a)(44056===u?[or.physical]:[])))},[or,u]),S=a.a.useMemo(function(){return I.some(function(e){return e.route===v})},[I,v]),M=a.a.useMemo(function(){return lr([or.inventory,or.entitlement,or.manage,or.purchase])},[or]);return a.a.useMemo(function(){return a.a.createElement(Wa,null,!n&&a.a.createElement(a.a.Fragment,null,a.a.createElement(p.a,{mdDown:!0},a.a.createElement(Fa,{value:!!S&&v,textColor:"primary",indicatorColor:"primary",component:"nav"},I.map(function(e){return a.a.createElement(Ta,{key:e.route,component:o.b,label:e.label,value:e.route,to:e.route})}))),a.a.createElement(p.a,{lgUp:!0},a.a.createElement(Mn.a,{color:"primary",onClick:w},a.a.createElement(ea.a,null))),k&&a.a.createElement(Pa,null,d?a.a.createElement(g.a,{size:24,color:"primary"}):c.map(function(e){return a.a.createElement(Ba,{key:e.sku},a.a.createElement(Te,{image:e.image_url,value:e.amount}))}),a.a.createElement(p.a,{mdDown:!0},a.a.createElement(Aa,{endIcon:Boolean(y)?a.a.createElement(aa.a,null):a.a.createElement(ta.a,null),onClick:C},i.email))),a.a.createElement(da,null),!r&&a.a.createElement(La,{variant:"outlined",color:"secondary",size:"small"},"Log In"),k&&44056!==u&&a.a.createElement(za,{variant:"outlined",size:"small",onClick:O},a.a.createElement(ca.a,{size:"inherit"})),a.a.createElement(Ma,{anchorEl:y,getContentAnchorEl:null,transformOrigin:{vertical:"top",horizontal:"center"},anchorOrigin:{vertical:"bottom",horizontal:"center"},open:Boolean(y),onClose:E},M.map(function(e){return a.a.createElement(Va,{key:e.route,onClick:E,activeClassName:"active",to:e.route},e.label)}))),a.a.createElement(X.a,{variant:"contained",color:"primary",size:"small",onClick:l},a.a.createElement(Ie.a,{size:"inherit"}),a.a.createElement(p.a,{xsDown:!0},"cart")))},[v,k,c,M,u,y,n])},Ma=Object(d.c)($r.a)(Sa(),function(e){return e.theme.palette.background.default}),Fa=Object(d.c)(Ne.a)(Ia()),Ta=Object(d.c)(Re.a)(ka()),Va=Object(d.c)(o.b)(Oa()),za=Object(d.c)(X.a)(wa()),Ba=d.c.div(Ca(),function(e){return e.theme.palette.text.primary}),Pa=d.c.div(Ea(),Nn.mobileL),La=Object(d.c)(X.a)(ja()),Aa=Object(d.c)(X.a)(ya(),function(e){return e.theme.palette.primary.main}),Wa=d.c.header(xa(),function(e){return e.theme.palette.background.default}),qa=t(273),Da=t(153),Ua=t.n(Da);function Ga(){var e=Object(u.a)(["\n  flex-grow: 1;\n  padding: 0 15px;\n  text-transform: uppercase;\n  font-family: Roboto;\n  color: ",";\n"]);return Ga=function(){return e},e}function Na(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 49px;\n  border-bottom: 1px solid ",";\n"]);return Na=function(){return e},e}function Ra(){var e=Object(u.a)(["\n  &.MuiTab-root {\n    padding: 15px;\n    font-size: 1.3rem;\n    line-height: 1.3rem;\n    font-weight: 700;\n  }\n\n  & .MuiTab-wrapper {\n    align-items: flex-start;\n  }\n"]);return Ra=function(){return e},e}function Ja(){var e=Object(u.a)(["\n  &.MuiIconButton-root {\n    color: ",";\n  }\n"]);return Ja=function(){return e},e}function Ha(){var e=Object(u.a)(["\n  &.MuiDivider-root {\n    background-color: ",";\n    margin: 5px 0;\n  }\n"]);return Ha=function(){return e},e}function Xa(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 320px;\n  height: 100%;\n  background-color: ",";\n"]);return Xa=function(){return e},e}var Qa=function(){var e=a.a.useContext(W),n=e.isSideMenuShown,t=e.user,r=e.logToken,i=e.projectId,c=e.setSideMenuVisibility,u=Object(m.g)(),l=function(){return c(!1)};a.a.useEffect(function(){return l},[]);var s=r&&t,d=a.a.useMemo(function(){return lr([or.items,or.currencies].concat(Object(h.a)(44056===i?[or.physical]:[])))},[i]),p=a.a.useMemo(function(){return lr([or.inventory,or.entitlement,or.manage,or.purchase])},[]);return a.a.createElement(qa.a,{open:n,anchor:"left",onOpen:function(){return c(!0)},onClose:l},a.a.createElement(Za,null,a.a.createElement(ei,null,s&&44056!==i&&a.a.createElement($a,{onClick:function(){_("xsolla_login_token"),_("xsolla_last_click_id"),window.location.reload()}},a.a.createElement(ca.a,{size:"inherit"})),a.a.createElement(ni,null,t.email),a.a.createElement($a,{onClick:l},a.a.createElement(Ua.a,null))),a.a.createElement(Ne.a,{value:u.pathname,onChange:l,component:"nav",variant:"scrollable",color:"primary",indicatorColor:"primary",orientation:"vertical"},d.map(function(e){return a.a.createElement(Ka,{component:o.b,label:e.label,value:e.route,to:e.route})}),a.a.createElement(Ya,null),p.map(function(e){return a.a.createElement(Ka,{component:o.b,label:e.label,value:e.route,to:e.route})}))))},Za=d.c.div(Xa(),function(e){return e.theme.palette.background.default}),Ya=Object(d.c)(_n.a)(Ha(),function(e){var n=e.theme;return s()(n.palette.text.primary).alpha(.1).string()}),$a=Object(d.c)(Mn.a)(Ja(),function(e){return e.theme.palette.primary.main}),Ka=Object(d.c)(Re.a)(Ra()),ei=d.c.div(Na(),function(e){var n=e.theme;return s()(n.palette.text.primary).alpha(.1).string()}),ni=d.c.div(Ga(),function(e){return e.theme.palette.primary.main});function ti(){var e=Object(u.a)(["\n  position: relative;\n  height: 100%;\n  overflow-y: auto;\n"]);return ti=function(){return e},e}function ri(){var e=Object(u.a)(["\n    background-color: ",";\n  "]);return ri=function(){return e},e}function ai(){var e=Object(u.a)(["\n    background: ",";\n    background-attachment: fixed;\n    background-size: cover;\n    background-blend-mode: darken;\n  "]);return ai=function(){return e},e}function ii(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  font-family: ",";\n  ",";\n"]);return ii=function(){return e},e}var ci=d.c.div(ii(),function(e){return e.theme.typography.fontFamily},function(e){var n=e.theme;return e.hasBackground?Object(d.b)(ai(),function(e){var n=e.theme;return"url(".concat(n.palette.background.imageUrl,") ").concat(s()(n.palette.background.default).alpha(.8))}):Object(d.b)(ri(),n.palette.background.default)}),oi=d.c.div(ti()),ui=function(){var e=a.a.useContext(W),n=e.updateVirtualCurrencyBalance,t=e.clearCart,r=e.projectId,i=Object(m.h)({path:or.specificProject,strict:!0,sensitive:!0});return a.a.useEffect(function(){t()},[r]),a.a.useEffect(function(){n()},[]),a.a.useMemo(function(){return a.a.createElement(ci,{hasBackground:!i},a.a.createElement(_a,{isSpecificProject:i}),a.a.createElement(p.a,{lgUp:!0},a.a.createElement(Qa,null)),a.a.createElement(br,null),!i&&a.a.createElement(Wr,null),a.a.createElement(oi,null,a.a.createElement(m.c,null,a.a.createElement(m.a,{path:or.items,exact:!0,component:On}),a.a.createElement(m.a,{path:or.currencies,component:Qr}),a.a.createElement(m.a,{path:or.physical,component:We}),a.a.createElement(m.a,{path:or.inventory,component:ye}),a.a.createElement(m.a,{path:or.manage,component:un}),a.a.createElement(m.a,{path:or.entitlement,component:Zt}),a.a.createElement(m.a,{path:or.purchase,component:Vt}),a.a.createElement(m.a,{path:or.specificProject,component:We}))))},[i])},li=t(266),si=t(119),mi=t(61),di=Object(mi.a)({typography:{fontFamily:"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif"},palette:{primary:{main:"#FF005B",contrastText:"#F6FAFF"},secondary:{main:"#D6E0E7",contrastText:"#000"},text:{primary:"#D6E0E7",secondary:"#D6E0E7"},background:{default:"#011627",paper:"#011627",imageUrl:"https://res.cloudinary.com/maiik/image/upload/v1549624607/Xsolla/HomePage_Hero_Illustration_1440_oabqmk.jpg"},action:{selected:"#D6E0E712",hover:"#D6E0E708"}},shape:{borderRadius:6,cardWidth:"300px"}}),pi={vertical:"bottom",horizontal:"right"},fi=function(e){var n=e.children,t=Object(li.a)("@media ".concat(Nn.mobileL)),r=Object(m.h)({path:or.specificProject,strict:!0,sensitive:!0});return a.a.createElement(v.SnackbarProvider,{anchorOrigin:pi,dense:t,maxSnack:3,preventDuplicate:t},a.a.createElement(si.a,{theme:di},a.a.createElement(d.a,{theme:di},a.a.createElement(U,{projectId:r?r.params.projectID:window.xProjectId},n))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(o.a,{basename:"/"},a.a.createElement(fi,null,a.a.createElement(ui,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[161,2,1]]]);
//# sourceMappingURL=main.5f5f5bc7.chunk.js.map