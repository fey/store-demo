(this["webpackJsonpreact-store"]=this["webpackJsonpreact-store"]||[]).push([[0],{155:function(e,t,n){e.exports=n(214)},160:function(e,t,n){},214:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(11),o=n.n(i),c=n(34),u=(n(160),n(4)),l=n(27),s=n.n(l),m=n(50),p=n(3),d=n(265),f=n(36),h=n(28),b=n(14),v=n(20),g=n(252);function x(){var e=Object(u.a)(["\n  z-index: 9;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n"]);return x=function(){return e},e}var y=function(e){var t=e.size;return a.a.createElement(j,null,a.a.createElement(g.a,{size:t,color:"primary"}))},j=p.b.div(x()),E=n(69),C=n(43),O=n(44),w=n(83),k=n(78),I=n(84);function S(){return 44056===window.xProjectId?"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE5NjIyMzQwNDgsImlzcyI6Imh0dHBzOi8vbG9naW4ueHNvbGxhLmNvbSIsImlhdCI6MTU2MjE0NzY0OCwidXNlcm5hbWUiOiJ4c29sbGEiLCJ4c29sbGFfbG9naW5fYWNjZXNzX2tleSI6IjA2SWF2ZHpDeEVHbm5aMTlpLUc5TmMxVWFfTWFZOXhTR3ZEVEY4OFE3RnMiLCJzdWIiOiJkMzQyZGFkMi05ZDU5LTExZTktYTM4NC00MjAxMGFhODAwM2YiLCJlbWFpbCI6InN1cHBvcnRAeHNvbGxhLmNvbSIsInR5cGUiOiJ4c29sbGFfbG9naW4iLCJ4c29sbGFfbG9naW5fcHJvamVjdF9pZCI6ImU2ZGZhYWM2LTc4YTgtMTFlOS05MjQ0LTQyMDEwYWE4MDAwNCIsInB1Ymxpc2hlcl9pZCI6MTU5MjR9.GCrW42OguZbLZTaoixCZgAeNLGH2xCeJHxl8u8Xn2aI":function(){var e;return window.location.search&&(e=function(e){e=e.split("+").join(" ");for(var t,n={},r=/[?&]?([^=]+)=([^&]*)/g;t=r.exec(e);)n[decodeURIComponent(t[1])]=decodeURIComponent(t[2]);return n}(window.location.search).token),e?(!function(e,t){var n=new Date;n.setTime(n.getTime()+864e5);var r="expires="+n.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"}("xsolla_login_token",e),window.history.pushState("","",document.location.pathname)):e=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var a=n[r];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return""}("xsolla_login_token"),e&&"undefined"!==e?e:null}()}function _(e){return document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;"}var M=n(8),F=n.n(M),T=n(13),V=n(16),z=n.n(V),B=z.a.CancelToken,L=function(){},A=function(){var e=Object(T.a)(F.a.mark((function e(t,n,r){var a,i,o;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://store.xsolla.com/api/v2/project/".concat(t,"/cart/").concat(r),i={headers:{Authorization:"Bearer ".concat(n)},cancelToken:new B((function(e){L(),L=e}))},e.next=4,z.a.get(a,i);case 4:return o=e.sent,e.abrupt("return",o.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),P=function(){},q=function(){var e=Object(T.a)(F.a.mark((function e(t,n,r,a,i){var o,c,u,l;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="https://store.xsolla.com/api/v2/project/".concat(t,"/cart/").concat(r,"/item/").concat(a),c=JSON.stringify({quantity:i}),u={headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(n)},cancelToken:new B((function(e){L(),P(),P=e}))},e.next=5,z.a.put(o,c,u);case 5:return l=e.sent,e.abrupt("return",l.data);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),W=function(){var e=Object(T.a)(F.a.mark((function e(t,n){var r,a,i;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://store.xsolla.com/api/v1/project/".concat(t,"/cart"),a={headers:{Authorization:"Bearer ".concat(n)}},e.next=4,z.a.post(r,void 0,a);case 4:return i=e.sent,e.abrupt("return",i.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(T.a)(F.a.mark((function e(t,n,r,a){var i,o,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="https://store.xsolla.com/api/v2/project/".concat(t,"/cart/").concat(r,"/item/").concat(a),o={headers:{Authorization:"Bearer ".concat(n)},cancelToken:new B((function(e){L(),P()}))},e.next=4,z.a.delete(i,o);case 4:return c=e.sent,e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),N=function(){var e=Object(T.a)(F.a.mark((function e(t,n,r){var a,i,o,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://store.xsolla.com/api/v2/project/".concat(t,"/payment/cart/").concat(r),i={sandbox:!0,settings:{ui:{theme:"dark"}}},o={headers:{Authorization:"Bearer "+n}},e.next=5,z.a.post(a,i,o);case 5:return c=e.sent,e.abrupt("return",c.data);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),R=function(){var e=Object(T.a)(F.a.mark((function e(t,n,r){var a,i,o;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://store.xsolla.com/api/v2/project/".concat(t,"/payment/item/").concat(n.sku,"/virtual/").concat(n.virtual_prices[0].sku),i={headers:{Authorization:"Bearer ".concat(r)}},e.next=4,z.a.post(a,{},i);case 4:return o=e.sent,e.abrupt("return",o.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),U=function(){var e=Object(T.a)(F.a.mark((function e(t,n){var r,a,i;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://store.xsolla.com/api/v2/project/".concat(t,"/user/virtual_currency_balance"),a={headers:{Authorization:"Bearer ".concat(n)}},e.next=4,z.a.get(r,a);case 4:return i=e.sent,e.abrupt("return",i.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=a.a.createContext(),J=function(e){function t(){var e,n;Object(C.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(w.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(a)))).state={projectId:n.props.projectId,logToken:S(),user:null,isSideMenuShown:!1,userBalanceVirtualCurrency:[],isUserBalanceFetching:!1,virtualItems:[],areVirtualItemsFetching:!1,virtualCurrencies:[],areVirtualCurrenciesFetching:!1,physicalItems:[],arePhysicalItemsFetching:!1,inventoryItems:[],areInventoryItemsFetching:!1,isItemConsuming:!1,entitlementItems:[],areEntitlementItemsFetching:!1,isRedeeming:!1,isVCCartShown:!1,isVCCartProcessing:!1,vcCart:{items:[],vcPriceSku:null},isCartShown:!1,isCartCreating:!1,isCartLoading:!1,isQuantityChanging:!1,isItemAdding:!1,isItemRemoving:!1,cart:{cartId:null,items:[],price:{amount:0,amount_without_discount:0,currency:""}}},n.setStateFrom=function(e,t){return n.setState(Object(E.a)({},e,t))},n.showCart=function(){return n.setState({isCartShown:!0})},n.hideCart=function(){return n.setState({isCartShown:!1})},n.showVCCart=function(){return n.setState({isVCCartShown:!0})},n.hideVCCart=function(){return n.setState({isVCCartShown:!1})},n.setSideMenuVisibility=function(e){return n.setState({isSideMenuShown:e})},n.setEntitlementItems=function(e){return n.setState({entitlementItems:e})},n.setInventoryItems=function(e){return n.setState({inventoryItems:e})},n.setPhysicalItems=function(e){return n.setState({physicalItems:e.filter((function(e){return Boolean(e.price)}))})},n.setVirtualCurrencies=function(e){return n.setState({virtualCurrencies:e.filter((function(e){return Boolean(e.price)}))})},n.setVirtualItems=function(e){return n.setState({virtualItems:e})},n.getCart=function(){var e=n.props.enqueueSnackbar,t=n.state,r=t.cart,a=t.logToken,i=t.projectId;n.setState({isCartLoading:!0}),A(i,a,r.cartId).then((function(e){n.setState({isCartLoading:!1,cart:{cartId:e.cart_id,items:e.items.filter((function(e){return Boolean(e.price)})).sort(n.compareItems),price:e.price||0}})})).catch((function(t){if(n.setState({isCartLoading:!1}),!t.__CANCEL__){var r=t.response?t.response.data.errorMessage:t.message;e(r,{variant:"error"})}}))},n.createCart=function(){var e=n.props.enqueueSnackbar,t=n.state,r=t.projectId,a=t.logToken;n.setState({isCartCreating:!0}),W(r,a).then((function(e){n.setState({isCartCreating:!1,cart:{cartId:e.id,items:[],price:{amount:0,amount_without_discount:0,currency:""}}})})).catch((function(t){n.setState({isCartCreating:!1});var r=t.response?t.response.data.errorMessage:t.message;e(r,{variant:"error"})}))},n.clearCart=function(){n.createCart(),n.updateVirtualCurrencyBalance()},n.compareItems=function(e,t){return e.sku>t.sku?1:-1},n.buyByVC=function(e){n.setState({isVCCartShown:!0,vcCart:{items:[e]}})},n.clearVCCart=function(){n.setState({isVCCartShown:!1,vcCart:{items:[]}})},n.addToCart=function(e){var t=n.props.enqueueSnackbar,r=n.state,a=r.cart,i=r.logToken,o=r.projectId;a.items.some((function(t){return t.sku===e.sku}))?n.setState({isCartShown:!0}):(n.setState({isItemAdding:!0}),q(o,i,a.cartId,e.sku,1).then((function(){n.setState({isItemAdding:!1,cart:Object(f.a)({},a,{items:[Object(f.a)({},e,{quantity:1})].concat(Object(h.a)(a.items)).sort(n.compareItems),price:Object(f.a)({},a.price,{amount:a.price.amount+e.price.amount,amount_without_discount:a.price.amount_without_discount+e.price.amount_without_discount})})}),n.getCart(),n.showCart()})).catch((function(e){if(n.setState({isItemAdding:!1}),!e.__CANCEL__){var r=e.response?e.response.data.errorMessage:e.message;t(r,{variant:"error"})}})))},n.removeFromCart=function(e){var t=n.props.enqueueSnackbar,r=n.state,a=r.projectId,i=r.logToken,o=r.cart;n.setState({isItemRemoving:!0,cart:Object(f.a)({},o,{items:o.items.filter((function(t){return t.sku!==e.sku})).sort(n.compareItems),price:Object(f.a)({},o.price,{amount:o.price.amount-e.price.amount*e.quantity,amount_without_discount:o.price.amount_without_discount-e.price.amount_without_discount*e.quantity})})}),D(a,i,o.cartId,e.sku).then((function(){n.setState({isItemRemoving:!1}),n.getCart()})).catch((function(e){n.getCart(),n.setState({isItemRemoving:!1});var r=e.response?e.response.data.errorMessage:e.message;t(r,{variant:"error"})}))},n.changeItemQuantityInCart=function(e,t){var r=n.props.enqueueSnackbar,a=n.state,i=a.cart,o=a.logToken,c=a.projectId,u=i.items.findIndex((function(t){return t.sku===e.sku})),l=Object(f.a)({},e,{quantity:t});n.setState({cart:Object(f.a)({},i,{items:[].concat(Object(h.a)(i.items.slice(0,u)),[l],Object(h.a)(i.items.slice(u+1))).sort(n.compareItems)})}),q(c,o,i.cartId,e.sku,t).then(n.getCart).catch((function(e){if(!e.__CANCEL__){var t=e.response?e.response.data.errorMessage:e.message;n.getCart(),r(t,{variant:"error"})}}))},n.updateVirtualCurrencyBalance=function(){var e=n.props.enqueueSnackbar,t=n.state,r=t.projectId,a=t.logToken;n.setState({isUserBalanceFetching:!0}),U(r,a).then((function(e){n.setState({isUserBalanceFetching:!1,userBalanceVirtualCurrency:e.items})})).catch((function(t){n.setState({isUserBalanceFetching:!1});var r=t.response?t.response.data.errorMessage:t.message;e(r,{variant:"error"})}))},n}return Object(I.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return a.a.createElement(G.Provider,{value:Object(f.a)({},this.state,{setStateFrom:this.setStateFrom,setInventoryItems:this.setInventoryItems,setVirtualCurrencies:this.setVirtualCurrencies,setPhysicalItems:this.setPhysicalItems,setVirtualItems:this.setVirtualItems,setEntitlementItems:this.setEntitlementItems,addToCart:this.addToCart,removeFromCart:this.removeFromCart,createCart:this.createCart,getCart:this.getCart,clearCart:this.clearCart,clearVCCart:this.clearVCCart,showVCCart:this.showVCCart,hideVCCart:this.hideVCCart,buyByVC:this.buyByVC,showCart:this.showCart,hideCart:this.hideCart,changeItemQuantityInCart:this.changeItemQuantityInCart,updateVirtualCurrencyBalance:this.updateVirtualCurrencyBalance,setSideMenuVisibility:this.setSideMenuVisibility})},this.props.children)}}]),t}(a.a.PureComponent),H=G.Consumer,Q=Object(v.withSnackbar)(J),X=n(125),Z=n.n(X),Y=n(113),$=n(255),K=n(253);function ee(){var e=Object(u.a)(["\n  flex-grow: 1;\n  color: ",";\n  font-weight: 600;\n"]);return ee=function(){return e},e}function te(){var e=Object(u.a)(["\n  display: block;\n  margin-top: 8px;\n  height: 120px;\n  flex-shrink: 1;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(",");\n"]);return te=function(){return e},e}function ne(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  border-top: 1px solid ",";\n  padding: 8px 0;\n  height: 53px;\n  margin: 0px 16px 0 16px;\n"]);return ne=function(){return e},e}function re(){var e=Object(u.a)(["\n  color: ",";\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  font-weight: bolder;\n"]);return re=function(){return e},e}function ae(){var e=Object(u.a)(["\n  min-height: 66px;\n  overflow: hidden;\n  flex-grow: 0;\n  padding-bottom: 0;\n  margin-bottom: 8px;\n"]);return ae=function(){return e},e}function ie(){var e=Object(u.a)(["\n  position: absolute;\n  color: ",";\n  display: flex;\n  flex-direction: column;\n  width: ",";\n  min-height: ",";\n  background-color: ",";\n  box-shadow: ",";\n  transition: ",";\n  border-radius: ",";\n"]);return ie=function(){return e},e}function oe(){var e=Object(u.a)(["\n  position: relative;\n  z-index: ",";\n  width: ",";\n  height: ",";\n  transition: transform 350ms ease-out, opacity 150ms ease-out;\n  opacity: ",";\n  transform: ",";;\n"]);return oe=function(){return e},e}var ce=a.a.memo((function(e){var t=e.image,n=e.order,r=e.name,i=e.value,o=e.description,c=e.actionButtonContent,u=e.onAction,l=e.isLoading,s=a.a.useState(!1),m=Object(b.a)(s,2),p=m[0],d=m[1],f=function(){return d(!0)},h=a.a.useState(!1),v=Object(b.a)(h,2),x=v[0],y=v[1];return a.a.useEffect((function(){setTimeout(f,100*n)}),[]),a.a.createElement(ue,{shown:p,hovered:x},a.a.createElement(le,{hovered:x,onMouseEnter:function(){return y(!0)},onMouseLeave:function(){return y(!1)}},a.a.createElement(de,{image:t}),a.a.createElement(se,null,a.a.createElement(me,null,r),a.a.createElement(Y.a,{in:x,timeout:"auto",collapsedHeight:"50px"},x?o:a.a.createElement(Z.a,{animate:!0,clamp:2},o))),(u||i)&&a.a.createElement(pe,null,i&&a.a.createElement(fe,null,i),u&&a.a.createElement(K.a,{variant:"contained",color:"secondary",disabled:l,onClick:u},l?a.a.createElement(g.a,{size:24,color:"primary"}):c))))})),ue=p.b.div(oe(),(function(e){return e.hovered?1:0}),(function(e){return e.theme.shape.cardWidth}),(function(e){return e.theme.shape.cardWidth}),(function(e){return e.shown?1:0}),(function(e){return e.shown?"none":"translateY(20px)"})),le=p.b.div(ie(),(function(e){return e.theme.palette.text.primary}),(function(e){return e.theme.shape.cardWidth}),(function(e){return e.theme.shape.cardWidth}),(function(e){var t=e.theme;return e.hovered?t.palette.background.default:"transparent"}),(function(e){var t=e.theme;return e.hovered?t.shadows[8]:"none"}),(function(e){return e.theme.transitions.create(["box-shadow","background-color"])}),(function(e){var t=e.theme;return"".concat(t.shape.borderRadius,"px")})),se=Object(p.b)($.a)(ae()),me=p.b.div(re(),(function(e){return e.theme.palette.primary.contrastText})),pe=p.b.div(ne(),(function(e){var t=e.theme;return s()(t.palette.text.primary).alpha(.1).string()})),de=p.b.div(te(),(function(e){return e.image})),fe=p.b.div(ee(),(function(e){return e.theme.palette.primary.main})),he=a.a.memo((function(e){var t=e.item,n=e.order,r=e.isLoading,i=e.onConsume;return a.a.createElement(ce,{image:t.image_url,name:t.name,order:n,isLoading:r,value:"Quantity: ".concat(t.quantity),description:t.description,actionButtonContent:"Consume",onAction:t.remaining_uses?function(){return i(t,n)}:void 0})})),be=n(127),ve=n(31),ge=function(){var e=Object(T.a)(F.a.mark((function e(t,n){var r,a,i;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://store.xsolla.com/api/v2/project/".concat(t,"/user/inventory/items"),a={headers:{Authorization:"Bearer ".concat(n)}},e.next=4,z.a.get(r,a);case 4:return i=e.sent,e.abrupt("return",i.data.items.filter((function(e){return"virtual_good"===e.type})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),xe=function(){var e=Object(T.a)(F.a.mark((function e(t,n,r){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(ve.b)({projectId:t,version:"v2"}),a=new be.a(n),e.next=4,a.consumeItem(r.sku,1,r.instance_id);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function ye(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n"]);return ye=function(){return e},e}function je(){var e=Object(u.a)(["\n  display: grid;\n  grid-gap: 30px;\n  grid-template-columns: ",";\n  justify-content: center;\n"]);return je=function(){return e},e}function Ee(){var e=Object(u.a)(["\n  padding: 30px 0;\n"]);return Ee=function(){return e},e}var Ce=function(){var e=a.a.useContext(G),t=e.cart,n=e.logToken,r=e.projectId,i=e.setStateFrom,o=e.inventoryItems,c=e.isItemConsuming,u=e.areInventoryItemsFetching,l=e.setInventoryItems,s=Object(v.useSnackbar)().enqueueSnackbar,m=a.a.useState(null),p=Object(b.a)(m,2),d=p[0],g=p[1],x=a.a.useCallback((function(e){i("isItemConsuming",!0),g(e.sku),xe(r,n,e).then((function(){var t=o.findIndex((function(t){return t.sku===e.sku})),n=o[t];if(n){var r=n.quantity>1?[].concat(Object(h.a)(o.slice(0,t)),[Object(f.a)({},n,{quantity:n.quantity-1})],Object(h.a)(o.slice(t+1))):[].concat(Object(h.a)(o.slice(0,t)),Object(h.a)(o.slice(t+1)));l(r)}i("isItemConsuming",!1)})).catch((function(e){i("isItemConsuming",!1),s(e.message,{variant:"error"})}))})),j=function(){i("areInventoryItemsFetching",!0),ge(r,n).then((function(e){l(e),i("areInventoryItemsFetching",!1)})).catch((function(e){i("areInventoryItemsFetching",!1),s(e.message,{variant:"error"})}))};a.a.useEffect((function(){j()}),[]),a.a.useEffect((function(){!u&&t.cartId&&0===o.length&&j()}),[o.length,t.cartId]);var E=a.a.useMemo((function(){return o.length>0?a.a.createElement(we,null,o.map((function(e,t){return a.a.createElement(he,{order:t,key:e.sku,item:e,isLoading:c&&d===e.sku,onConsume:x})}))):a.a.createElement(ke,null,"Oops, you have nothing bought yet!")}),[o,c]);return a.a.createElement(Oe,null,u?a.a.createElement(y,null):E)},Oe=p.b.div(Ee()),we=p.b.div(je(),(function(e){var t=e.theme;return"repeat(auto-fit, minmax(\n    ".concat(t.shape.cardWidth,", \n    ").concat(t.shape.cardWidth,"\n  ))")})),ke=p.b.div(ye()),Ie=n(128),Se=function(){var e=Object(T.a)(F.a.mark((function e(t,n){var r,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(ve.b)({projectId:t,version:"v2"}),r=new Ie.a(n),e.next=4,r.getPhysicalGoodList();case 4:return a=e.sent,e.abrupt("return",a.data.items);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_e=n(46),Me=n.n(_e),Fe=n(269);function Te(){var e=Object(u.a)(["\n  && {\n    height: 1em;\n    width: 1em;\n    margin-right: 5px;\n  }\n"]);return Te=function(){return e},e}function Ve(){var e=Object(u.a)(["\n  margin-right: 5px;\n"]);return Ve=function(){return e},e}function ze(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n"]);return ze=function(){return e},e}var Be=function(e){var t=e.image,n=e.value,r=e.currency;return a.a.createElement(Le,null,t&&a.a.createElement(Pe,{src:t}),r&&a.a.createElement(Ae,null,r),n)},Le=p.b.div(ze()),Ae=p.b.span(Ve()),Pe=Object(p.b)(Fe.a)(Te()),qe=a.a.memo((function(e){var t=e.product,n=e.order,r=e.isLoading,i=e.addToCart,o=a.a.useMemo((function(){return t.price?a.a.createElement(Be,{currency:t.price.currency,value:Math.round(100*t.price.amount)/100}):null}),[t]);return a.a.createElement(ce,{image:t.image_url,name:t.name,order:n,value:o,isLoading:r,description:t.description,actionButtonContent:a.a.createElement(Me.a,null),onAction:function(){return i(t)}})}));function We(){var e=Object(u.a)(["\n  display: grid;\n  padding: 30px 0;\n  grid-gap: 30px;\n  grid-template-columns: ",";\n  justify-content: center;\n"]);return We=function(){return e},e}function De(){var e=Object(u.a)(["\n  height: 100%;\n"]);return De=function(){return e},e}var Ne=function(){var e=a.a.useContext(G),t=e.logToken,n=e.projectId,r=e.addToCart,i=e.setStateFrom,o=e.physicalItems,c=e.arePhysicalItemsFetching,u=e.setPhysicalItems,l=e.isItemAdding,s=Object(v.useSnackbar)().enqueueSnackbar,m=a.a.useState(null),p=Object(b.a)(m,2),d=p[0],f=p[1],h=a.a.useCallback((function(e){r(e),f(e.sku)}),[]);a.a.useEffect((function(){i("arePhysicalItemsFetching",!0),Se(n,t).then((function(e){u(e),i("arePhysicalItemsFetching",!1)})).catch((function(e){s(e.message,{variant:"error"}),i("arePhysicalItemsFetching",!1)})),f(null)}),[n]);var g=a.a.useMemo((function(){return o.length>0&&a.a.createElement(Ue,null,o.map((function(e,t){return a.a.createElement(qe,{order:t,key:e.sku,product:e,isLoading:l&&d===e.sku,addToCart:h})})))}),[o,l]);return a.a.createElement(Re,null,c?a.a.createElement(y,null):g)},Re=p.b.div(De()),Ue=p.b.div(We(),(function(e){var t=e.theme;return"repeat(auto-fit, minmax(\n    ".concat(t.shape.cardWidth,", \n    ").concat(t.shape.cardWidth,"\n  ))")})),Ge=n(261),Je=n(267),He=n(262),Qe=n(256);function Xe(){var e=Object(u.a)(["\n  padding: 30px 0;\n  \n  & .MuiTabs-flexContainer {\n    justify-content: center;\n  };\n"]);return Xe=function(){return e},e}var Ze=function(e){var t=e.groups,n=e.activeGroup,r=e.onGroupChange;return a.a.createElement(Ye,{value:n,onChange:function(e,t){return r(t)},variant:"scrollable",textColor:"primary",indicatorColor:"primary"},t.map((function(e){return a.a.createElement(Qe.a,{value:e.id,key:e.id,label:e.label})})))},Ye=Object(p.b)(He.a)(Xe()),$e=function(){var e=Object(T.a)(F.a.mark((function e(t){var n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://store.xsolla.com/api/v2/project/".concat(t,"/items/virtual_items"),e.next=3,z.a.get(n);case 3:return r=e.sent,e.abrupt("return",r.data.items);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(T.a)(F.a.mark((function e(t){var n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://store.xsolla.com/api/v2/project/".concat(t,"/items/virtual_currency"),e.next=3,z.a.get(n);case 3:return r=e.sent,e.abrupt("return",r.data.items);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=Object(T.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://livedemo.xsolla.com/store-demo/api/index.php",e.next=3,z.a.post("https://livedemo.xsolla.com/store-demo/api/index.php",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function tt(){var e=Object(u.a)(["\n  && {\n    margin-right: 10px;\n  }\n"]);return tt=function(){return e},e}function nt(){var e=Object(u.a)(["\n  position: relative;\n"]);return nt=function(){return e},e}function rt(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding: 20px 0;\n"]);return rt=function(){return e},e}function at(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-column-gap: 20px;\n"]);return at=function(){return e},e}function it(){var e=Object(u.a)(["\n  width: 100%;\n"]);return it=function(){return e},e}function ot(){var e=Object(u.a)(["\n  max-width: 400px;\n  width: 100%;\n  padding: 20px;\n"]);return ot=function(){return e},e}function ct(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 50px;\n"]);return ct=function(){return e},e}var ut=[{id:"d342dad2-9d59-11e9-a384-42010aa8003f",name:"support@xsolla.com"},{id:"7d8b1f52-7d3f-400b-acd8-46e3a4368596",name:"v.legotkin@xsolla.com"},{id:"27bc1227-48a3-4da8-bb86-f8d093f68805",name:"r.ushakov@xsolla.com"},{id:"a7d10a4e-3f68-43cc-a6b2-893d2c68fd14",name:"p.sanachev@xsolla.com"}],lt=[{id:"items",label:"Items"},{id:"currencies",label:"Currencies"}],st=function(){var e=a.a.useContext(G),t=e.projectId,n=e.updateVirtualCurrencyBalance,r=Object(v.useSnackbar)().enqueueSnackbar,i=a.a.useState(null),o=Object(b.a)(i,2),c=o[0],u=o[1],l=a.a.useState(null),s=Object(b.a)(l,2),m=s[0],p=s[1],d=a.a.useState(null),f=Object(b.a)(d,2),h=f[0],g=f[1],x=a.a.useState(1),j=Object(b.a)(x,2),E=j[0],C=j[1],O=a.a.useState(!1),w=Object(b.a)(O,2),k=w[0],I=w[1],S=a.a.useState(!1),_=Object(b.a)(S,2),M=_[0],F=_[1],T=a.a.useState([]),V=Object(b.a)(T,2),z=V[0],B=V[1],L=a.a.useState(!1),A=Object(b.a)(L,2),P=A[0],q=A[1],W=a.a.useState([]),D=Object(b.a)(W,2),N=D[0],R=D[1],U=M||P,J=a.a.useMemo((function(){return ut.map((function(e){return a.a.createElement(Je.a,{value:e.id},e.name)}),ut)})),H=a.a.useMemo((function(){return z.map((function(e){return a.a.createElement(Je.a,{value:e.sku},e.name)}),z)})),Q=a.a.useMemo((function(){return N.map((function(e){return a.a.createElement(Je.a,{value:e.sku},e.name)}),N)})),X={items:{name:"Item",items:z,options:H},currencies:{name:"Currency",items:N,options:Q}},Z=function(e){if(h&&c){var t={type:e,user:c,item:h,count:E};I(!0),r("Operation is processing",{variant:"info"}),et(t).then((function(){I(!1),n(),r("Complete",{variant:"success"})})).catch((function(e){I(!1),r(e.message,{variant:"error"})}))}};return a.a.useEffect((function(){u(ut[0]?ut[0].id:null)}),[ut]),a.a.useEffect((function(){p(lt[0]?lt[0].id:null)}),[lt]),a.a.useEffect((function(){m&&X[m]&&X[m].items[0]&&(g(X[m].items[0].sku),C(1))}),[z,N,m]),a.a.useEffect((function(){0===z.length&&(F(!0),$e(t).then((function(e){F(!1),B(e)})).catch((function(e){F(!1),r(e.message,{variant:"error"})})))}),[z]),a.a.useEffect((function(){0===z.length&&(q(!0),Ke(t).then((function(e){q(!1),R(e)})).catch((function(e){q(!1),r(e.message,{variant:"error"})})))}),[N]),a.a.createElement(mt,null,U?a.a.createElement(y,null):a.a.createElement(pt,{onSubmit:function(e){return e.preventDefault()}},a.a.createElement(dt,{select:!0,label:"User",value:c,color:"primary",onChange:function(e){return u(e.target.value)}},J),a.a.createElement(Ze,{groups:lt,activeGroup:m,onGroupChange:p}),a.a.createElement(ft,null,X[m]&&a.a.createElement(dt,{select:!0,label:X[m].name,value:h,color:"primary",onChange:function(e){return g(e.target.value)}},X[m].options),a.a.createElement(dt,{type:"number",label:"Quantity",value:E,color:"primary",onChange:function(e){var t=Number(e.target.value);C(t>=1?t:1)}})),a.a.createElement(ht,null,a.a.createElement(bt,null,k&&a.a.createElement(y,{size:24}),a.a.createElement(vt,{type:"submit",variant:"contained",disabled:k,onClick:function(){return Z("reward")}},"Reward"),a.a.createElement(K.a,{variant:"contained",disabled:k,onClick:function(){return Z("revoke")}},"Revoke")))))},mt=p.b.div(ct()),pt=p.b.form(ot()),dt=Object(p.b)(Ge.a)(it()),ft=p.b.div(at()),ht=p.b.div(rt()),bt=p.b.div(nt()),vt=Object(p.b)(K.a)(tt()),gt=n(131),xt=function(){var e=Object(T.a)(F.a.mark((function e(t,n){var r,a,i,o,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://store.xsolla.com/api/v1/project/".concat(t,"/items/groups"),e.next=3,z.a.get(r,{headers:{Authorization:"Bearer ".concat(n)}});case 3:return a=e.sent,e.next=6,Promise.all(a.data.groups.map(function(){var e=Object(T.a)(F.a.mark((function e(n){var r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt(t,n.external_id);case 2:return r=e.sent,e.abrupt("return",{groupID:n.external_id,groupName:n.name,items:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:return i=e.sent,o=Object(gt.a)(i),c=o.slice(0),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),yt=function(){var e=Object(T.a)(F.a.mark((function e(t,n){var r,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://store.xsolla.com/api/v2/project/".concat(t,"/items/virtual_items/group/").concat(n),e.next=3,z.a.get(r);case 3:return a=e.sent,e.abrupt("return",a.data.items);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function jt(){var e=Object(u.a)(["\n  color: ",";\n  opacity: 0.8;\n"]);return jt=function(){return e},e}var Et=a.a.memo((function(e){var t=e.product,n=e.order,r=e.isLoading,i=e.addToCart,o=e.buyByVC,c=e.isPurchased,u=t.virtual_prices&&t.virtual_prices.length>0,l=a.a.useCallback((function(){return o(t)}),[]),s=a.a.useCallback((function(){return i(t)}),[]),m=a.a.useMemo((function(){return u?l:s}),[u]),p=a.a.useMemo((function(){return u?"Buy now":a.a.createElement(Me.a,null)}),[t]),d=a.a.useMemo((function(){return c?a.a.createElement(Ct,null,"Purchased"):u?a.a.createElement(Be,{image:t.virtual_prices[0].image_url,value:t.virtual_prices[0].amount}):a.a.createElement(Be,{currency:t.price.currency,value:Math.round(100*t.price.amount)/100})}),[t,u,c]);return a.a.createElement(ce,{image:t.image_url,name:t.name,order:n,value:d,isLoading:r,description:t.description,actionButtonContent:p,onAction:c?void 0:m})})),Ct=p.b.div(jt(),(function(e){return e.theme.palette.text.primary}));function Ot(){var e=Object(u.a)(["\n  color: ",";\n  min-height: 2em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  width: 100%;\n  font-size: 1.2em;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n"]);return Ot=function(){return e},e}function wt(){var e=Object(u.a)(["\n  display: grid;\n  padding: 30px 0;\n  grid-gap: 30px;\n  grid-template-columns: ",";\n  justify-content: center;\n"]);return wt=function(){return e},e}function kt(){var e=Object(u.a)(["\n  background-color: transparent;\n"]);return kt=function(){return e},e}var It=function(){var e=a.a.useContext(G),t=e.cart,n=e.logToken,r=e.virtualItems,i=e.inventoryItems,o=e.addToCart,c=e.buyByVC,u=e.projectId,l=e.areVirtualItemsFetching,s=e.areInventoryItemsFetching,m=e.isItemAdding,p=e.setInventoryItems,d=e.setVirtualItems,f=e.setStateFrom,h=Object(v.useSnackbar)().enqueueSnackbar,g=a.a.useState(null),x=Object(b.a)(g,2),j=x[0],E=x[1],C=a.a.useState(null),O=Object(b.a)(C,2),w=O[0],k=O[1],I=a.a.useMemo((function(){return r.map((function(e){return{id:e.groupID,label:e.groupName}}))}),[r]),S=a.a.useCallback((function(e){o(e),k(e.sku)}),[]);a.a.useEffect((function(){E(r[0]?r[0].groupID:null),k(null)}),[r]),a.a.useEffect((function(){!l&&n&&0===r.length&&(f("areVirtualItemsFetching",!0),xt(u,n).then((function(e){d(e),f("areVirtualItemsFetching",!1)})).catch((function(e){f("areVirtualItemsFetching",!1),h(e.message,{variant:"error"})})))}),[r]),a.a.useEffect((function(){!s&&n&&0===i.length&&t.cartId&&(f("areInventoryItemsFetching",!0),ge(u,n).then((function(e){p(e),f("areInventoryItemsFetching",!1)})).catch((function(e){f("areInventoryItemsFetching",!1),h(e.message,{variant:"error"})})))}),[i,t.cartId]);var _=a.a.useMemo((function(){return r.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Ze,{groups:I,activeGroup:j,onGroupChange:E}),r.map((function(e){return j===e.groupID&&a.a.createElement(a.a.Fragment,{key:e.groupID},a.a.createElement(Mt,null,e.groupName),a.a.createElement(_t,null,e.items.map((function(e,t){return a.a.createElement(Et,{order:t,key:e.sku,product:e,isPurchased:null===e.inventory_options.consumable&&i.some((function(t){return e.sku===t.sku})),addToCart:S,isLoading:m&&w===e.sku,buyByVC:c})}))))})))}),[j,r,i,m]);return a.a.createElement(St,null,l||s?a.a.createElement(y,null):_)},St=p.b.div(kt()),_t=p.b.div(wt(),(function(e){var t=e.theme;return"repeat(auto-fit, minmax(\n    ".concat(t.shape.cardWidth,", \n    ").concat(t.shape.cardWidth,"\n  ))")})),Mt=p.b.div(Ot(),(function(e){return e.theme.palette.primary.contrastText})),Ft=n(258),Tt=n(257),Vt=n(132),zt=n.n(Vt),Bt=n(134),Lt=n.n(Bt),At=n(133),Pt=n.n(At),qt="375px",Wt="425px",Dt="768px",Nt="1024px",Rt="1440px",Ut="1920px",Gt="2560px",Jt={mobileS:"(max-width: ".concat("320px",")"),mobileM:"(max-width: ".concat(qt,")"),mobileL:"(max-width: ".concat(Wt,")"),tablet:"(max-width: ".concat(Dt,")"),laptop:"(max-width: ".concat(Nt,")"),laptopL:"(max-width: ".concat(Rt,")"),desktop:"(max-width: ".concat(Ut,")"),retina:"(max-width: ".concat(Gt,")")};function Ht(){var e=Object(u.a)(["\n  @media "," {\n    && {\n      width: 1.5em;\n      height: 1.5em;\n    }\n  }\n"]);return Ht=function(){return e},e}function Qt(){var e=Object(u.a)(["\n  @media "," {\n    && {\n      width: 1.5em;\n      height: 1.5em;\n    }\n  }\n"]);return Qt=function(){return e},e}function Xt(){var e=Object(u.a)(["\n  @media "," {\n    && {\n      width: 1.5em;\n      height: 1.5em;\n    }\n  }\n"]);return Xt=function(){return e},e}function Zt(){var e=Object(u.a)(["\n  font-size: 0.8em;\n  opacity: 0.3;\n"]);return Zt=function(){return e},e}function Yt(){var e=Object(u.a)(["\n  color: ",";\n  font-weight: 600;\n"]);return Yt=function(){return e},e}function $t(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n\n  @media "," {\n    flex-grow: 1;\n  }\n"]);return $t=function(){return e},e}function Kt(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n\n  @media "," {\n    grid-column: 2 / 2;\n  }\n"]);return Kt=function(){return e},e}function en(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: bolder;\n  min-width: 44px;\n  font-size: 1.2em;\n"]);return en=function(){return e},e}function tn(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n"]);return tn=function(){return e},e}function nn(){var e=Object(u.a)(["\n  font-weight: bolder;\n  margin-bottom: 5px;\n"]);return nn=function(){return e},e}function rn(){var e=Object(u.a)(["  \n  padding: 10px;\n"]);return rn=function(){return e},e}function an(){var e=Object(u.a)(["\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(",");\n"]);return an=function(){return e},e}function on(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-columns: 0.7fr 1.3fr 1fr;\n  color: ",";\n  overflow: hidden;\n  height: 130px;\n\n  @media "," {\n    height: 185px;\n    grid-template-columns: 0.9fr 1.1fr;\n    grid-template-rows: 120px 1fr;\n  }\n"]);return on=function(){return e},e}var cn=function(e){var t=e.item,n=e.changeItemQuantity,r=e.removeItem,i=function(e,t){return Math.round(e*t*100)/100};return a.a.createElement(un,null,a.a.createElement(ln,{image:t.image_url}),a.a.createElement(sn,null,a.a.createElement(mn,null,t.name),a.a.createElement(hn,null,a.a.createElement(bn,null,t.price.currency," ",i(t.price.amount,t.quantity)),t.quantity>1&&a.a.createElement(vn,null,t.price.currency," ",i(t.price.amount,1)," for one item"))),a.a.createElement(fn,null,a.a.createElement(pn,null,t.quantity>1?a.a.createElement(Tt.a,{color:"inherit",onClick:function(){return n(t,t.quantity-1)}},a.a.createElement(xn,null)):a.a.createElement(Tt.a,{color:"inherit",onClick:function(){return r(t)}},a.a.createElement(gn,null)),a.a.createElement(dn,null,t.quantity),a.a.createElement(Tt.a,{color:"inherit",onClick:function(){return n(t,t.quantity+1)}},a.a.createElement(yn,null)))))},un=p.b.div(on(),(function(e){return e.theme.palette.text.primary}),Jt.mobileL),ln=p.b.div(an(),(function(e){return e.image})),sn=p.b.div(rn()),mn=p.b.div(nn()),pn=p.b.div(tn()),dn=p.b.div(en()),fn=p.b.div(Kt(),Jt.mobileL),hn=p.b.div($t(),Jt.mobileL),bn=p.b.div(Yt(),(function(e){return e.theme.palette.primary.main})),vn=p.b.div(Zt()),gn=Object(p.b)(zt.a)(Xt(),Jt.mobileL),xn=Object(p.b)(Pt.a)(Qt(),Jt.mobileL),yn=Object(p.b)(Lt.a)(Ht(),Jt.mobileL),jn=n(135),En=n(85);function Cn(e){return{name:e,fractionSize:2,symbol:{grapheme:e,template:null,rtl:!1},uniqSymbol:null}}function On(e,t,n){var r=parseFloat(e);if(!t||isNaN(r))return{formattedCurrency:e+" "+t,dir:"ltr"};var a=function(e){return e&&jn[e.toUpperCase()]||Cn(e)}(t),i=function(e){return e&&En[function(e){return[e.substr(0,2).toLowerCase(),e.substr(3,2).toUpperCase()].join("_")}(e)]||En.en_US}(n),o=r<0?"-":"",c=a.fractionSize,u=a.symbol,l=i.thousands,s=i.decimal;u&&!u.rtl||" "!==i.thousands||(l=",",s=".");var m=Math.abs(r).toFixed(c).split(".");m[0]=m[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+l);var p=m.join(s),d=o+p+" "+t,f=!1;return u&&u.template&&(d=o+u.template.replace("1",p).replace("$",u.grapheme),f=u.rtl),{formattedCurrency:d,dir:f?"rtl":"ltr"}}var wn=function(){var e=Object(T.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://livedemo.xsolla.com/store-demo/api/index.php",e.next=3,z.a.post("https://livedemo.xsolla.com/store-demo/api/index.php",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function kn(){var e=Object(u.a)(["\n  &.MuiDivider-root {\n    background-color: ",";\n    opacity: 0.1;\n    margin-bottom: 5px;\n  }\n"]);return kn=function(){return e},e}function In(){var e=Object(u.a)(["\n  min-width: 80px;\n  text-align: right;\n"]);return In=function(){return e},e}function Sn(){var e=Object(u.a)(["\n  display: flex;\n  font-weight: bold; \n  color: ",";\n  margin-right: 10px;\n\n  @media "," {\n    justify-content: flex-end;\n    width: 100%;\n    margin-bottom: 15px;\n    margin-right: 0;\n  }\n"]);return Sn=function(){return e},e}function _n(){var e=Object(u.a)(["\n  display: flex;\n\n  @media "," {\n    justify-content: flex-end;\n    width: 100%;\n  }\n"]);return _n=function(){return e},e}function Mn(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  padding: 24px 0 24px 0;\n"]);return Mn=function(){return e},e}function Fn(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ",";\n  height: 100%;\n"]);return Fn=function(){return e},e}function Tn(){var e=Object(u.a)(["\n  display: grid;\n  grid-row-gap: 30px;\n  padding: 16px 0;\n"]);return Tn=function(){return e},e}function Vn(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  max-width: 600px;\n  padding: 0 20px;\n"]);return Vn=function(){return e},e}function zn(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 50px;\n"]);return zn=function(){return e},e}var Bn=function(){var e=a.a.useContext(G),t=e.cart,n=e.removeFromCart,r=e.changeItemQuantityInCart,i=Object(v.useSnackbar)().enqueueSnackbar,o=a.a.useState(),c=Object(b.a)(o,2),u=c[0],l=c[1],s=a.a.useCallback((function(){var e={type:"purchase",user:"d342dad2-9d59-11e9-a384-42010aa8003f",platform:"playstation_network",purchase:{amount:t.price.amount,currency:t.price.currency,external_purchase_id:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),external_purchase_date:(new Date).toISOString()},items:t.items.map((function(e){return{sku:e.sku,quantity:e.quantity}}))};l(!0),i("Operation is processing",{variant:"info"}),wn(e).then((function(){l(!1),i("Complete",{variant:"success"})})).catch((function(e){l(!1),i(e.message,{variant:"error"})}))}),[]),m=a.a.useMemo((function(){return t.items.length>0?a.a.createElement(Pn,null,t.items.map((function(e){return a.a.createElement(a.a.Fragment,{key:e.sku},a.a.createElement(cn,{item:e,removeItem:n,changeItemQuantity:r}),a.a.createElement(Un,null))}))):a.a.createElement(qn,null,"Oops, you have nothing bought yet!")}),[t]),p=a.a.useMemo((function(){return t.items.length>0&&a.a.createElement(Wn,null,a.a.createElement(Nn,null,"Subtotal:",a.a.createElement(Rn,null,On(function(e){var t=e.reduce((function(e,t){return e+t.price.amount*t.quantity}),0);return Math.round(100*t)/100}(t.items),t.price.currency||t.items[0].price.currency).formattedCurrency)),a.a.createElement(Dn,null,a.a.createElement(K.a,{variant:"contained",disabled:u,onClick:s},u?a.a.createElement(g.a,{size:24,color:"secondary"}):"Grant purchase")))}),[t,u]);return a.a.createElement(Ln,null,a.a.createElement(An,null,m,p))},Ln=p.b.div(zn()),An=p.b.div(Vn()),Pn=p.b.div(Tn()),qn=p.b.div(Fn(),(function(e){return e.theme.palette.text.primary})),Wn=p.b.div(Mn()),Dn=p.b.div(_n(),Jt.tablet),Nn=p.b.div(Sn(),(function(e){return e.theme.palette.text.primary}),Jt.tablet),Rn=p.b.div(In()),Un=Object(p.b)(Ft.a)(kn(),(function(e){return e.theme.palette.primary.contrastText})),Gn=function(){var e=Object(T.a)(F.a.mark((function e(t){var n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://store.xsolla.com/api/v2/projects/entitlement",n={headers:{Authorization:"Bearer ".concat(t)}},e.next=4,z.a.get("https://store.xsolla.com/api/v2/projects/entitlement",n);case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Jn=function(){var e=Object(T.a)(F.a.mark((function e(t,n,r,a){var i,o,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(ve.b)({projectId:t,version:"v2"}),"https://store.xsolla.com/api/v1/game_delivery/xsolla_login/redeem_key",i={project_id:t,digital_content_sku:a,language:"en",key:r},o={headers:{Authorization:"Bearer ".concat(n)}},e.next=6,z.a.post("https://store.xsolla.com/api/v1/game_delivery/xsolla_login/redeem_key",i,o);case 6:return c=e.sent,e.abrupt("return",c.data);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();function Hn(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding: 20px 0;\n"]);return Hn=function(){return e},e}function Qn(){var e=Object(u.a)(["\n  && {\n    min-width: 140px;\n  }\n"]);return Qn=function(){return e},e}function Xn(){var e=Object(u.a)(["\n  && {\n    width: 100%;\n    margin-bottom: 20px;\n  }\n"]);return Xn=function(){return e},e}function Zn(){var e=Object(u.a)(["\n  max-width: 400px;\n  width: 100%;\n  padding: 20px;\n"]);return Zn=function(){return e},e}function Yn(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-top: 50px;\n"]);return Yn=function(){return e},e}var $n=function(){var e=a.a.useContext(G),t=e.projectId,n=e.logToken,r=e.setEntitlementItems,i=e.entitlementItems,o=e.areEntitlementItemsFetching,c=e.isRedeeming,u=e.setStateFrom,l=Object(v.useSnackbar)().enqueueSnackbar,s=a.a.useState(""),m=Object(b.a)(s,2),p=m[0],d=m[1],f=a.a.useState(""),h=Object(b.a)(f,2),x=h[0],y=h[1],j=a.a.useCallback((function(e){return y(e.target.value)})),E=a.a.useCallback((function(e){return d(e.target.value)})),C=function(){u("areEntitlementItemsFetching",!0),Gn(n).then((function(e){u("areEntitlementItemsFetching",!1),r(e)})).catch((function(e){u("areEntitlementItemsFetching",!1);var t=e.response?e.response.data.errorMessage:e.message;l(t,{variant:"error"})}))};a.a.useEffect((function(){C()}),[]);var O=a.a.useMemo((function(){return i.length>0?i.map((function(e,t){return a.a.createElement(ce,{key:e.digital_content_sku,order:t,name:e.name,description:e.description,image:e.image_url})})):a.a.createElement("div",null,"Oops, you have no games yet!")}),[i]);return a.a.createElement(Kn,null,a.a.createElement(er,{onSubmit:function(e){e.preventDefault(),u("isRedeeming",!0),Jn(t,n,x,p).then((function(){u("isRedeeming",!1),C()})).catch((function(e){u("isRedeeming",!1);var t=e.response?e.response.data.errorMessage:e.message;l(t,{variant:"error"})}))}},a.a.createElement(tr,{color:"primary",placeholder:"Enter your code",onChange:j,value:x}),a.a.createElement(tr,{color:"primary",placeholder:"Enter sku of your game",onChange:E,value:p}),a.a.createElement(rr,null,a.a.createElement(nr,{color:"secondary",type:"submit",variant:"contained"},c?a.a.createElement(g.a,{size:24,color:"primary"}):"Redeem Code"))),a.a.createElement("div",null,o?a.a.createElement(g.a,{size:24,color:"primary"}):O))},Kn=p.b.div(Yn()),er=p.b.form(Zn()),tr=Object(p.b)(Ge.a)(Xn()),nr=Object(p.b)(K.a)(Qn()),rr=p.b.div(Hn()),ar=n(81),ir=n.n(ar),or=n(263),cr=n(251),ur=n(268),lr=n(259),sr={items:"/",currencies:"/crystals",physical:"/physical",inventory:"/inventory",entitlement:"/entitlement",manage:"/manage",purchase:"/purchase",specificProject:"/projects/:projectID"},mr=[{route:sr.items,label:"Items"},{route:sr.currencies,label:"Currencies"},{route:sr.physical,label:"Merchandise"},{route:sr.inventory,label:"Inventory"},{route:sr.entitlement,label:"Entitlement"},{route:sr.manage,label:"Manage"},{route:sr.purchase,label:"Server purchase"}],pr=function(e){return mr.filter((function(t){return e.includes(t.route)})).sort((function(t,n){return e.indexOf(t.route)-e.indexOf(n.route)}))};function dr(){var e=Object(u.a)(["\n  min-width: 80px;\n  text-align: right;\n"]);return dr=function(){return e},e}function fr(){var e=Object(u.a)(["\n  display: flex;\n  flex-grow: 1;\n  font-weight: bold;\n  margin-right: 10px;\n\n  @media "," {\n    justify-content: flex-end;\n    width: 100%;\n    margin-bottom: 15px;\n    margin-right: 0;\n  }\n"]);return fr=function(){return e},e}function hr(){var e=Object(u.a)(["\n  display: flex;\n\n  @media "," {\n    justify-content: flex-end;\n    width: 100%;\n  }\n"]);return hr=function(){return e},e}function br(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  flex-wrap: wrap;\n  border-top: 1px solid ",";\n  padding: 24px 0 24px 0;\n"]);return br=function(){return e},e}function vr(){var e=Object(u.a)(["\n  display: grid;\n  grid-row-gap: 30px;\n  flex-grow: 1;\n  padding: 16px 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n"]);return vr=function(){return e},e}function gr(){var e=Object(u.a)(["\n  && {\n    position: absolute;\n    width: 100%;\n  }\n"]);return gr=function(){return e},e}function xr(){var e=Object(u.a)(["\n  position: relative;\n"]);return xr=function(){return e},e}function yr(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: ",";\n  border-bottom: 1px solid ",";\n  z-index: 10;\n  padding: 24px 0 8px 0;\n"]);return yr=function(){return e},e}function jr(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  padding: 0 32px;\n  width: 680px;\n  max-height: 80vh;\n  outline: none;\n\n  @media "," {\n    padding: 0 16px;\n    max-height: none;\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n  }\n"]);return jr=function(){return e},e}function Er(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Er=function(){return e},e}var Cr=function(){var e=a.a.useState(!1),t=Object(b.a)(e,2),n=t[0],r=t[1],i=a.a.useContext(G),o=i.cart,c=i.hideCart,u=i.logToken,l=i.projectId,s=i.clearCart,p=i.isCartShown,d=i.removeFromCart,f=i.isItemRemoving,h=i.isCartLoading,g=i.changeItemQuantityInCart,x=Object(v.useSnackbar)().enqueueSnackbar,y=Object(m.g)(),j=h||f,E=a.a.useMemo((function(){var e=o.items.filter((function(e){return Boolean(e.price)})).reduce((function(e,t){return e+t.price.amount*t.quantity}),0);return Math.round(100*e)/100}),[o.items]);return a.a.createElement(Or,{open:p,onClose:c,closeAfterTransition:!0,BackdropComponent:ur.a,BackdropProps:{timeout:250}},a.a.createElement(cr.a,{in:p,timeout:250},a.a.createElement(wr,null,a.a.createElement(kr,null,a.a.createElement("h4",null,"Cart"),a.a.createElement(Tt.a,{color:"inherit",onClick:c},a.a.createElement(ir.a,null))),a.a.createElement(_r,null,o.items.length>0?o.items.map((function(e){return a.a.createElement(cn,{key:e.sku,item:e,removeItem:d,changeItemQuantity:g})})):a.a.createElement("p",null,"Empty cart")),a.a.createElement(Ir,null,j&&a.a.createElement(Sr,null)),a.a.createElement(Mr,null,o.items.length>0&&a.a.createElement(Tr,null,"Subtotal:",a.a.createElement(Vr,null,On(E,o.price.currency||o.items[0].price.currency).formattedCurrency)),a.a.createElement(Fr,null,a.a.createElement(K.a,{variant:"contained",color:"secondary",disabled:0===o.items.length,style:{marginRight:"7px"},onClick:function(){n||o.items.length<=0||(y.push(sr.purchase),c())}},"Buy on PS4"),a.a.createElement(K.a,{variant:"contained",color:"secondary",disabled:0===o.items.length,onClick:function(){c(),N(l,u,o.cartId).then((function(e){r(!0),window.xPayStationInit(e.token,{sandbox:!0,host:"sandbox-secure.xsolla.com"}),window.XPayStationWidget.open(),window.XPayStationWidget.on(window.XPayStationWidget.eventTypes.CLOSE,(function(){return r(!1)})),window.XPayStationWidget.on(window.XPayStationWidget.eventTypes.STATUS_DONE,s)})).catch((function(e){r(!1);var t=e.response?e.response.data.errorMessage:e.message;x(t,{variant:"error"})}))}},"Buy on Xsolla"))))))},Or=Object(p.b)(or.a)(Er()),wr=p.b.div(jr(),(function(e){var t=e.theme;return"".concat(t.shape.borderRadius,"px")}),(function(e){return e.theme.palette.background.default}),(function(e){return e.theme.palette.text.primary}),Jt.tablet),kr=p.b.div(yr(),(function(e){return e.theme.palette.text.primary}),(function(e){var t=e.theme;return s()(t.palette.text.primary).alpha(.1).string()})),Ir=p.b.div(xr()),Sr=Object(p.b)(lr.a)(gr()),_r=p.b.div(vr()),Mr=p.b.div(br(),(function(e){var t=e.theme;return s()(t.palette.text.primary).alpha(.1).string()})),Fr=p.b.div(hr(),Jt.tablet),Tr=p.b.div(fr(),Jt.tablet),Vr=p.b.div(dr());function zr(){var e=Object(u.a)(["\n  font-weight: bolder;\n  margin-bottom: 5px;\n"]);return zr=function(){return e},e}function Br(){var e=Object(u.a)(["\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(",");\n"]);return Br=function(){return e},e}function Lr(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-columns: 0.7fr 1.3fr 1fr;\n  overflow: hidden;\n  height: 130px;\n\n  @media "," {\n    height: 185px;\n    grid-template-columns: 0.9fr 1.1fr;\n    grid-template-rows: 120px 1fr;\n  }\n"]);return Lr=function(){return e},e}var Ar=a.a.memo((function(e){var t=e.item;return a.a.createElement(Pr,null,a.a.createElement(qr,{image:t.image_url}),a.a.createElement("div",null,a.a.createElement(Wr,null,t.name),a.a.createElement("div",null,t.description)))})),Pr=p.b.div(Lr(),Jt.mobileL),qr=p.b.div(Br(),(function(e){return e.image})),Wr=p.b.div(zr());function Dr(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: flex-end;\n  border-top: 1px solid ",";\n  padding: 24px 0 24px 0;\n"]);return Dr=function(){return e},e}function Nr(){var e=Object(u.a)(["\n  display: grid;\n  grid-row-gap: 30px;\n  flex-grow: 1;\n  padding: 16px 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n"]);return Nr=function(){return e},e}function Rr(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid ",";\n  z-index: 10;\n  padding: 24px 0 8px 0;\n"]);return Rr=function(){return e},e}function Ur(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  padding: 0 32px;\n  width: 680px;\n  max-height: 80vh;\n  outline: none;\n\n  @media "," {\n    padding: 0 16px;\n    max-height: none;\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n  }\n"]);return Ur=function(){return e},e}function Gr(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Gr=function(){return e},e}var Jr=function(){var e=a.a.useContext(G),t=e.vcCart,n=e.isVCCartShown,r=e.projectId,i=e.logToken,o=e.clearVCCart,c=e.setStateFrom,u=e.hideVCCart,l=e.isVCCartProcessing,s=e.updateVirtualCurrencyBalance,m=Object(v.useSnackbar)().enqueueSnackbar;return a.a.createElement(Hr,{open:n,onClose:u,closeAfterTransition:!0,BackdropComponent:ur.a,BackdropProps:{timeout:250}},a.a.createElement(cr.a,{in:n,timeout:250},a.a.createElement(Qr,null,a.a.createElement(Xr,null,a.a.createElement("h4",null,"Confirm"),a.a.createElement(Tt.a,{color:"inherit",onClick:u},a.a.createElement(ir.a,null))),a.a.createElement(Zr,null,t.items.length>0?t.items.map((function(e){return a.a.createElement(Ar,{item:e})})):a.a.createElement("p",null,"Empty cart")),a.a.createElement(Yr,null,a.a.createElement(K.a,{variant:"contained",disabled:l,onClick:function(){c("isVCCartProcessing",!0),R(r,t.items[0],i).then((function(){c("isVCCartProcessing",!1),o(),s()})).catch((function(e){c("isVCCartProcessing",!1);var t=e.response?e.response.data.errorMessage:e.message;m(t,{variant:"error"})}))}},l?a.a.createElement(g.a,{size:24,color:"secondary"}):"Buy")))))},Hr=Object(p.b)(or.a)(Gr()),Qr=p.b.div(Ur(),(function(e){var t=e.theme;return"".concat(t.shape.borderRadius,"px")}),(function(e){return e.theme.palette.background.default}),(function(e){return e.theme.palette.text.primary}),Jt.tablet),Xr=p.b.div(Rr(),(function(e){var t=e.theme;return s()(t.palette.text.primary).alpha(.1).string()})),Zr=p.b.div(Nr()),Yr=p.b.div(Dr(),(function(e){var t=e.theme;return s()(t.palette.text.primary).alpha(.1).string()})),$r=a.a.memo((function(e){var t=e.product,n=e.order,r=e.isLoading,i=e.addToCart,o=a.a.useMemo((function(){return a.a.createElement(Be,{currency:t.price.currency,value:Math.round(100*t.price.amount)/100})}),[t]);return a.a.createElement(ce,{image:t.image_url,name:t.name,order:n,value:o,isLoading:r,description:t.description,actionButtonContent:a.a.createElement(Me.a,null),onAction:function(){return i(t)}})})),Kr=function(){var e=Object(T.a)(F.a.mark((function e(t,n){var r,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://store.xsolla.com/api/v2/project/".concat(t,"/items/virtual_currency/package"),e.next=3,z.a.get(r,{headers:{Authorization:"Bearer ".concat(n)}});case 3:return a=e.sent,e.abrupt("return",a.data.items);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function ea(){var e=Object(u.a)(["\n  display: grid;\n  padding: 30px 0;\n  grid-gap: 30px;\n  grid-template-columns: ",";\n  justify-content: center;\n"]);return ea=function(){return e},e}function ta(){var e=Object(u.a)(["\n  background-color: transparent;\n"]);return ta=function(){return e},e}var na=function(){var e=a.a.useContext(G),t=e.logToken,n=e.projectId,r=e.addToCart,i=e.setStateFrom,o=e.virtualCurrencies,c=e.areVirtualCurrenciesFetching,u=e.isItemAdding,l=e.setVirtualCurrencies,s=Object(v.useSnackbar)().enqueueSnackbar,m=a.a.useState(null),p=Object(b.a)(m,2),d=p[0],f=p[1],h=a.a.useCallback((function(e){r(e),f(e.sku)}),[]);a.a.useEffect((function(){f(null),i("areVirtualCurrenciesFetching",!0),Kr(n,t).then((function(e){l(e),i("areVirtualCurrenciesFetching",!1)})).catch((function(e){s(e.message,{variant:"error"}),i("areVirtualCurrenciesFetching",!1)}))}),[]);var g=a.a.useMemo((function(){return o.length>0&&a.a.createElement(aa,null,o.map((function(e,t){return a.a.createElement($r,{order:t,key:e.sku,product:e,isLoading:u&&e.sku===d,addToCart:h})})))}),[o,u]);return a.a.createElement(ra,null,c?a.a.createElement(y,null):g)},ra=p.b.div(ta()),aa=p.b.div(ea(),(function(e){var t=e.theme;return"repeat(auto-fit, minmax(\n    ".concat(t.shape.cardWidth,", \n    ").concat(t.shape.cardWidth,"\n  ))")})),ia=n(141),oa=n(137),ca=n.n(oa),ua=n(139),la=n.n(ua),sa=n(138),ma=n.n(sa),pa=n(82),da=n.n(pa);function fa(){var e=Object(u.a)(["\n  display: flex;\n  align-content: center;\n  justify-content: center;\n  text-align: center;\n  padding: 36px;\n  overflow: hidden;\n  margin: 0 70px;\n  border-radius: 8px;\n"]);return fa=function(){return e},e}function ha(){var e=Object(u.a)(["\n  padding: 20px 70px;\n  display: flex;\n  align-content: center;\n  justify-content: center;\n  flex-direction: column;\n  flex-grow: 1;\n  font-size: 22px;\n  width: 600px;\n  & a {\n    /* font-family: 'PS Mono', Courier, monospace; */\n    text-decoration: underline;\n    font-size: 28px;\n    line-height: 0px;\n  }\n"]);return ha=function(){return e},e}function ba(){var e=Object(u.a)(["\n  position: fixed;\n  z-index: 99;\n  background: rgba(0, 0, 0, 0.8);\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n"]);return ba=function(){return e},e}function va(){var e=Object(u.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  min-height: 100%;\n  z-index: 100;\n  display: flex;\n  align-content: center;\n  justify-content: center;\n  flex-direction: column;\n"]);return va=function(){return e},e}function ga(){var e=Object(u.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  min-height: 100%;\n  z-index: 1000;\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  justify-content: center;\n  overflow-y: scroll;\n  padding: 40px 0;\n"]);return ga=function(){return e},e}var xa=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(w.a)(this,Object(k.a)(t).call(this,e))).unauthorizedFlow=function(){n.setState({logToken:null}),n.setState({shown:!0})},n.authorizedFlow=function(e){n.setState({logToken:e,shown:!1}),n.user=function(e){var t=e.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(window.atob(t))}(e),n.setStateFrom("user",n.user),n.createCart()},n.state={shown:!0,logToken:null,psToken:null},n}return Object(I.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(H,null,(function(t){return e.setStateFrom=t.setStateFrom,e.createCart=t.createCart,a.a.createElement("div",null,a.a.createElement(ya,{style:{display:e.state.shown?"flex":"none"}},a.a.createElement(ja,null,a.a.createElement(Ca,null,"Current project: ",a.a.createElement("b",null,t.projectId)),a.a.createElement(Oa,null,a.a.createElement("div",{id:"xl_auth"})),a.a.createElement(Ca,null,wa.map((function(e,t){var n=e.project_id,r=e.login_id,i="".concat("https://xsolla.github.io/store-demo/#/","?project_id=").concat(n,"&login_id=").concat(r);return a.a.createElement("div",{key:n+t,style:{marginBottom:"1em"}},a.a.createElement("div",{style:{fontSize:"0.4em"}},a.a.createElement("a",{href:i},n,": ",e.projectName)))})),a.a.createElement("p",null,"Open any Xsolla Store using GET parameters ",a.a.createElement("br",null),a.a.createElement("b",null,"project_id")," and ",a.a.createElement("b",null,"login_id")," (login must point back to https://xsolla.github.io/store-demo/#/)"))),a.a.createElement(Ea,null)))}))}},{key:"componentDidMount",value:function(){window.XloginInit();var e=S();e?this.authorizedFlow(e):this.unauthorizedFlow()}}]),t}(r.Component),ya=p.b.div(ga()),ja=p.b.div(va()),Ea=p.b.div(ba()),Ca=p.b.div(ha()),Oa=p.b.div(fa()),wa=[{projectName:"Xsolla Store Demo",project_id:47278,login_id:"fb2d7c69-bf25-11e9-9244-42010aa80004"}];function ka(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  height: 50px;\n  padding: 0 15px;\n  font-family: 'Helvetica Neue', 'Roboto', Arial, Helvetica, sans-serif;\n  background-color: ",";\n"]);return ka=function(){return e},e}function Ia(){var e=Object(u.a)(["\n  && {\n    font-family: 'Roboto';\n    text-transform: uppercase;\n    color: ",";\n    margin: 0 1rem;\n  }\n"]);return Ia=function(){return e},e}function Sa(){var e=Object(u.a)(["\n  &.MuiButton-root {\n    margin-right: 10px;\n    font-size: 0.8rem;\n  }\n"]);return Sa=function(){return e},e}function _a(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  flex-grow: 1;\n\n  @media "," {\n    justify-content: center;\n  }\n"]);return _a=function(){return e},e}function Ma(){var e=Object(u.a)(["\n  color: ",";\n  margin-right: 10px;\n"]);return Ma=function(){return e},e}function Fa(){var e=Object(u.a)(["\n  &.MuiButton-root {\n    margin-right: 10px;\n  }\n"]);return Fa=function(){return e},e}function Ta(){var e=Object(u.a)(["\n  display: flex;\n  padding: 15px 20px;\n  min-width: 200px;\n  align-items: center;\n  text-transform: uppercase;\n  text-decoration: none;\n  font-size: 1.2rem;\n  font-weight: 700;\n  line-height: 1.2rem;\n  height: 100%;\n  color: #d6e0e7;\n  border: none;\n\n  &:hover {\n    color: #ff005b;\n    text-decoration: none;\n  }\n\n  &.active {\n    color: #ff005b;\n  }\n"]);return Ta=function(){return e},e}function Va(){var e=Object(u.a)(["\n  &.MuiTab-root {\n    text-transform: uppercase;\n    font-size: 1.4rem;\n    font-weight: 700;\n    line-height: 1.4rem;\n    min-width: 50px;\n  }\n"]);return Va=function(){return e},e}function za(){var e=Object(u.a)(["\n  &.MuiTabs-root {\n    height: 100%\n  }\n"]);return za=function(){return e},e}function Ba(){var e=Object(u.a)(["\n  .MuiMenu-list {\n    background-color: ",";\n  }\n"]);return Ba=function(){return e},e}var La=function(e){var t=e.isSpecificProject,n=a.a.useContext(G),r=n.logToken,i=n.user,o=n.userBalanceVirtualCurrency,u=n.projectId,l=n.showCart,s=n.setSideMenuVisibility,p=n.isUserBalanceFetching,f=n.isSideMenuShown,v=Object(m.h)().pathname,x=a.a.useState(null),y=Object(b.a)(x,2),j=y[0],E=y[1],C=function(){return E(null)},O=function(e){return E(e.currentTarget)},w=function(){return s(!f)},k=function(){_("xsolla_login_token"),_("xsolla_last_click_id"),window.location.reload()},I=r&&i,S=a.a.useMemo((function(){return pr([sr.items,sr.currencies].concat(Object(h.a)(44056===u?[sr.physical]:[])))}),[sr,u]),M=a.a.useMemo((function(){return S.some((function(e){return e.route===v}))}),[S,v]),F=a.a.useMemo((function(){return pr([sr.inventory,sr.entitlement,sr.manage,sr.purchase])}),[sr]);return a.a.useMemo((function(){return a.a.createElement(Ja,null,!t&&a.a.createElement(a.a.Fragment,null,a.a.createElement(d.a,{mdDown:!0},a.a.createElement(Pa,{value:!!M&&v,textColor:"primary",indicatorColor:"primary",component:"nav"},S.map((function(e){return a.a.createElement(qa,{key:e.route,component:c.b,label:e.label,value:e.route,to:e.route})})))),a.a.createElement(d.a,{lgUp:!0},a.a.createElement(Tt.a,{color:"primary",onClick:w},a.a.createElement(ca.a,null))),I&&a.a.createElement(Ra,null,p?a.a.createElement(g.a,{size:24,color:"primary"}):o.map((function(e){return a.a.createElement(Na,{key:e.sku},a.a.createElement(Be,{image:e.image_url,value:e.amount}))})),a.a.createElement(d.a,{mdDown:!0},a.a.createElement(Ga,{endIcon:Boolean(j)?a.a.createElement(ma.a,null):a.a.createElement(la.a,null),onClick:O},i.email))),a.a.createElement(xa,null),!r&&a.a.createElement(Ua,{variant:"outlined",color:"secondary",size:"small"},"Log In"),I&&44056!==u&&a.a.createElement(Da,{variant:"outlined",size:"small",onClick:k},a.a.createElement(da.a,{size:"inherit"})),a.a.createElement(Aa,{anchorEl:j,getContentAnchorEl:null,transformOrigin:{vertical:"top",horizontal:"center"},anchorOrigin:{vertical:"bottom",horizontal:"center"},open:Boolean(j),onClose:C},F.map((function(e){return a.a.createElement(Wa,{key:e.route,onClick:C,activeClassName:"active",to:e.route},e.label)})))),a.a.createElement(K.a,{variant:"contained",color:"primary",size:"small",onClick:l},a.a.createElement(Me.a,{size:"inherit"}),a.a.createElement(d.a,{xsDown:!0},"cart")))}),[v,I,o,F,u,j,t])},Aa=Object(p.b)(ia.a)(Ba(),(function(e){return e.theme.palette.background.default})),Pa=Object(p.b)(He.a)(za()),qa=Object(p.b)(Qe.a)(Va()),Wa=Object(p.b)(c.b)(Ta()),Da=Object(p.b)(K.a)(Fa()),Na=p.b.div(Ma(),(function(e){return e.theme.palette.text.primary})),Ra=p.b.div(_a(),Jt.mobileL),Ua=Object(p.b)(K.a)(Sa()),Ga=Object(p.b)(K.a)(Ia(),(function(e){return e.theme.palette.primary.main})),Ja=p.b.header(ka(),(function(e){return e.theme.palette.background.default})),Ha=n(266),Qa=n(140),Xa=n.n(Qa);function Za(){var e=Object(u.a)(["\n  flex-grow: 1;\n  padding: 0 15px;\n  text-transform: uppercase;\n  font-family: Roboto;\n  color: ",";\n"]);return Za=function(){return e},e}function Ya(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 49px;\n  border-bottom: 1px solid ",";\n"]);return Ya=function(){return e},e}function $a(){var e=Object(u.a)(["\n  &.MuiTab-root {\n    padding: 15px;\n    font-size: 1.3rem;\n    line-height: 1.3rem;\n    font-weight: 700;\n  }\n\n  & .MuiTab-wrapper {\n    align-items: flex-start;\n  }\n"]);return $a=function(){return e},e}function Ka(){var e=Object(u.a)(["\n  &.MuiIconButton-root {\n    color: ",";\n  }\n"]);return Ka=function(){return e},e}function ei(){var e=Object(u.a)(["\n  &.MuiDivider-root {\n    background-color: ",";\n    margin: 5px 0;\n  }\n"]);return ei=function(){return e},e}function ti(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 320px;\n  height: 100%;\n  background-color: ",";\n"]);return ti=function(){return e},e}var ni=function(){var e=a.a.useContext(G),t=e.isSideMenuShown,n=e.user,r=e.logToken,i=e.projectId,o=e.setSideMenuVisibility,u=Object(m.h)(),l=function(){return o(!1)};a.a.useEffect((function(){return l}),[]);var s=r&&n,p=a.a.useMemo((function(){return pr([sr.items,sr.currencies].concat(Object(h.a)(44056===i?[sr.physical]:[])))}),[i]),d=a.a.useMemo((function(){return pr([sr.inventory,sr.entitlement,sr.manage,sr.purchase])}),[]);return a.a.createElement(Ha.a,{open:t,anchor:"left",onOpen:function(){return o(!0)},onClose:l},a.a.createElement(ri,null,a.a.createElement(ci,null,s&&44056!==i&&a.a.createElement(ii,{onClick:function(){_("xsolla_login_token"),_("xsolla_last_click_id"),window.location.reload()}},a.a.createElement(da.a,{size:"inherit"})),s&&a.a.createElement(ui,null,n.email),a.a.createElement(ii,{onClick:l},a.a.createElement(Xa.a,null))),a.a.createElement(He.a,{value:u.pathname,onChange:l,component:"nav",variant:"scrollable",color:"primary",indicatorColor:"primary",orientation:"vertical"},p.map((function(e){return a.a.createElement(oi,{component:c.b,label:e.label,value:e.route,to:e.route})})),a.a.createElement(ai,null),d.map((function(e){return a.a.createElement(oi,{component:c.b,label:e.label,value:e.route,to:e.route})})))))},ri=p.b.div(ti(),(function(e){return e.theme.palette.background.default})),ai=Object(p.b)(Ft.a)(ei(),(function(e){var t=e.theme;return s()(t.palette.text.primary).alpha(.1).string()})),ii=Object(p.b)(Tt.a)(Ka(),(function(e){return e.theme.palette.primary.main})),oi=Object(p.b)(Qe.a)($a()),ci=p.b.div(Ya(),(function(e){var t=e.theme;return s()(t.palette.text.primary).alpha(.1).string()})),ui=p.b.div(Za(),(function(e){return e.theme.palette.primary.main}));function li(){var e=Object(u.a)(["\n  position: relative;\n  height: 100%;\n  overflow-y: auto;\n"]);return li=function(){return e},e}function si(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  font-family: ",";\n  background: ",";\n  background-attachment: fixed;\n  background-size: cover;\n  background-blend-mode: darken;\n"]);return si=function(){return e},e}var mi=p.b.div(si(),(function(e){return e.theme.typography.fontFamily}),(function(e){var t=e.theme;return"url(".concat(t.palette.background.imageUrl,") ").concat(s()(t.palette.background.default).alpha(.8))})),pi=p.b.div(li()),di=function(){var e=a.a.useContext(G),t=e.updateVirtualCurrencyBalance,n=e.clearCart,r=e.projectId,i=Object(m.i)({path:sr.specificProject,strict:!0,sensitive:!0});return a.a.useEffect((function(){n()}),[r]),a.a.useEffect((function(){t()}),[]),a.a.useMemo((function(){return a.a.createElement(mi,null,a.a.createElement(La,{isSpecificProject:i}),a.a.createElement(d.a,{lgUp:!0},!i&&a.a.createElement(ni,null)),a.a.createElement(Cr,null),a.a.createElement(Jr,null),a.a.createElement(pi,null,a.a.createElement(m.d,null,a.a.createElement(m.b,{path:sr.items,exact:!0,component:It}),a.a.createElement(m.b,{path:sr.currencies,component:na}),a.a.createElement(m.b,{path:sr.physical,component:Ne}),a.a.createElement(m.b,{path:sr.inventory,component:Ce}),a.a.createElement(m.b,{path:sr.manage,component:st}),a.a.createElement(m.b,{path:sr.entitlement,component:$n}),a.a.createElement(m.b,{path:sr.purchase,component:Bn}),a.a.createElement(m.b,{path:sr.specificProject,component:Ne}),a.a.createElement(m.a,{to:sr.items}))))}),[i])},fi=n(260),hi=n(250),bi=n(68),vi=Object(bi.a)({typography:{fontFamily:"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif"},palette:{primary:{main:"#FF005B",contrastText:"#F6FAFF"},secondary:{main:"#D6E0E7",contrastText:"#000"},text:{primary:"#D6E0E7",secondary:"#D6E0E7"},background:{default:"#011627",paper:"#011627",imageUrl:"https://res.cloudinary.com/maiik/image/upload/v1549624607/Xsolla/HomePage_Hero_Illustration_1440_oabqmk.jpg"},action:{selected:"#D6E0E712",hover:"#D6E0E708"}},shape:{borderRadius:6,cardWidth:"300px"}}),gi={vertical:"bottom",horizontal:"right"},xi=function(e){var t=e.children,n=Object(fi.a)("@media ".concat(Jt.mobileL)),r=Object(m.i)({path:sr.specificProject,strict:!0,sensitive:!0});return a.a.createElement(v.SnackbarProvider,{anchorOrigin:gi,dense:n,maxSnack:3,preventDuplicate:n},a.a.createElement(hi.a,{theme:vi},a.a.createElement(p.a,{theme:vi},a.a.createElement(Q,{projectId:r?r.params.projectID:window.xProjectId},t))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(c.a,{basename:"/"},a.a.createElement(xi,null,a.a.createElement(di,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[155,1,2]]]);
//# sourceMappingURL=main.0c5868a2.chunk.js.map