(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(t,e,n){t.exports=n(271)},122:function(t,e,n){},124:function(t,e,n){},271:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(27),i=n.n(o),c=(n(122),n(1)),u=n(22),l=n(23),s=n(25),d=n(24),m=n(26),p=n(2),f=(n(124),n(126),n(21));function h(){var t=Object(c.a)(['\n  padding: 1em;\n  position: relative;\n  text-transform: uppercase;\n  font-family: "Space Mono";\n  font-size: 1em;\n  background: transparent;\n  color: var(--mainWhite);\n  cursor: pointer;\n  transition: all 0.5s ease-in-out;\n  text-decoration: none;\n  &:hover {\n    // background: var(--lightBlue);\n    text-decoration: none;\n  }\n']);return h=function(){return t},t}var g=p.b.div(h()),b=(n(131),function(){var t;return window.location.search&&(t=function(t){t=t.split("+").join(" ");for(var e,n={},r=/[?&]?([^=]+)=([^&]*)/g;e=r.exec(t);)n[decodeURIComponent(e[1])]=decodeURIComponent(e[2]);return n}(window.location.search).token),t?(!function(t,e){var n=new Date;n.setTime(n.getTime()+864e5);var r="expires="+n.toUTCString();document.cookie=t+"="+e+";"+r+";path=/"}("xsolla_login_token",t),window.history.pushState("","",document.location.pathname)):t=function(t){for(var e=t+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var a=n[r];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(e))return a.substring(e.length,a.length)}return""}("xsolla_login_token"),t&&"undefined"!==t?t:null});function v(){return b()}function x(t){return document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;"}var y,w=n(6),j=n(115),k=n(46),T=n(10),O=n(63),E=n.n(O),C=n(102),S=n(29),I=n.n(S),z=I.a.CancelToken;function _(){return(_=Object(C.a)(E.a.mark(function t(e,n){var r,a,o,i,c;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={},a=[],t.next=4,fetch("https://store.xsolla.com/api/v1/project/"+e+"/items/groups",{method:"GET",headers:{Authorization:"Bearer "+n}});case 4:if(!(o=t.sent)){t.next=14;break}return t.next=8,o.json();case 8:return i=(i=t.sent).groups,t.next=12,Promise.all(i.map(function(t,n){return F(e,t)})).then(function(t){return t});case 12:c=t.sent,a=a.concat(c);case 14:return r={virtualItems:a},t.abrupt("return",r);case 16:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function F(t,e){return new Promise(function(n,r){fetch("https://store.xsolla.com/api/v1/project/"+t+"/items/virtual_items/group/"+e.external_id).then(function(t){return t.json()}).then(function(t){var r=t.items;e.products=r,n(e)}).catch(function(t){r(t.message)})})}function P(t,e,n,r){var a=t.sku,o=void 0===a?"sku":a;y&&y();var i={url:"https://store.xsolla.com/api/v1/project/"+window.xProjectId+"/cart/"+n+"/item/"+o,method:"PUT",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+r},data:JSON.stringify({quantity:e})};return I()(i).then(function(t){t.data}).catch(function(t){})}var G=a.a.createContext(),B={colorText:"#D6E0E7",colorAccent:"#FF005B",colorAccentText:"#F6FAFF",colorBg:"#011627",colorSecondary:"#495C6B",borderRadius:8,backgroundUrl:"https://res.cloudinary.com/maiik/image/upload/v1549624607/Xsolla/HomePage_Hero_Illustration_1440_oabqmk.jpg",cardWidth:"300",boxShadow:"0 5px 12px 0px rgba(0,0,0,0.2)",padding:"8px",transitionTime:"0.3s",transitionEasing:"ease-in-out",transition:"all 0.3s ease-in-out",transitionStyle:"0.3s ease-in-out",fontFamily:'"Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"'},W=function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(s.a)(this,Object(d.a)(e).call(this,t))).showCart=function(){n.setState({cartShown:!n.state.cartShown})},n.getCart=function(){var t=function(t,e){y&&y();var n={url:"https://store.xsolla.com/api/v1/project/"+window.xProjectId+"/cart/"+t,method:"GET",headers:{Authorization:"Bearer "+e},cancelToken:new z(function(t){y=t})};return I()(n).then(function(t){return t}).catch(function(t){})}(n.state.cart.cartId,n.state.logToken);t.then(function(e){!t.isCancel&&e&&n.setState(function(t){return{cart:{cartId:e.data.cart_id,items:e.data.items.sort(n.compareItems),price:e.data.price},isFetching:!1}})})},n.createCart=function(){var t=this;(function(t){var e={url:"https://store.xsolla.com/api/v1/project/"+window.xProjectId+"/cart",method:"POST",headers:{Authorization:"Bearer "+t}};return I()(e).then(function(t){return t}).catch(function(t){})})(this.state.logToken).then(function(e){t.setState(function(t){return{cart:{cartId:e.data.id,items:[],price:{amount:0,amount_without_discount:0}}}})})}.bind(Object(w.a)(Object(w.a)(n))),n.changeTheme=function(t){var e=null;"string"===typeof t?(e=t,n.setState(Object(T.a)({},n.state,{theme:Object(T.a)({},n.state.theme,{colorBg:e})}))):n.setState(Object(T.a)({},n.state,{theme:Object(T.a)({},n.state.theme,t)}),function(){})},n.changeCardSize=function(t){var e=n.state.theme;e.cardWidth=t,n.changeTheme(e)},n.clearCart=function(){n.showCart(),n.createCart()},n.payStationHandler=function(t,e){n.clearCart()},n.setPsToken=function(t){this.setState({psToken:t})}.bind(Object(w.a)(Object(w.a)(n))),n.handleDetail=function(){console.log("hello from handleDetail")},n.setStateFrom=function(t,e){this.setState(Object(T.a)({},this.state,Object(k.a)({},t,e)))}.bind(Object(w.a)(Object(w.a)(n))),n.compareItems=function(t,e){return t.sku>e.sku?1:t.sku<e.sku?-1:0},n.addToCart=function(t){n.state.cart?-1!==n.state.cart.items.findIndex(function(e){return e.sku===t.sku})?(n.getCart(),n.setState({cartShown:!0})):(n.setState({isFetching:!0,cart:Object(T.a)({},n.state.cart,{items:[Object(T.a)({},t,{quantity:1})].concat(Object(j.a)(n.state.cart.items)).sort(n.compareItems),price:Object(T.a)({},n.state.cart.price,{amount:n.state.cart.price&&n.state.cart.price.amount+t.price.amount,amount_without_discount:n.state.cart.price&&n.state.cart.price.amount_without_discount+t.price.amount_without_discount})})}),P(t,1,n.state.cart.cartId,n.state.logToken).then(function(t){n.getCart()}),n.showCart()):(n.setState({isFetching:!0}),P(t,1,n.state.cart.cartId,n.state.logToken).then(function(t){n.getCart()}),n.showCart())},n.removeFromCart=function(t){n.state.cart&&n.setState({isFetching:!0,cart:Object(T.a)({},n.state.cart,{items:n.state.cart.items.filter(function(e){return e.sku!==t.sku}).sort(n.compareItems),price:Object(T.a)({},n.state.cart.price,{amount:n.state.cart.price.amount-t.price.amount*t.quantity,amount_without_discount:n.state.cart.price.amount_without_discount-t.price.amount_without_discount*t.quantity})})})},n.changeItemQuantityInCart=function(t,e){if(e<=0)n.removeFromCart(t),function(t,e,n){var r=t.sku,a=void 0===r?"sku":r;y&&y();var o={url:"https://store.xsolla.com/api/v1/project/"+window.xProjectId+"/cart/"+e+"/item/"+a,method:"DELETE",headers:{Authorization:"Bearer "+n}};return I()(o).then(function(t){t.data}).catch(function(t){})}(t,n.state.cart.cartId,n.state.logToken).then(function(){n.getCart()});else{var r=n.state.cart.items.findIndex(function(e){return e.sku===t.sku}),a=n.state.cart.items;a.splice(r,1,Object(T.a)({},t,{quantity:e})),n.setState({isFetching:!0,cart:Object(T.a)({},n.state.cart,{items:a.sort(n.compareItems)})}),P(t,e,n.state.cart.cartId,n.state.logToken).then(function(){n.getCart()})}},n.setGroups=function(t){this.setState({virtualItems:t,fetching:!1})}.bind(Object(w.a)(Object(w.a)(n))),n.setCurrs=function(t){this.setState({fetching:!1,virtualItems:t.virtualItems,currency:t.currency,subscriptions:t.subscriptions})}.bind(Object(w.a)(Object(w.a)(n))),n.getTheme=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return"all"===t?n.state.theme:"".concat(n.state.theme[t]).concat("borderRadius"===t?"px":"")},n.setProducts=function(t){this.setState({storeProducts:t})}.bind(Object(w.a)(Object(w.a)(n))),n.state={logToken:v(),activeGroup:"first",loginShown:!0,activeModule:"virtualItems",virtualItems:null,currency:null,subscriptions:null,cartShown:!1,cart:{cartId:null,items:[],price:{amount:0,amount_without_discount:0}},isFetching:!1,psToken:"",theme:B},n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"componentWillUpdate",value:function(t,e){}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return a.a.createElement(G.Provider,{value:Object(T.a)({},this.state,{handleDetail:this.handleDetail,setPsToken:this.setPsToken,setGroups:this.setGroups,setProducts:this.setProducts,setStateFrom:this.setStateFrom,setCurrs:this.setCurrs,addToCart:this.addToCart,getTheme:this.getTheme.bind(this),changeTheme:this.changeTheme,changeCardSize:this.changeCardSize,createCart:this.createCart,showCart:this.showCart,changeItemQuantityInCart:this.changeItemQuantityInCart,buyCart:this.buyCart,payStationHandler:this.payStationHandler})},this.props.children)}}]),e}(r.Component),A=G.Consumer;function H(){var t=Object(c.a)(["\n  display: flex;\n  align-content: center;\n  justify-content: center;\n  text-align: center;\n  padding: 36px;\n  /* background: white; */\n  overflow: hidden;\n  /* width: 460px; */\n  margin: 0 70px;\n  border-radius: 8px;\n"]);return H=function(){return t},t}function U(){var t=Object(c.a)(["\n  padding: 20px 70px;\n  display: flex;\n  align-content: center;\n  justify-content: center;\n  flex-direction: column;\n  flex-grow: 1;\n  font-size: 22px;\n  /* flex-basis: 50%; */\n  width: 600px;\n  /* text-align: center; */\n  /* padding: 36px; */\n  & a {\n    /* font-family: 'PS Mono', Courier, monospace; */\n    text-decoration: underline;\n    font-size: 28px;\n    line-height: 0px;\n  }\n"]);return U=function(){return t},t}function N(){var t=Object(c.a)(["\n  position: fixed;\n  z-index: 99;\n  background: rgba(0, 0, 0, 0.8);\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n"]);return N=function(){return t},t}function M(){var t=Object(c.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  min-height: 100%;\n  z-index: 100;\n  display: flex;\n  align-content: center;\n  justify-content: center;\n  flex-direction: column;\n"]);return M=function(){return t},t}function R(){var t=Object(c.a)(["\n  position: fixed;\n  /* overflow-y: scroll; */\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  min-height: 100%;\n  z-index: 1000;\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  justify-content: center;\n  overflow-y: scroll;\n  padding: 40px 0;\n"]);return R=function(){return t},t}var D=function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(s.a)(this,Object(d.a)(e).call(this,t))).unauthorizedFlow=function(){n.setState({logToken:null}),n.flow="unauthorized",n.setState({shown:!0})},n.authorizedFlow=function(t){n.setState({logToken:t,shown:!1}),n.user=function(t){var e=t.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(window.atob(e))}(t),n.flow="authorized",n.userToken=t;Object(w.a)(Object(w.a)(n));n.setStateFrom("user",n.user),n.createCart()},n.state={shown:!0,logToken:null,psToken:null},n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return a.a.createElement("div",{style:{flexGrow:1}},a.a.createElement(A,null,function(e){return t.setStateFrom=e.setStateFrom,t.setPsToken=e.setPsToken,t.logToken=e.logToken,t.createCart=e.createCart,a.a.createElement("div",null,a.a.createElement(q,{style:{display:t.state.shown?"flex":"none"}},a.a.createElement(X,null,a.a.createElement(L,null,"Current project: ",a.a.createElement("b",null,window.xProjectId)),a.a.createElement(J,null,a.a.createElement("div",{id:"xl_auth"})),a.a.createElement(L,null,$.map(function(t,e){var n=t.project_id,r=t.login_id,o="".concat("https://xsolla.github.io/store-demo","?project_id=").concat(n,"&login_id=").concat(r);return a.a.createElement("div",{key:n+e,style:{marginBottom:"1em"}},a.a.createElement("div",{style:{fontSize:"0.4em"}},a.a.createElement("a",{href:o},n,": ",t.projectName)))}),a.a.createElement("p",null,"Open any Xsolla Store using GET parameters ",a.a.createElement("br",null),a.a.createElement("b",null,"project_id")," and ",a.a.createElement("b",null,"login_id")," (login must point back to https://xsolla.github.io/store-demo/)"))),a.a.createElement(Q,null)))}))}},{key:"componentDidMount",value:function(){window.XloginInit();var t=v();t?this.authorizedFlow(t):this.unauthorizedFlow()}},{key:"componentWillUpdate",value:function(t,e){}},{key:"componentDidUpdate",value:function(){}}]),e}(r.Component),q=p.b.div(R()),X=p.b.div(M()),Q=p.b.div(N()),L=p.b.div(U()),J=p.b.div(H()),$=[{projectName:"Xsolla Store Demo",project_id:47278,login_id:"fb2d7c69-bf25-11e9-9244-42010aa80004"}];function Y(){var t=Object(c.a)(["\n  color: var(--mainWhite);\n  opacity: 0.5;\n  position: relative;\n  z-index: 10;\n  display: flex;\n  justify-content: center;\n  flex-flow: column nowrap;\n  text-transform: uppercase;\n  flex-grow: 1;\n  font-size: 1.4rem;\n  line-height: 1.4rem;\n  cursor: pointer;\n  &:hover {\n    opacity: 1;\n  }\n"]);return Y=function(){return t},t}function K(){var t=Object(c.a)(["\n  display: flex;\n  flex-grow: 1;\n  flex-direction: row;\n  align-items: stretch;\n  justify-content: flex-end;\n  color: var(--mainWhite);\n  list-style-type: none;\n  /* background-color: var(--mainBlue); */\n  position: relative;\n  z-index: 10;\n  margin-bottom: 0;\n"]);return K=function(){return t},t}function V(){var t=Object(c.a)(["\n  /* text-align:center; */\n  display: flex;\n  flex-direction: row;\n  /* padding: 0 1em; */\n"]);return V=function(){return t},t}function Z(){var t=Object(c.a)(['\n  font-family: "Helvetica Neue", "Roboto", Arial, Helvetica, sans-serif;\n  color: var(--mainWhite);\n  /* background-color: var(--mainBlue); */\n  position: relative;\n  display: flex;\n  /* flex-grow:1; */\n  /* flex-direction: row; */\n  align-items: center;\n  z-index: 10;\n']);return Z=function(){return t},t}function tt(){var t=Object(c.a)(["\n  /* font-size:0.8rem; */\n  font-family: \"Roboto\";\n  color: \"var(--mainWhite)\";\n  /* background: 'var(--mainDark)'; */\n  /* color: 'var(--mainLight)'; */\n  margin: 0 1rem;\n"]);return tt=function(){return t},t}function et(){var t=Object(c.a)(['\n  display: flex;\n  flex-direction: row;\n  font-size: 0.8rem;\n  line-height: 2em;\n  display: flex;\n  flex-direction: column;\n  justify-content: stretch;\n  font-family: "Roboto";\n  color: black;\n  background: var(--mainWhite);\n  border-radius: 4px;\n  padding: 0 0.6rem;\n  cursor: pointer;\n  /* border: 1px solid red; */\n']);return et=function(){return t},t}function nt(){var t=Object(c.a)(['\n  flex-grow: 1;\n  text-transform: uppercase;\n  font-family: "Roboto";\n  color: "var(--mainWhite)";\n']);return nt=function(){return t},t}function rt(t){var e=t.showCart,n=void 0===e?function(){}:e,r=a.a.useContext(G),o=a.a.useState({shown:!1}),i=Object(f.a)(o,2),c=(i[0],i[1]);return a.a.createElement(ct,{style:{zIndex:100,color:r.getTheme("colorAccentText"),backgroundColor:r.getTheme("colorAccent")}},a.a.createElement(lt,null,a.a.createElement("li",{style:{display:"flex",justifyContent:"center"}},a.a.createElement(at,null,!r.logToken&&a.a.createElement(ot,{onClick:function(){c({shown:!0})}},"Log In"),r.logToken&&r.user&&a.a.createElement(ut,null,a.a.createElement(it,null,r.user.email),a.a.createElement(ot,{onClick:function(){x("xsolla_login_token"),x("xsolla_last_click_id"),window.location.reload()},style:{color:r.getTheme("colorAccent"),backgroundColor:r.getTheme("colorAccentText")}},"Log Out"))),a.a.createElement(D,null))),a.a.createElement(g,{onClick:function(t){return n(t)}},a.a.createElement("span",{className:"mr-10"},a.a.createElement("i",{className:"fas fa-cart-plus"})," cart")))}var at=p.b.div(nt()),ot=p.b.div(et()),it=p.b.div(tt()),ct=p.b.div(Z()),ut=p.b.div(V()),lt=p.b.ul(K()),st=(p.b.div(Y()),n(28)),dt=n(64),mt=n.n(dt),pt=n(109),ft=n.n(pt),ht=n(103),gt=n.n(ht),bt=n(108),vt=n.n(bt),xt=n(107),yt=n.n(xt),wt=n(60),jt=n.n(wt),kt=n(105),Tt=n.n(kt),Ot=n(106),Et=n.n(Ot),Ct=n(40),St=n.n(Ct);function It(){var t=Object(c.a)(["\n  flex-grow: 1;\n  font-size: 0.8em;\n  /* color: ","; */\n  /* font-weight: 600; */\n  opacity: 0.3;\n"]);return It=function(){return t},t}function zt(){var t=Object(c.a)(["\n  flex-grow: 1;\n  color: ",";\n  font-weight: 600;\n"]);return zt=function(){return t},t}function _t(){var t=Object(c.a)(["\n  display: block;\n  /* height: 0; */\n  margin-top: 8px;\n  min-height: 120px;\n  flex-grow: 1;\n  /* padding-top: 56.25%; */\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(",");\n"]);return _t=function(){return t},t}function Ft(){var t=Object(c.a)(["\n      padding: 16px 0;\n      width: 160px;\n      display: grid;\n      grid-template-columns: auto;\n      grid-row-gap: 8px;\n      place-content: start start;\n    "]);return Ft=function(){return t},t}function Pt(){var t=Object(c.a)(["\n      display: flex;\n      align-items: center;\n      border-top: 1px solid\n        ",";\n      padding: 8px 0 0 0;\n      margin: 0px 16px 0 16px;\n    "]);return Pt=function(){return t},t}function Gt(){var t=Object(c.a)(["\n  ","\n  ","\n"]);return Gt=function(){return t},t}function Bt(){var t=Object(c.a)(["\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n"]);return Bt=function(){return t},t}function Wt(){var t=Object(c.a)(["\n  min-height: 66px;\n  overflow: hidden;\n  flex-grow: 0;\n  padding-bottom: 0 !important;\n  margin-bottom: 8px;\n"]);return Wt=function(){return t},t}function At(){var t=Object(c.a)(["\n  display: block; /* Fallback for non-webkit */\n  display: -webkit-box;\n  /* max-height: 120px; */\n  width: 100%;\n  display: block; /* Fallback for non-webkit */\n  display: -webkit-box;\n  max-width: 400px;\n  margin: 0 auto;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return At=function(){return t},t}function Ht(){var t=Object(c.a)(["\n          box-shadow: ",";\n        "]);return Ht=function(){return t},t}function Ut(){var t=Object(c.a)(["\n      display: grid;\n      grid-template-columns: 20% 50% 30%;\n      grid-template-rows: 160px;\n      place-content: center;\n    "]);return Ut=function(){return t},t}function Nt(){var t=Object(c.a)(["\n    display: flex;\n    flex-direction: column;\n    max-width: ",";\n    min-width: ",";\n    height: ",";\n    /* height: 360px; */\n    margin: ","px;\n    flex-shrink: 0;\n    flex-grow: 1;\n    flex-base: 50%;\n    background: transparent;\n    /* boxShadow: none; */\n    /* color: var(--mainWhite); */\n    transition: box-shadow ",";\n    border-radius: ","\n    padding: ",";\n  "]);return Nt=function(){return t},t}function Mt(){var t=Object(c.a)(["\n  color: ",";\n  ","\n\n  ","\n  &:hover {\n    ","\n  }\n"]);return Mt=function(){return t},t}function Rt(){var t=Object(c.a)(["\n  position: relative;\n\n  /* transition: all "," ease-in-out; */\n  transition: transform 350ms ease-out, opacity 150ms ease-out;\n  &.initialFlow1 {\n    opacity: 0;\n    transform: translateY(20px) scale(1);\n  }\n"]);return Rt=function(){return t},t}function Dt(){var t=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: bolder;\n  min-width: 44px;\n  font-size: 1.2em;\n"]);return Dt=function(){return t},t}function qt(){var t=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n"]);return qt=function(){return t},t}var Xt=p.b.div(qt()),Qt=p.b.div(Dt()),Lt=p.b.div(Rt(),function(t){return t.order+"s"}),Jt=p.b.div(Mt(),function(t){return t.getTheme("colorText")},function(t){return!t.cardType&&Object(p.a)(Nt(),function(t){return"".concat(t.getTheme("cardWidth"),"px")},function(t){return"".concat(t.getTheme("cardWidth"),"px")},function(t){return"".concat(t.getTheme("cardWidth"),"px")},16,function(t){return t.getTheme("transitionStyle")},function(t){return t.getTheme("borderRadius")},function(t){return t.getTheme("padding")})},function(t){return t.cardType&&Object(p.a)(Ut())},function(t){return!t.cardType&&Object(p.a)(Ht(),function(t){return t.getTheme("boxShadow")})}),$t=p.b.div(At()),Yt=Object(p.b)(mt.a)(Wt()),Kt=p.b.div(Bt()),Vt=p.b.div(Gt(),function(t){return!t.cardType&&Object(p.a)(Pt(),function(t){return St()(t.getTheme("colorText")).alpha(.1).string()})},function(t){return t.cardType&&Object(p.a)(Ft())}),Zt=p.b.div(_t(),function(t){return t.image}),te=p.b.div(zt(),function(t){return t.getTheme("colorAccent")}),ee=p.b.div(It(),function(t){return t.getTheme("colorAccent")}),ne=Object(st.withStyles)(function(t){return{paper:Object(T.a)({},t.mixins.gutters(),{paddingTop:2*t.spacing.unit,paddingBottom:2*t.spacing.unit}),cardTitle:{},card:{},h1:{fontWeight:"bold",fontSize:"1.2em",marginBottom:8,color:"var(--mainDark)"},p:{flexGrow:1,color:"var(--mainDark)"},price:{flexGrow:1,fontWeight:"600",color:"var(--mainBlue)"},media:{marginTop:8,height:0,paddingTop:"56.25%",backgroundSize:"contain"},actions:{display:"flex"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:jt.a[500]}}})(function(t){var e=t.addToCart,n=void 0===e?function(){}:e,r=(t.removeFromCart,t.changeItemQuantityInCart),o=void 0===r?function(){}:r,i=t.product,c=t.order,u=t.cardType,l=void 0===u?null:u,s=t.initClass,d=t.image_url,m=t.title,p=t.currency,h=t.price,g=t.description,b=t.getTheme,v=void 0===b?function(){}:b,x=t.quantity,y=a.a.useState({expanded:!1,favorited:!1,cardShown:!1}),w=Object(f.a)(y,2),j=w[0],k=w[1],T=a.a.useState("cart"===l?x:0),O=Object(f.a)(T,2);O[0],O[1];return a.a.useEffect(function(){j.cardShown||setTimeout(function(){k({cardShown:!0})},100*c)}),a.a.createElement(Lt,{className:j.cardShown?"":s},a.a.createElement(Jt,{cardType:l,getTheme:v},a.a.createElement(Zt,{style:{},image:d,theme:"cart"===l?{width:140,height:140}:{}}),a.a.createElement(Yt,null,a.a.createElement(Kt,null,m),a.a.createElement($t,null,g)),"cart"!==l&&a.a.createElement(Vt,{cardType:l,getTheme:v},a.a.createElement(te,{getTheme:v},p," ",Math.round(100*h)/100),a.a.createElement(gt.a,{style:{color:a.a.useContext(G).getTheme("colorText")},"aria-label":"Add to Cart",onClick:function(){n(i)}},a.a.createElement(Tt.a,null))),"cart"===l&&a.a.createElement(Vt,{cardType:l,getTheme:v},a.a.createElement(Xt,null,x<=1&&a.a.createElement(Et.a,{style:{opacity:.4},onClick:function(){o(i,x-1)}}),x>1&&a.a.createElement(yt.a,{style:{opacity:.4},onClick:function(){o(i,x-1)}}),a.a.createElement(Qt,null,x),a.a.createElement(vt.a,{onClick:function(){o(i,x+1)}})),a.a.createElement("div",null,a.a.createElement(te,{getTheme:v},p," ",function(t,e){return Math.round(t*e*100)/100}(h,x))),x>1&&a.a.createElement(ee,{getTheme:v},p," ",Math.round(100*h)/100," for one item")),a.a.createElement(ft.a,{in:j.expanded,timeout:"auto",unmountOnExit:!0},a.a.createElement(mt.a,null,g))))}),re=n(111),ae=n.n(re),oe=n(112),ie=n.n(oe),ce=n(110),ue=n(47);function le(t){return{name:t,fractionSize:2,symbol:{grapheme:t,template:null,rtl:!1},uniqSymbol:null}}var se="en_US";function de(t,e,n){var r=parseFloat(t);if(!e||isNaN(r))return{formattedCurrency:t+" "+e,dir:"ltr"};var a=function(t){return t&&ce[t.toUpperCase()]||le(t)}(e),o=function(t){return t&&ue[function(t){return[t.substr(0,2).toLowerCase(),t.substr(3,2).toUpperCase()].join("_")}(t)]||ue[se]}(n),i=r<0?"-":"",c=a.fractionSize,u=a.symbol,l=o.thousands,s=o.decimal;u&&!u.rtl||" "!==o.thousands||(l=",",s=".");var d=Math.abs(r).toFixed(c).split(".");d[0]=d[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+l);var m=d.join(s),p=i+m+" "+e,f=!1;return u&&u.template&&(p=i+u.template.replace("1",m).replace("$",u.grapheme),f=u.rtl),{formattedCurrency:p,dir:f?"rtl":"ltr"}}function me(){var t=Object(c.a)(["\n  display: flex;\n  padding: 0 24px 0 24px;\n  font-weight: bold;\n"]);return me=function(){return t},t}function pe(){var t=Object(c.a)(["\n  /* background-color: rgba(0,0,0,0.8); */\n  position: sticky;\n  bottom: 0;\n  z-index: 0;\n  /* height: 64px; */\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  z-index: 10;\n  padding: 24px 0 24px 0;\n"]);return pe=function(){return t},t}function fe(){var t=Object(c.a)(["\n  /* background-color: rgba(0,0,0,0.8); */\n  position: sticky;\n  top: 0;\n  z-index: 0;\n  /* height: 64px; */\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  z-index: 10;\n  padding: 24px 0 8px 0;\n"]);return fe=function(){return t},t}function he(){var t=Object(c.a)(["\n  background-color: rgba(0, 0, 0, 0.8);\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 0;\n"]);return he=function(){return t},t}function ge(){var t=Object(c.a)(["\n  flex: 1;\n  position: absolute;\n  max-width: 680px;\n  z-index: 1;\n  max-height: 80vh;\n  overflow-y: scroll;\n  padding-top: 64px;\n"]);return ge=function(){return t},t}function be(){var t=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 100;\n"]);return be=function(){return t},t}function ve(){var t=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 600px;\n  padding-top: 16px;\n  /* justify-content: center; */\n  /* align-items: center; */\n  /* position: fixed; */\n  /* left: 0; */\n  /* right: 0; */\n  /* top: 0; */\n  /* bottom: 0; */\n  /* z-index: 1; */\n"]);return ve=function(){return t},t}var xe=p.b.div(ve()),ye=p.b.div(be()),we=p.b.div(ge()),je=p.b.div(he()),ke=p.b.div(fe()),Te=p.b.div(pe()),Oe=p.b.div(me()),Ee=function(t){t.style;var e=a.a.useState(!1),n=Object(f.a)(e,2),r=n[0],o=n[1],i=a.a.useContext(G),c=function(){i.setStateFrom("cartShown",!1)},u=function(){o(!0),function(t,e){var n={url:"https://store.xsolla.com/api/v1/project/"+window.xProjectId+"/payment/cart/"+t,method:"POST",headers:{Authorization:"Bearer "+e}};return I()(n).then(function(t){return t}).catch(function(t){})}(i.cart.cartId,i.logToken).then(function(t){window.xPayStationInit(t.data.token),window.XPayStationWidget.open(),window.XPayStationWidget.on(window.XPayStationWidget.eventTypes.CLOSE,function(t,e){o(!1)}),window.XPayStationWidget.on(window.XPayStationWidget.eventTypes.STATUS_DONE,function(t,e){return i.payStationHandler(t,e)})}).catch(function(t){})};return a.a.createElement("div",null,i.cartShown&&a.a.createElement(ye,null,a.a.createElement(we,{style:{padding:"0 32px 0 32px",borderRadius:i.getTheme("borderRadius"),backgroundColor:i.getTheme("colorBg"),color:i.getTheme("colorText")}},a.a.createElement("div",{style:{backgroundColor:i.getTheme("colorBg"),color:i.getTheme("colorText")}},a.a.createElement(ke,{style:{backgroundColor:"".concat(i.getTheme("colorBg")),borderBottom:"1px solid ".concat(St()(i.getTheme("colorText")).alpha(.1).string())}},a.a.createElement("h4",null,"Cart "),a.a.createElement(ae.a,{style:{cursor:"pointer"},onClick:function(t){return c()}})),a.a.createElement(xe,null,i.cart&&i.cart.items.map(function(t,e){return a.a.createElement("div",{key:"cartitem".concat(e)},a.a.createElement(ne,{product:t,key:t.sku,order:e,initClass:"initialFlow1",sku:t.sku,title:t.name,description:t.description,price:t.price.amount,image_url:t.image_url,currency:t.price.currency,cardType:"cart",cartId:i.cart.cartId,logToken:i.logToken,removeFromCart:i.removeFromCart,changeItemQuantityInCart:i.changeItemQuantityInCart,quantity:t.quantity}))}),i.cart&&i.cart.items.length<=0&&a.a.createElement("p",null,"Empty cart")),a.a.createElement(Te,{style:{backgroundColor:"".concat(i.getTheme("colorBg")),borderTop:"1px solid ".concat(St()(i.getTheme("colorText")).alpha(.1).string())}},a.a.createElement("div",{className:""}),i.cart&&i.cart.items.length>0&&a.a.createElement(Oe,null,"Subtotal:",a.a.createElement("div",{style:{minWidth:80,textAlign:"right"}},i.isFetching&&de(function(t){var e=0;return t.forEach(function(t){e+=t.price.amount*t.quantity}),Math.round(100*e)/100}(i.cart.items),i.cart.items[0].price.currency).formattedCurrency,!i.isFetching&&de(i.cart.price.amount,i.cart.price.currency).formattedCurrency)),a.a.createElement(ie.a,{variant:"contained",onClick:function(){!(r||i.cart.items.length<=0)&&u()}},"Check out")))),a.a.createElement(je,{onClick:function(t){return c()}})),"}")},Ce=(n(245),n(65)),Se=n.n(Ce),Ie=n(113),ze=n.n(Ie);function _e(){var t=Object(c.a)(["\n  background-color: ",";\n"]);return _e=function(){return t},t}Object(p.b)(Se.a)(_e(),function(t){return t.colorBg});var Fe=function(t){t.value;var e=t.virtualItems,n=void 0===e?[]:e,r=t.activeGroup,o=void 0===r?"first"===o?n[0].id:o:r,i=t.changeGroupHandler,c=void 0===i?function(){}:i,u=t.changeGlobalHandler,l=void 0===u?function(){}:u,s=a.a.useState({value:0,virtualItems:n,activeGroup:"first"===o?n[0].id:o}),d=Object(f.a)(s,2),m=d[0],p=d[1];return a.a.createElement(st.MuiThemeProvider,{theme:Object(st.createMuiTheme)({palette:{primary:{main:a.a.useContext(G).getTheme("colorAccent")}}})},a.a.createElement(Se.a,{value:m.value,indicatorColor:"primary",textColor:"primary",style:{color:a.a.useContext(G).getTheme("colorAccent")},centered:!0},n&&n.map(function(t,e){return a.a.createElement(ze.a,{key:t.id,color:"secondary",textColor:"secondary",label:t.name,onClick:function(n){return p({value:e,activeGroup:(r=t).id}),c(r.id),void l(r.id);var r},style:{color:a.a.useContext(G).getTheme("colorText")}})})))};function Pe(){var t=Object(c.a)(["\n  color: ",";\n  padding-top: 2em;\n  min-height: 2em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  width: 100%;\n  font-size: 1.2em;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n"]);return Pe=function(){return t},t}function Ge(){var t=Object(c.a)(["\n  /* width: '100%'; */\n  display: flex;\n  flex-wrap: wrap;\n  /* align-items: center; */\n  /* justify-content: center; */\n  /* align-items: center; */\n  /* justify-content: center; */\n  /* display: grid; */\n  /* grid-template-columns: repeat( auto-fit, minmax(260px, 320px)); */\n  /* grid-row-gap: 24px; */\n  place-content: center;\n"]);return Ge=function(){return t},t}function Be(){var t=Object(c.a)(["\n  /* display: flex; */\n  align-items: center;\n  flex-grow: 1;\n  margin: 24px 0;\n"]);return Be=function(){return t},t}function We(){var t=Object(c.a)(["\n  /* position: relative;\n  z-index: 4; */\n"]);return We=function(){return t},t}function Ae(){var t=Object(c.a)(["\n  position: relative;\n  z-index: 4;\n"]);return Ae=function(){return t},t}function He(){var t=Object(c.a)(["\n  background-color: ",";\n  opacity: 0.8;\n  z-index: 0;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n"]);return He=function(){return t},t}function Ue(){var t=Object(c.a)(["\n  background-image: url(",");\n  z-index: 0;\n  background-size: cover;\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n"]);return Ue=function(){return t},t}var Ne=function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(s.a)(this,Object(d.a)(e).call(this,t))).changeGroupHandler=function(t){n.props.setStateFrom("activeGroup",t)},n.changeGlobalHandler=function(t){n.props.setStateFrom("activeModule",t)},n.ProductRef=a.a.createRef(),n.state={},n.changeGroupHandler=n.changeGroupHandler.bind(Object(w.a)(Object(w.a)(n))),n.changeGlobalHandler=n.changeGlobalHandler.bind(Object(w.a)(Object(w.a)(n))),n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.props.logToken&&!this.props.virtualItems&&(this.props.setStateFrom("fetching",!0),function(t,e){return _.apply(this,arguments)}(window.xProjectId,this.props.logToken).then(function(e){t.props.setCurrs(e)}))}},{key:"render",value:function(){var t=this;return a.a.createElement("div",null,a.a.createElement(A,null,function(e){return a.a.createElement("div",{className:""},a.a.createElement(De,{style:{backgroundColor:"transparent",color:e.theme.colorText}},"virtualItems"===e.activeModule&&e.virtualItems&&a.a.createElement(qe,null,a.a.createElement(Xe,null,a.a.createElement(Fe,{virtualItems:e.virtualItems,active:"first",changeGroupHandler:t.changeGroupHandler,setStateFrom:e.setStateFrom})),"virtualItems"===e.activeModule&&e.virtualItems.map(function(n,r){if("first"===t.props.activeGroup&&0===r||"all"===t.props.activeGroup||t.props.activeGroup===n.id||t.props.activeGroup===n.name)return a.a.createElement("div",{key:t.ProductRef},a.a.createElement(Le,{getTheme:e.getTheme.bind(t)},n.name),a.a.createElement(Qe,null,n.products&&n.products.map(function(n,r){return a.a.createElement(ne,{ref:t.ProductRef,key:n.sku,order:r,initClass:"initialFlow1",sku:n.sku,title:n.name,description:n.description,price:n.price.amount,image_url:n.image_url,currency:n.price.currency,product:n,addToCart:e.addToCart,getTheme:e.getTheme.bind(t),cartId:e.cartId,logToken:e.logToken,changeItemQuantityInCart:e.changeItemQuantityInCart})})))}))),a.a.createElement(Me,{backgroundUrl:e.getTheme("backgroundUrl")},a.a.createElement(Re,{colorBg:e.getTheme("colorBg")})))}))}}]),e}(r.Component),Me=p.b.div(Ue(),function(t){return t.backgroundUrl}),Re=p.b.div(He(),function(t){return t.colorBg}),De=p.b.div(Ae()),qe=p.b.div(We()),Xe=p.b.div(Be()),Qe=p.b.div(Ge()),Le=p.b.div(Pe(),function(t){return t.getTheme("colorText")}),Je=Ne,$e=n(114),Ye=n.n($e);function Ke(){var t=Object(c.a)(["\n  z-index: 9;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  background: white;\n"]);return Ke=function(){return t},t}var Ve=Object(st.withStyles)(function(t){return{progress:{margin:2*t.spacing.unit}}})(function(t){var e=t.classes;return a.a.createElement(Ze,null,a.a.createElement(Ye.a,{className:e.progress}))}),Ze=p.b.div(Ke());function tn(){var t=Object(c.a)(["\n  background-color: #506373;\n  color: #506373;\n  height: 100vh;\n  display: flex;\n  /* align-items: center; */\n  position: relative;\n  z-index: 2;\n"]);return tn=function(){return t},t}function en(){var t=Object(c.a)(["\n  /* background-color: #506373; */\n  left: 0;\n  top: 0;\n  height: 100vh;\n  display: grid;\n  align-items: center;\n  position: relative;\n  z-index: 100;\n"]);return en=function(){return t},t}function nn(){var t=Object(c.a)(["\n  /* background-color: #506373; */\n\n  /* display: flex; */\n  /* align-items: center; */\n  height: 100vh;\n  overflow-y: auto;\n  /* position: relative; */\n  z-index: 1;\n"]);return nn=function(){return t},t}var rn=function(t){function e(){var t,n;Object(u.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(s.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(a)))).state={psToken:null},n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"componentWillUpdate",value:function(t,e){}},{key:"render",value:function(){return a.a.createElement(A,null,function(t){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:""},a.a.createElement(rt,{showCart:t.showCart}),a.a.createElement("div",{style:{}},a.a.createElement(an,null,a.a.createElement(on,null),a.a.createElement(Je,t),t.fetching&&a.a.createElement(Ve,null)))))})}}]),e}(r.Component),an=p.b.div(nn()),on=Object(p.b)(Ee)(en()),cn=(p.b.div(tn()),rn),un=n(273);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.d(e,"ProjectId",function(){return ln});var ln=window.xProjectId;i.a.render(a.a.createElement(W,null,a.a.createElement(un.a,null,a.a.createElement(cn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[117,2,1]]]);
//# sourceMappingURL=main.c3bf6fb6.chunk.js.map