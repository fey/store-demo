{"version":3,"sources":["components/Preloader.js","features/physicalGoods/store/index.js","features/virtualGoods/store/index.js","features/virtualCurrencies/store/index.js","features/inventory/store/index.js","features/entitlement/store/index.js","features/cart/store/index.js","features/vcCart/store/index.js","features/manage/store/index.js","features/user/store/index.js","store.js","utils/generateUUID.js","components/ProductCard.js","features/inventory/components/InventoryItem.js","features/inventory/components/InventoryList.js","components/Currency.js","features/physicalGoods/components/PhysicalItem.js","features/physicalGoods/components/PhysicalList.js","components/GroupSwitcher.js","features/manage/components/ManageInventory.js","features/virtualGoods/components/VirtualItem.js","features/virtualGoods/components/VirtualList.js","features/entitlement/components/EntitlementList.js","utils/formatCurrency.js","styles/devices.js","utils/routes.js","features/cart/components/CartItem.js","features/cart/components/Cart.js","features/user/components/Login.js","features/user/components/Balances.js","features/cart/components/ServerPurchase.js","features/vcCart/components/VCCartItem.js","features/vcCart/components/VCCart.js","features/virtualCurrencies/components/VCItem.js","features/virtualCurrencies/components/VCList.js","utils/cookie.js","components/Navbar.js","components/MobileNavbar.js","App.js","api/cart.js","api/user.js","api/physicalGoods.js","api/virtualGoods.js","api/virtualCurrencies.js","api/inventory.js","api/entitlement.js","api/index.js","styles/theme.js","provider.js","index.js"],"names":["Preloader","size","CssPreloader","CircularProgress","color","styled","div","initialState","items","isFetching","reducer","state","action","type","payload","filter","x","Boolean","price","groups","isConsuming","updateInventoryItemIndex","findIndex","sku","updatedInventoryItem","newInventoryItems","quantity","slice","isRedeeming","id","amount","amountWithoutDiscount","currency","isShown","isLoading","isPurchasing","isClearing","isQuantityChanging","isItemAdding","isItemRemoving","isPaying","compareItems","a","b","item","sort","updatedItemIndex","updatedItem","isBuying","isItemRevoking","isItemRewarding","areVirtualCurrenciesLoading","virtualCurrencies","areVirtualItemsLoading","virtualItems","users","name","label","isRewarding","isRevoking","userInfo","token","balances","areBalancesLoading","isAuthenticating","StateContext","React","createContext","ActionsContext","useStore","mapState","mapActions","globalState","useContext","globalActions","actions","StoreProvider","isSpecificProject","isDemo","children","api","enqueueSnackbar","useSnackbar","notify","useReducer","dispatch","show","useCallback","hide","getCart","cartApi","cart","__CANCEL__","errorMsg","response","data","errorMessage","message","variant","addItem","some","elem","changeItemQuantity","removeItem","removeItemFromCart","clearCart","payForGoods","cancelled","purchase","user","platform","external_purchase_id","replace","c","crypto","getRandomValues","Uint8Array","toString","external_purchase_date","Date","toISOString","map","purchaseItems","useMemo","useCart","cartState","cartActions","buyByVirtualCurrencies","quickPurchaseByVirtualCurrency","virtualPrice","useVCCart","vcCartState","vcCartActions","load","physicalGoodApi","loadPhysicalGoods","goods","usePhysicalGoods","physicalGoodsState","physicalGoodsActions","entitlementApi","loadEntitlement","redeem","code","useEntitlement","entitlementState","entitlementActions","virtualGoodsApi","loadVirtualItems","useVirtualGoods","virtualGoodsState","virtualGoodsActions","virtualCurrenciesApi","loadVirtualCurrencies","useVirtualCurrencies","virtualCurrenciesState","virtualCurrenciesActions","inventoryApi","loadInventory","consume","consumeItem","instanceId","useInventory","inventoryState","inventoryActions","getUser","userApi","loadBalances","useUser","userState","userActions","rewardItems","count","rewardData","userId","itemId","revokeItems","revokeData","useManageInventory","manageInventoryState","manageInventoryActions","Provider","value","vcCart","physicalGoods","entitlement","virtualGoods","inventory","manageInventory","ProductCard","memo","image","order","description","actionButtonContent","onAction","useState","setShown","showCard","isHovered","setHovered","useEffect","setTimeout","CardAppear","shown","hovered","Card","onMouseEnter","onMouseLeave","CardImage","CardTitle","Collapse","in","timeout","collapsedHeight","animate","clamp","CardFooter","CardQuantity","Button","disabled","onClick","props","theme","shape","cardWidth","palette","text","primary","background","default","shadows","transitions","create","borderRadius","CardContent","MUICardContent","contrastText","Colorer","alpha","string","main","InventoryItem","onConsume","handleItemConsume","imageUrl","remainingUses","undefined","cartId","inventoryItems","isInventoryFetching","isItemConsuming","InventoryList","activeItemID","setActiveItemID","handleConsumeItem","content","length","Content","index","key","EmptyText","Body","Currency","CurrencyIcon","src","CurrencyAcronym","span","Avatar","PhysicalItem","addToCart","handleItemAdd","Math","round","arePhysicalGoodsFetching","PhysicalList","handleItemAdding","GroupSwitcher","activeGroup","onGroupChange","handleGroupChange","_","groupID","onChange","textColor","indicatorColor","group","Tab","Tabs","MUITabs","ManageInventory","userID","setUserID","setActiveGroup","selectedItem","setSelectedItem","setQuantity","userOptions","MenuItem","virtualItemsOptions","currenciesOptions","groupsContent","options","currencies","handleRewardItem","handleRevokeItem","handleFormSubmit","event","preventDefault","handleUserSelect","target","handleItemSelect","handleQuantityChange","Form","onSubmit","select","Items","FormFooter","FormActions","RewardButton","form","TextField","MUITextField","VirtualItem","product","buyByVC","isPurchased","handleBuyByVC","buttonAction","buttonContent","Purchased","loadVirtualGoods","addItemToCart","addItemToVCCart","VirtualList","isItemInInventory","itemGroups","groupId","groupName","g","Fragment","Title","Group","isConsumable","entitlementItems","isEntitlementFetching","isItemRedeeming","EntitlementList","setSku","setCode","handleCodeChange","handleSkuChange","handleSubmit","entitlementList","placeholder","MUIButton","defaultCurrency","fractionSize","symbol","grapheme","template","rtl","uniqSymbol","getFormattedCurrency","locale","parsedAmount","parseFloat","isNaN","formattedCurrency","dir","currencyOptions","currencyFormat","toUpperCase","getCurrencyOptions","languageOptions","currencyNumberFormat","substr","toLowerCase","join","formatLocale","getLanguageOptions","signAmount","thousandSeparator","thousands","decimalSeparator","decimal","splittedAmount","abs","toFixed","split","formattedAmount","device","mobileS","mobileM","mobileL","tablet","laptop","laptopL","desktop","retina","routes","navItems","route","getRoutes","includes","indexOf","CartItem","priceForOne","handleQuantityDec","handleQuantityInc","handelItemRemove","Image","Name","ItemPrice","CartItemTotal","CartItemPriceForOne","PriceInfo","QuantityActions","IconButton","DecrementIcon","DeleteIcon","ItemQuantity","IncrementIcon","MUIDeleteIcon","MUIDecrementIcon","MUIIncrementIcon","cartItems","isCartShown","isCartLoading","isCartClearing","hideCart","Cart","history","useHistory","cartSubtotal","subtotal","reduce","acc","buyAnotherPlatform","push","open","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","Grow","CartContent","CartHeader","CartList","Loader","Progress","CartFooter","Subtotal","Price","CartActions","Modal","MUIModal","LinearProgress","Login","UserBalances","vc","ServerPurchase","cartContent","CartItems","footerContent","Divider","MUIDivider","VCCartItem","VCCart","VCItem","VCList","Cookie","projectId","Number","process","o","window","location","search","e","n","t","exec","decodeURIComponent","getQueryParams","setTime","getTime","toUTCString","document","cookie","setCookie","pushState","pathname","i","charAt","substring","getCookie","eatCookie","eraseCookie","parseJwt","base64","JSON","parse","atob","Navbar","isPublic","isLogged","isLogoutHide","userEmail","onMenuOpen","onCartOpen","renderUserBalances","useLocation","menuAnchor","setMenuAnchor","handleMenuClose","handleMenuOpen","currentTarget","logOutHandler","reload","generalMenuItems","userMenuItems","isLocationExistsInTabs","Header","Hidden","mdDown","component","NavLink","to","lgUp","LoginPanel","UserMail","endIcon","LogoutButton","anchorEl","getContentAnchorEl","transformOrigin","vertical","horizontal","anchorOrigin","Link","activeClassName","xsDown","Menu","MUIMenu","MUITab","header","MobileNavbar","isOpen","onOpen","anchor","orientation","MenuDivider","MUIIconButton","showCart","App","isSideMenuOpen","setMenuVisibility","openMenu","closeMenu","isLogoutShown","email","path","exact","typography","fontFamily","CartApi","paymentWidget","url","params","cancelToken","CancelToken","cartGettingCancel","get","convertCart","stringify","headers","quantityChangingCancel","put","delete","sandbox","settings","ui","post","Promise","resolve","reject","init","host","access_token","lightbox","height","spinner","width","spinnerColor","contentBackground","on","eventTypes","CLOSE","STATUS_DONE","vcSKU","axios","this","cart_id","priceWithoutDiscount","amount_without_discount","image_url","virtual_prices","UserApi","loginWidget","convertUser","logout","convertVirtualBalances","loginId","xsolla_login_project_id","PhysicalGoodApi","loginToken","version","physicalGood","PhysicalGood","getPhysicalGoodList","convertPhysicalGoods","isFree","is_free","VirtualGoodsApi","all","loadVirtualItemsByGroup","external_id","convertVirtualGoods","inventory_options","consumable","VirtualCurrenciesApi","convertVirtualCurrencies","InventoryApi","convertVirtualItems","convertRewardData","URL","convertInventoryItems","Inventory","operations","user_id","instance_id","remaining_uses","EntitlementApi","convertEntitlements","project_id","digital_content_sku","language","Api","baseURL","config","Authorization","mainTheme","createMuiTheme","secondary","paper","selected","hover","notificationPosition","isMobile","useMediaQuery","match","useRouteMatch","strict","sensitive","XPayStationWidget","XL","dense","maxSnack","preventDuplicate","ReactDOM","render","basename","getElementById"],"mappings":"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","file":"static/js/main.b677fc84.chunk.js","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst Preloader = ({ size }) => (\n  <CssPreloader>\n    <CircularProgress size={size} color='primary' />\n  </CssPreloader>\n);\n\nexport { Preloader };\n\nconst CssPreloader = styled.div`\n  z-index: 9;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n`;\n","import React from 'react';\n\nconst initialState = {\n  items: [],\n  isFetching: false,\n};\n\nconst LOAD_PHYSICAL_GOODS = 'LOAD_PHYSICAL_GOODS';\nconst LOAD_PHYSICAL_GOODS_SUCCESS = 'LOAD_PHYSICAL_GOODS_SUCCESS';\nconst LOAD_PHYSICAL_GOODS_FAIL = 'LOAD_PHYSICAL_GOODS_FAIL';\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case LOAD_PHYSICAL_GOODS:\n      return {\n        ...state,\n        isFetching: true,\n      };\n    case LOAD_PHYSICAL_GOODS_SUCCESS:\n      return {\n        ...state,\n        items: action.payload.filter(x => Boolean(x.price)),\n        isFetching: false,\n      };\n    case LOAD_PHYSICAL_GOODS_FAIL:\n      return {\n        ...state,\n        isFetching: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const usePhysicalGoods = (api, notify) => {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  const load = React.useCallback(async () => {\n    dispatch({ type: LOAD_PHYSICAL_GOODS });\n    try {\n      const goods = await api.physicalGoodApi.loadPhysicalGoods();\n      dispatch({ type: LOAD_PHYSICAL_GOODS_SUCCESS, payload: goods });\n    } catch (error) {\n      const errorMsg = error.response ? error.response.errorMessage : error.message;\n      notify(errorMsg, { variant: 'error' });\n      dispatch({ type: LOAD_PHYSICAL_GOODS_FAIL });\n    }\n  }, [api.physicalGoodApi, notify]);\n\n  return React.useMemo(\n    () => [\n      state,\n      {\n        load,\n      },\n    ],\n    [load, state]\n  );\n};\n","import React from 'react';\n\nconst initialState = {\n  groups: [],\n  isFetching: false,\n};\n\nconst LOAD_VIRTUAL_GOODS = 'LOAD_VIRTUAL_GOODS';\nconst LOAD_VIRTUAL_GOODS_SUCCESS = 'LOAD_VIRTUAL_GOODS_SUCCESS';\nconst LOAD_VIRTUAL_GOODS_FAIL = 'LOAD_VIRTUAL_GOODS_FAIL';\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case LOAD_VIRTUAL_GOODS:\n      return {\n        ...state,\n        isFetching: true,\n      };\n    case LOAD_VIRTUAL_GOODS_SUCCESS:\n      return {\n        ...state,\n        groups: action.payload,\n        isFetching: false,\n      };\n    case LOAD_VIRTUAL_GOODS_FAIL:\n      return {\n        ...state,\n        isFetching: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const useVirtualGoods = (api, notify) => {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  const load = React.useCallback(async () => {\n    dispatch({ type: LOAD_VIRTUAL_GOODS });\n    try {\n      const groups = await api.virtualGoodsApi.loadVirtualItems();\n      dispatch({ type: LOAD_VIRTUAL_GOODS_SUCCESS, payload: groups });\n    } catch (error) {\n      const errorMsg = error.response ? error.response.errorMessage : error.message;\n      notify(errorMsg, { variant: 'error' });\n      dispatch({ type: LOAD_VIRTUAL_GOODS_FAIL });\n    }\n  }, [api.virtualGoodsApi, notify]);\n\n  return React.useMemo(\n    () => [\n      state,\n      {\n        load,\n      },\n    ],\n    [load, state]\n  );\n};\n","import React from 'react';\n\nconst initialState = {\n  items: [],\n  isFetching: false,\n};\n\nconst LOAD_VIRTUAL_CURRENCIES = 'LOAD_VIRTUAL_CURRENCIES';\nconst LOAD_VIRTUAL_CURRENCIES_SUCCESS = 'LOAD_VIRTUAL_CURRENCIES_SUCCESS';\nconst LOAD_VIRTUAL_CURRENCIES_FAIL = 'LOAD_VIRTUAL_CURRENCIES_FAIL';\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case LOAD_VIRTUAL_CURRENCIES:\n      return {\n        ...state,\n        isFetching: true,\n      };\n    case LOAD_VIRTUAL_CURRENCIES_SUCCESS:\n      return {\n        ...state,\n        items: action.payload,\n        isFetching: false,\n      };\n    case LOAD_VIRTUAL_CURRENCIES_FAIL:\n      return {\n        ...state,\n        isFetching: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const useVirtualCurrencies = (api, notify) => {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  const load = React.useCallback(async () => {\n    dispatch({ type: LOAD_VIRTUAL_CURRENCIES });\n    try {\n      const items = await api.virtualCurrenciesApi.loadVirtualCurrencies();\n      dispatch({ type: LOAD_VIRTUAL_CURRENCIES_SUCCESS, payload: items });\n    } catch (error) {\n      const errorMsg = error.response ? error.response.errorMessage : error.message;\n      notify(errorMsg, { variant: 'error' });\n      dispatch({ type: LOAD_VIRTUAL_CURRENCIES_FAIL });\n    }\n  }, [api.virtualCurrenciesApi, notify]);\n\n  return React.useMemo(\n    () => [\n      state,\n      {\n        load,\n      },\n    ],\n    [load, state]\n  );\n};\n","import React from 'react';\n\nconst initialState = {\n  items: [],\n  isFetching: false,\n  isConsuming: false,\n};\n\nconst LOAD_INVENTORY_ITEMS = 'LOAD_INVENTORY_ITEMS';\nconst LOAD_INVENTORY_ITEMS_SUCCESS = 'LOAD_INVENTORY_ITEMS_SUCCESS';\nconst LOAD_INVENTORY_ITEMS_FAIL = 'LOAD_INVENTORY_ITEMS_FAIL';\n\nconst CONSUME_ITEM = 'CONSUME_ITEM';\nconst CONSUME_ITEM_SUCCESS = 'CONSUME_ITEM_SUCCESS';\nconst CONSUME_ITEM_FAIL = 'CONSUME_ITEM_FAIL';\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case LOAD_INVENTORY_ITEMS:\n      return {\n        ...state,\n        isFetching: true,\n      };\n    case LOAD_INVENTORY_ITEMS_SUCCESS:\n      return {\n        ...state,\n        items: action.payload,\n        isFetching: false,\n      };\n    case LOAD_INVENTORY_ITEMS_FAIL:\n      return {\n        ...state,\n        isFetching: false,\n      };\n    case CONSUME_ITEM:\n      return {\n        ...state,\n        isConsuming: true,\n      };\n    case CONSUME_ITEM_SUCCESS: {\n      const updateInventoryItemIndex = state.items.findIndex(x => x.sku === action.payload);\n      const updatedInventoryItem = state.items[updateInventoryItemIndex];\n      const newInventoryItems =\n        updatedInventoryItem.quantity > 1\n          ? [\n              ...state.items.slice(0, updateInventoryItemIndex),\n              {\n                ...updatedInventoryItem,\n                quantity: updatedInventoryItem.quantity - 1,\n              },\n              ...state.items.slice(updateInventoryItemIndex + 1),\n            ]\n          : [\n              ...state.items.slice(0, updateInventoryItemIndex),\n              ...state.items.slice(updateInventoryItemIndex + 1),\n            ];\n      return {\n        ...state,\n        items: newInventoryItems,\n        isConsuming: false,\n      };\n    }\n    case CONSUME_ITEM_FAIL:\n      return {\n        ...state,\n        isConsuming: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const useInventory = (api, notify) => {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  const load = React.useCallback(async () => {\n    dispatch({ type: LOAD_INVENTORY_ITEMS });\n    try {\n      const items = await api.inventoryApi.loadInventory();\n      dispatch({ type: LOAD_INVENTORY_ITEMS_SUCCESS, payload: items });\n    } catch (error) {\n      const errorMsg = error.response ? error.response.errorMessage : error.message;\n      notify(errorMsg, { variant: 'error' });\n      dispatch({ type: LOAD_INVENTORY_ITEMS_FAIL });\n    }\n  }, [api.inventoryApi, notify]);\n\n  const consume = React.useCallback(\n    async item => {\n      dispatch({ type: CONSUME_ITEM });\n      try {\n        await api.inventoryApi.consumeItem(item.sku, item.instanceId);\n        dispatch({ type: CONSUME_ITEM_SUCCESS, payload: item.sku });\n      } catch (error) {\n        const errorMsg = error.response ? error.response.errorMessage : error.message;\n        notify(errorMsg, { variant: 'error' });\n        dispatch({ type: CONSUME_ITEM_FAIL });\n      }\n    },\n    [api.inventoryApi, notify]\n  );\n\n  return React.useMemo(\n    () => [\n      state,\n      {\n        load,\n        consume,\n      },\n    ],\n    [consume, load, state]\n  );\n};\n","import React from 'react';\n\nconst initialState = {\n  items: [],\n  isFetching: false,\n  isRedeeming: false,\n};\n\nconst LOAD_ENTITLEMENT = 'LOAD_ENTITLEMENT';\nconst LOAD_ENTITLEMENT_SUCCESS = 'LOAD_ENTITLEMENT_SUCCESS';\nconst LOAD_ENTITLEMENT_FAIL = 'LOAD_ENTITLEMENT_FAIL';\n\nconst REDEEM = 'REDEEM';\nconst REDEEM_SUCCESS = 'REDEEM_SUCCESS';\nconst REDEEM_FAIL = 'REDEEM_FAIL';\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case LOAD_ENTITLEMENT:\n      return {\n        ...state,\n        isFetching: true,\n      };\n    case LOAD_ENTITLEMENT_SUCCESS:\n      return {\n        ...state,\n        items: action.payload,\n        isFetching: false,\n      };\n    case LOAD_ENTITLEMENT_FAIL:\n      return {\n        ...state,\n        isFetching: false,\n      };\n\n    case REDEEM:\n      return {\n        ...state,\n        isRedeeming: true,\n      };\n    case REDEEM_SUCCESS:\n      return {\n        ...state,\n        isRedeeming: false,\n      };\n    case REDEEM_FAIL:\n      return {\n        ...state,\n        isRedeeming: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const useEntitlement = (api, notify) => {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  const load = React.useCallback(async () => {\n    dispatch({ type: LOAD_ENTITLEMENT });\n    try {\n      const items = await api.entitlementApi.loadEntitlement();\n      dispatch({ type: LOAD_ENTITLEMENT_SUCCESS, payload: items });\n    } catch (error) {\n      const errorMsg = error.response ? error.response.errorMessage : error.message;\n      notify(errorMsg, { variant: 'error' });\n      dispatch({ type: LOAD_ENTITLEMENT_FAIL });\n    }\n  }, [api.entitlementApi, notify]);\n\n  const redeem = React.useCallback(\n    async (code, sku) => {\n      dispatch({ type: REDEEM });\n      try {\n        await api.entitlementApi.redeem(code, sku);\n        load();\n        dispatch({ type: REDEEM_SUCCESS });\n      } catch (error) {\n        const errorMsg = error.response ? error.response.errorMessage : error.message;\n        notify(errorMsg, { variant: 'error' });\n        dispatch({ type: REDEEM_FAIL });\n      }\n    },\n    [api.entitlementApi, load, notify]\n  );\n\n  return React.useMemo(\n    () => [\n      state,\n      {\n        load,\n        redeem,\n      },\n    ],\n    [load, redeem, state]\n  );\n};\n","import React from 'react';\n\nimport { generateUUID } from '../../../utils/generateUUID';\n\nconst initialState = {\n  id: null,\n  items: [],\n  price: {\n    amount: 0,\n    amountWithoutDiscount: 0,\n    currency: '',\n  },\n\n  isShown: false,\n  isLoading: false,\n  isPurchasing: false,\n  isClearing: false,\n  isQuantityChanging: false,\n  isItemAdding: false,\n  isItemRemoving: false,\n  isPaying: false,\n};\n\nconst SHOW_CART = 'CART_SHOW';\nconst HIDE_CART = 'CART_HIDE';\n\nconst GET_CART = 'GET_CART';\nconst GET_CART_SUCCESS = 'GET_CART_SUCCESS';\nconst GET_CART_FAIL = 'GET_CART_FAIL';\n\nconst ADD_TO_CART = 'ADD_TO_CART';\nconst ADD_TO_CART_SUCCESS = 'ADD_TO_CART_SUCCESS';\nconst ADD_TO_CART_FAIL = 'ADD_TO_CART_FAIL';\n\nconst CHANGE_QUANTITY = 'CHANGE_QUANTITY';\nconst CHANGE_QUANTITY_SUCCESS = 'CHANGE_QUANTITY_SUCCESS';\nconst CHANGE_QUANTITY_FAIL = 'CHANGE_QUANTITY_FAIL';\n\nconst REMOVE_ITEM = 'REMOVE_ITEM';\nconst REMOVE_ITEM_SUCCESS = 'REMOVE_ITEM_SUCCESS';\nconst REMOVE_ITEM_FAIL = 'REMOVE_ITEM_FAIL';\n\nconst CLEAR_CART = 'CLEAR_CART';\nconst CLEAR_CART_SUCCESS = 'CLEAR_CART_SUCCESS';\nconst CLEAR_CART_FAIL = 'CLEAR_CART_FAIL';\n\nconst PAY_FOR_GOODS = 'PAY_FOR_GOODS';\nconst PAY_FOR_GOODS_SUCCESS = 'PAY_FOR_GOODS_SUCCESS';\nconst PAY_FOR_GOODS_FAIL = 'PAY_FOR_GOODS_FAIL';\n\nconst PURCHASE = 'PURCHASE';\nconst PURCHASE_SUCCESS = 'PURCHASE_SUCCESS';\nconst PURCHASE_FAIL = 'PURCHASE_FAIL';\n\nconst compareItems = (a, b) => (a.sku > b.sku ? 1 : -1);\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case SHOW_CART:\n      return {\n        ...state,\n        isShown: true,\n      };\n    case HIDE_CART:\n      return {\n        ...state,\n        isShown: false,\n      };\n\n    case GET_CART:\n      return {\n        ...state,\n        isLoading: true,\n      };\n    case GET_CART_SUCCESS:\n      return {\n        ...state,\n        id: action.payload.id,\n        items: action.payload.items.filter(item => Boolean(item.price)).sort(compareItems),\n        price: action.payload.price || initialState.price,\n        isLoading: false,\n      };\n    case GET_CART_FAIL:\n      return {\n        ...state,\n        isLoading: false,\n      };\n\n    case ADD_TO_CART:\n      return {\n        ...state,\n        isItemAdding: true,\n      };\n    case ADD_TO_CART_SUCCESS:\n      return {\n        ...state,\n        items: [{ ...action.payload, quantity: 1 }, ...state.items].sort(compareItems),\n        price: {\n          ...state.price,\n          amount: state.price.amount + action.payload.price.amount,\n          amountWithoutDiscount:\n            state.price.amountWithoutDiscount + action.payload.price.amountWithoutDiscount,\n        },\n        isItemAdding: false,\n      };\n    case ADD_TO_CART_FAIL:\n      return {\n        ...state,\n        isItemAdding: false,\n      };\n\n    case CHANGE_QUANTITY: {\n      const updatedItemIndex = state.items.findIndex(item => item.sku === action.payload.item.sku);\n      const updatedItem = state.items[updatedItemIndex];\n\n      if (updatedItem) {\n        return {\n          ...state,\n          items: [\n            ...state.items.slice(0, updatedItemIndex),\n            { ...updatedItem, quantity: action.payload.quantity },\n            ...state.items.slice(updatedItemIndex + 1),\n          ].sort(compareItems),\n          isQuantityChanging: true,\n        };\n      } else {\n        return state;\n      }\n    }\n    case CHANGE_QUANTITY_SUCCESS:\n      return {\n        ...state,\n        isQuantityChanging: false,\n      };\n    case CHANGE_QUANTITY_FAIL:\n      return {\n        ...state,\n        isQuantityChanging: false,\n      };\n\n    case REMOVE_ITEM: {\n      return {\n        ...state,\n        items: state.items.filter(item => item.sku !== action.payload.sku).sort(compareItems),\n        isItemRemoving: true,\n      };\n    }\n    case REMOVE_ITEM_SUCCESS:\n      return {\n        ...state,\n        isItemRemoving: false,\n      };\n    case REMOVE_ITEM_FAIL:\n      return {\n        ...state,\n        isItemRemoving: false,\n      };\n\n    case CLEAR_CART: {\n      return {\n        ...state,\n        isClearing: true,\n      };\n    }\n    case CLEAR_CART_SUCCESS:\n      return {\n        ...state,\n        id: initialState.id,\n        items: initialState.items,\n        price: initialState.price,\n        isClearing: false,\n      };\n    case CLEAR_CART_FAIL:\n      return {\n        ...state,\n        isClearing: false,\n      };\n\n    case PAY_FOR_GOODS: {\n      return {\n        ...state,\n        isPaying: true,\n      };\n    }\n    case PAY_FOR_GOODS_SUCCESS:\n      return {\n        ...state,\n        isPaying: false,\n      };\n    case PAY_FOR_GOODS_FAIL:\n      return {\n        ...state,\n        isPaying: false,\n      };\n\n    case PURCHASE: {\n      return {\n        ...state,\n        isPurchasing: true,\n      };\n    }\n    case PURCHASE_SUCCESS:\n      return {\n        ...state,\n        isPurchasing: false,\n      };\n    case PURCHASE_FAIL:\n      return {\n        ...state,\n        isPurchasing: false,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const useCart = (api, notify) => {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  const show = React.useCallback(() => dispatch({ type: SHOW_CART }), []);\n  const hide = React.useCallback(() => dispatch({ type: HIDE_CART }), []);\n\n  const getCart = React.useCallback(async () => {\n    try {\n      dispatch({ type: GET_CART });\n      const cart = await api.cartApi.getCart();\n      dispatch({ type: GET_CART_SUCCESS, payload: cart });\n    } catch (error) {\n      if (!error.__CANCEL__) {\n        const errorMsg = error.response ? error.response.data.errorMessage : error.message;\n        notify(errorMsg, { variant: 'error' });\n      }\n      dispatch({ type: GET_CART_FAIL });\n    }\n  }, [api.cartApi, notify]);\n\n  const addItem = React.useCallback(\n    async item => {\n      const items = state.items;\n      const isItemExist = items.some(elem => elem.sku === item.sku);\n      if (!isItemExist) {\n        try {\n          dispatch({ type: ADD_TO_CART });\n          await api.cartApi.changeItemQuantity(item.sku, 1);\n          dispatch({ type: ADD_TO_CART_SUCCESS, payload: item });\n          getCart();\n          show();\n        } catch (error) {\n          if (!error.__CANCEL__) {\n            getCart();\n            const errorMsg = error.response ? error.response.data.errorMessage : error.message;\n            notify(errorMsg, { variant: 'error' });\n          }\n          dispatch({ type: ADD_TO_CART_FAIL });\n        }\n      } else {\n        show();\n      }\n    },\n    [api.cartApi, getCart, notify, show, state.items]\n  );\n\n  const changeItemQuantity = React.useCallback(\n    async (item, quantity) => {\n      try {\n        dispatch({ type: CHANGE_QUANTITY, payload: { item, quantity } });\n        await api.cartApi.changeItemQuantity(item.sku, quantity);\n        getCart();\n        dispatch({ type: CHANGE_QUANTITY_SUCCESS });\n      } catch (error) {\n        if (!error.__CANCEL__) {\n          getCart();\n          const errorMsg = error.response ? error.response.data.errorMessage : error.message;\n          notify(errorMsg, { variant: 'error' });\n        }\n        dispatch({ type: CHANGE_QUANTITY_FAIL });\n      }\n    },\n    [api.cartApi, getCart, notify]\n  );\n\n  const removeItem = React.useCallback(\n    async item => {\n      try {\n        dispatch({ type: REMOVE_ITEM, payload: item });\n        await api.cartApi.removeItemFromCart(item.sku);\n        getCart();\n        dispatch({ type: REMOVE_ITEM_SUCCESS });\n      } catch (error) {\n        if (!error.__CANCEL__) {\n          getCart();\n          const errorMsg = error.response ? error.response.data.errorMessage : error.message;\n          notify(errorMsg, { variant: 'error' });\n        }\n        dispatch({ type: REMOVE_ITEM_FAIL });\n      }\n    },\n    [api.cartApi, getCart, notify]\n  );\n\n  const clearCart = React.useCallback(async () => {\n    try {\n      dispatch({ type: CLEAR_CART });\n      await api.cartApi.clearCart();\n      dispatch({ type: CLEAR_CART_SUCCESS });\n    } catch (error) {\n      const errorMsg = error.response ? error.response.data.errorMessage : error.message;\n      notify(errorMsg, { variant: 'error' });\n      dispatch({ type: CLEAR_CART_FAIL });\n    }\n  }, [api.cartApi, notify]);\n\n  const payForGoods = React.useCallback(async () => {\n    try {\n      dispatch({ type: PAY_FOR_GOODS });\n      hide();\n      await api.cartApi.payForGoods();\n      clearCart();\n      dispatch({ type: PAY_FOR_GOODS_SUCCESS });\n    } catch (error) {\n      if (error.cancelled) {\n        notify('Payment cancelled', { variant: 'warning' });\n      } else {\n        const errorMsg = error.response ? error.response.data.errorMessage : error.message;\n        notify(errorMsg, { variant: 'error' });\n      }\n      dispatch({ type: PAY_FOR_GOODS_FAIL });\n    }\n  }, [api.cartApi, clearCart, hide, notify]);\n\n  const purchase = React.useCallback(async () => {\n    try {\n      const price = state.price;\n      const items = state.items;\n      const data = {\n        type: 'purchase',\n        user: 'd342dad2-9d59-11e9-a384-42010aa8003f',\n        platform: 'playstation_network',\n        purchase: {\n          amount: price.amount,\n          currency: price.currency,\n          external_purchase_id: generateUUID(),\n          external_purchase_date: new Date().toISOString(),\n        },\n        items: items.map(({ sku, quantity }) => ({ sku, quantity })),\n      };\n      dispatch({ type: PURCHASE });\n      await api.cartApi.purchaseItems(data);\n      clearCart();\n      notify(`Items are purchased`, { variant: 'success' });\n      dispatch({ type: PURCHASE_SUCCESS });\n    } catch (error) {\n      const errorMsg = error.response ? error.response.data.errorMessage : error.message;\n      notify(errorMsg, { variant: 'error' });\n      dispatch({ type: PURCHASE_FAIL });\n    }\n  }, [api.cartApi, clearCart, notify, state.items, state.price]);\n\n  return React.useMemo(\n    () => [\n      state,\n      {\n        show,\n        hide,\n        getCart,\n        addItem,\n        changeItemQuantity,\n        removeItem,\n        clearCart,\n        payForGoods,\n        purchase,\n      },\n    ],\n    [\n      addItem,\n      changeItemQuantity,\n      clearCart,\n      getCart,\n      hide,\n      payForGoods,\n      purchase,\n      removeItem,\n      show,\n      state,\n    ]\n  );\n};\n","import React from 'react';\n\nconst initialState = {\n  isBuying: false,\n  item: null,\n};\n\nconst ADD_TO_CART = 'ADD_TO_CART';\nconst CLEAR_CART = 'CLEAR_CART';\n\nconst BUT_BY_VC = 'BUT_BY_VC';\nconst BUT_BY_VC_SUCCESS = 'BUT_BY_VC_SUCCESS';\nconst BUT_BY_VC_FAIL = 'BUT_BY_VC_FAIL';\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      return {\n        ...state,\n        item: action.payload,\n      };\n\n    case CLEAR_CART:\n      return {\n        ...state,\n        item: null,\n      };\n\n    case BUT_BY_VC:\n      return {\n        ...state,\n        isBuying: true,\n      };\n    case BUT_BY_VC_SUCCESS:\n      return {\n        ...state,\n        item: null,\n        isBuying: false,\n      };\n    case BUT_BY_VC_FAIL:\n      return {\n        ...state,\n        isBuying: false,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const useVCCart = (api, notify) => {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  const addItem = React.useCallback(item => dispatch({ type: ADD_TO_CART, payload: item }), []);\n  const clearCart = React.useCallback(() => dispatch({ type: CLEAR_CART }), []);\n\n  const buyByVirtualCurrencies = React.useCallback(async () => {\n    const item = state.item;\n    try {\n      dispatch({ type: BUT_BY_VC });\n      await api.cartApi.quickPurchaseByVirtualCurrency(item.sku, item.virtualPrice.sku);\n      notify(`Purchased: ${item.name}`, { variant: 'success' });\n      dispatch({ type: BUT_BY_VC_SUCCESS });\n    } catch (error) {\n      const errorMsg = error.response ? error.response.data.errorMessage : error.message;\n      notify(errorMsg, { variant: 'error' });\n      dispatch({ type: BUT_BY_VC_FAIL });\n    }\n  }, [api.cartApi, notify, state.item]);\n\n  return React.useMemo(\n    () => [\n      state,\n      {\n        addItem,\n        clearCart,\n        buyByVirtualCurrencies,\n      },\n    ],\n    [state, addItem, clearCart, buyByVirtualCurrencies]\n  );\n};\n","import React from 'react';\n\nconst initialState = {\n  isItemRevoking: false,\n  isItemRewarding: false,\n  areVirtualCurrenciesLoading: false,\n  virtualCurrencies: [],\n  areVirtualItemsLoading: false,\n  virtualItems: [],\n  users: [\n    {\n      id: 'd342dad2-9d59-11e9-a384-42010aa8003f',\n      name: 'support@xsolla.com',\n    },\n    {\n      id: '7d8b1f52-7d3f-400b-acd8-46e3a4368596',\n      name: 'v.legotkin@xsolla.com',\n    },\n    {\n      id: '27bc1227-48a3-4da8-bb86-f8d093f68805',\n      name: 'r.ushakov@xsolla.com',\n    },\n    {\n      id: 'a7d10a4e-3f68-43cc-a6b2-893d2c68fd14',\n      name: 'p.sanachev@xsolla.com',\n    },\n  ],\n  groups: [\n    {\n      id: 'items',\n      label: 'Items',\n    },\n    {\n      id: 'currencies',\n      label: 'Currencies',\n    },\n  ],\n};\n\nconst LOAD_VIRTUAL_ITEMS = 'LOAD_VIRTUAL_ITEMS';\nconst LOAD_VIRTUAL_ITEMS_SUCCESS = 'LOAD_VIRTUAL_ITEMS_SUCCESS';\nconst LOAD_VIRTUAL_ITEMS_FAIL = 'LOAD_VIRTUAL_ITEMS_FAIL';\n\nconst LOAD_VIRTUAL_CURRENCIES = 'LOAD_VIRTUAL_CURRENCIES';\nconst LOAD_VIRTUAL_CURRENCIES_SUCCESS = 'LOAD_VIRTUAL_CURRENCIES_SUCCESS';\nconst LOAD_VIRTUAL_CURRENCIES_FAIL = 'LOAD_VIRTUAL_CURRENCIES_FAIL';\n\nconst REWARD_ITEMS = 'REWARD_ITEMS';\nconst REWARD_ITEMS_SUCCESS = 'REWARD_ITEMS_SUCCESS';\nconst REWARD_ITEMS_FAIL = 'REWARD_ITEMS_FAIL';\n\nconst REVOKE_ITEMS = 'REVOKE_ITEMS';\nconst REVOKE_ITEMS_SUCCESS = 'REVOKE_ITEMS_SUCCESS';\nconst REVOKE_ITEMS_FAIL = 'REVOKE_ITEMS_FAIL';\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case LOAD_VIRTUAL_ITEMS:\n      return {\n        ...state,\n        areVirtualItemsLoading: true,\n      };\n    case LOAD_VIRTUAL_ITEMS_SUCCESS:\n      return {\n        ...state,\n        virtualItems: action.payload,\n        areVirtualItemsLoading: false,\n      };\n    case LOAD_VIRTUAL_ITEMS_FAIL:\n      return {\n        ...state,\n        areVirtualItemsLoading: false,\n      };\n\n    case LOAD_VIRTUAL_CURRENCIES:\n      return {\n        ...state,\n        areVirtualCurrenciesLoading: true,\n      };\n    case LOAD_VIRTUAL_CURRENCIES_SUCCESS:\n      return {\n        ...state,\n        virtualCurrencies: action.payload,\n        areVirtualCurrenciesLoading: false,\n      };\n    case LOAD_VIRTUAL_CURRENCIES_FAIL:\n      return {\n        ...state,\n        areVirtualCurrenciesLoading: false,\n      };\n\n    case REWARD_ITEMS:\n      return {\n        ...state,\n        isRewarding: true,\n      };\n    case REWARD_ITEMS_SUCCESS:\n      return {\n        ...state,\n        isRewarding: false,\n      };\n    case REWARD_ITEMS_FAIL:\n      return {\n        ...state,\n        isRewarding: false,\n      };\n\n    case REVOKE_ITEMS:\n      return {\n        ...state,\n        isRevoking: true,\n      };\n    case REVOKE_ITEMS_SUCCESS:\n      return {\n        ...state,\n        isRevoking: false,\n      };\n    case REVOKE_ITEMS_FAIL:\n      return {\n        ...state,\n        isRevoking: false,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const useManageInventory = (api, notify) => {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  const loadVirtualItems = React.useCallback(async () => {\n    dispatch({ type: LOAD_VIRTUAL_ITEMS });\n    try {\n      const items = await api.inventoryApi.loadVirtualItems();\n      dispatch({ type: LOAD_VIRTUAL_ITEMS_SUCCESS, payload: items });\n    } catch (error) {\n      const errorMsg = error.response ? error.response.errorMessage : error.message;\n      notify(errorMsg, { variant: 'error' });\n      dispatch({ type: LOAD_VIRTUAL_ITEMS_FAIL });\n    }\n  }, [api.inventoryApi, notify]);\n\n  const loadVirtualCurrencies = React.useCallback(async () => {\n    dispatch({ type: LOAD_VIRTUAL_CURRENCIES });\n    try {\n      const items = await api.inventoryApi.loadVirtualCurrencies();\n      dispatch({ type: LOAD_VIRTUAL_CURRENCIES_SUCCESS, payload: items });\n    } catch (error) {\n      const errorMsg = error.response ? error.response.errorMessage : error.message;\n      notify(errorMsg, { variant: 'error' });\n      dispatch({ type: LOAD_VIRTUAL_CURRENCIES_FAIL });\n    }\n  }, [api.inventoryApi, notify]);\n\n  const rewardItems = React.useCallback(\n    async (user, item, count) => {\n      dispatch({ type: REWARD_ITEMS });\n      try {\n        const data = { type: 'reward', user, item, count };\n        const rewardData = await api.inventoryApi.rewardItems(data);\n        notify(\n          `User: '${rewardData.userId}' got '${rewardData.itemId}' in quantity ${rewardData.quantity}`,\n          { variant: 'info' }\n        );\n        dispatch({ type: REWARD_ITEMS_SUCCESS });\n      } catch (error) {\n        const errorMsg = error.response ? error.response.errorMessage : error.message;\n        notify(errorMsg, { variant: 'error' });\n        dispatch({ type: REWARD_ITEMS_FAIL });\n      }\n    },\n    [api.inventoryApi, notify]\n  );\n\n  const revokeItems = React.useCallback(\n    async (user, item, count) => {\n      dispatch({ type: REVOKE_ITEMS });\n      try {\n        const data = { type: 'revoke', user, item, count };\n        const revokeData = await api.inventoryApi.rewardItems(data);\n        notify(\n          `User: '${revokeData.userId}' has lost '${revokeData.itemId}' in quantity ${revokeData.quantity}`,\n          { variant: 'info' }\n        );\n        dispatch({ type: REVOKE_ITEMS_SUCCESS });\n      } catch (error) {\n        const errorMsg = error.response ? error.response.errorMessage : error.message;\n        notify(errorMsg, { variant: 'error' });\n        dispatch({ type: REVOKE_ITEMS_FAIL });\n      }\n    },\n    [api.inventoryApi, notify]\n  );\n\n  return React.useMemo(\n    () => [\n      state,\n      {\n        rewardItems,\n        revokeItems,\n        loadVirtualItems,\n        loadVirtualCurrencies,\n      },\n    ],\n    [state, loadVirtualItems, loadVirtualCurrencies, rewardItems, revokeItems]\n  );\n};\n","import React from 'react';\n\nconst initialState = {\n  userInfo: null,\n  token: null,\n  balances: [],\n  areBalancesLoading: false,\n  isAuthenticating: false,\n};\n\nconst LOAD_USER_BALANCE = 'LOAD_USER_BALANCE';\nconst LOAD_USER_BALANCE_SUCCESS = 'LOAD_USER_BALANCE_SUCCESS';\nconst LOAD_USER_BALANCE_FAIL = 'LOAD_USER_BALANCE_FAIL';\n\nconst LOGIN = 'LOGIN';\nconst LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nconst LOGIN_FAIL = 'LOGIN_FAIL';\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case LOGIN:\n      return {\n        ...state,\n        isAuthenticating: true,\n      };\n    case LOGIN_SUCCESS:\n      return {\n        ...state,\n        userInfo: action.payload,\n        isAuthenticating: false,\n      };\n    case LOGIN_FAIL:\n      return {\n        ...state,\n        isAuthenticating: false,\n      };\n\n    case LOAD_USER_BALANCE:\n      return {\n        ...state,\n        areBalancesLoading: true,\n      };\n    case LOAD_USER_BALANCE_SUCCESS:\n      return {\n        ...state,\n        balances: action.payload,\n        areBalancesLoading: false,\n      };\n    case LOAD_USER_BALANCE_FAIL:\n      return {\n        ...state,\n        areBalancesLoading: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const useUser = (api, notify) => {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  const getUser = React.useCallback(async () => {\n    dispatch({ type: LOGIN });\n    try {\n      const userInfo = await api.userApi.getUser();\n      dispatch({ type: LOGIN_SUCCESS, payload: userInfo });\n    } catch (error) {\n      const errorMsg = error.response ? error.response.errorMessage : error.message;\n      notify(errorMsg, { variant: 'error' });\n      dispatch({ type: LOGIN_FAIL });\n    }\n  }, [api.userApi, notify]);\n\n  const loadBalances = React.useCallback(async () => {\n    dispatch({ type: LOAD_USER_BALANCE });\n    try {\n      const balances = await api.userApi.loadBalances();\n      dispatch({ type: LOAD_USER_BALANCE_SUCCESS, payload: balances });\n    } catch (error) {\n      const errorMsg = error.response ? error.response.errorMessage : error.message;\n      notify(errorMsg, { variant: 'error' });\n      dispatch({ type: LOAD_USER_BALANCE_FAIL });\n    }\n  }, [api.userApi, notify]);\n\n  return React.useMemo(\n    () => [\n      state,\n      {\n        getUser,\n        loadBalances,\n      },\n    ],\n    [loadBalances, getUser, state]\n  );\n};\n","import React from 'react';\nimport { useSnackbar } from 'notistack';\n\nimport { usePhysicalGoods } from './features/physicalGoods/store';\nimport { useVirtualGoods } from './features/virtualGoods/store';\nimport { useVirtualCurrencies } from './features/virtualCurrencies/store';\nimport { useInventory } from './features/inventory/store';\nimport { useEntitlement } from './features/entitlement/store';\nimport { useCart } from './features/cart/store';\nimport { useVCCart } from './features/vcCart/store';\nimport { useManageInventory } from './features/manage/store';\nimport { useUser } from './features/user/store';\n\nconst StateContext = React.createContext();\nconst ActionsContext = React.createContext();\n\nconst useStore = (mapState, mapActions) => {\n  const globalState = React.useContext(StateContext);\n  const globalActions = React.useContext(ActionsContext);\n\n  const state = typeof mapState === 'function' ? mapState(globalState) : {};\n  const actions = typeof mapActions === 'function' ? mapActions(globalActions) : {};\n\n  return {\n    ...state,\n    ...actions,\n  };\n};\n\nconst StoreProvider = ({ isSpecificProject, isDemo, children, api }) => {\n  const { enqueueSnackbar } = useSnackbar();\n  const [cartState, cartActions] = useCart(api, enqueueSnackbar);\n  const [vcCartState, vcCartActions] = useVCCart(api, enqueueSnackbar);\n  const [physicalGoodsState, physicalGoodsActions] = usePhysicalGoods(api, enqueueSnackbar);\n  const [entitlementState, entitlementActions] = useEntitlement(api, enqueueSnackbar);\n  const [virtualGoodsState, virtualGoodsActions] = useVirtualGoods(api, enqueueSnackbar);\n  const [virtualCurrenciesState, virtualCurrenciesActions] = useVirtualCurrencies(api, enqueueSnackbar);\n  const [inventoryState, inventoryActions] = useInventory(api, enqueueSnackbar);\n  const [userState, userActions] = useUser(api, enqueueSnackbar);\n  const [manageInventoryState, manageInventoryActions] = useManageInventory(api, enqueueSnackbar);\n\n  return (\n    <StateContext.Provider\n      value={{\n        isSpecificProject,\n        isDemo,\n        cart: cartState,\n        user: userState,\n        vcCart: vcCartState,\n        physicalGoods: physicalGoodsState,\n        entitlement: entitlementState,\n        virtualGoods: virtualGoodsState,\n        virtualCurrencies: virtualCurrenciesState,\n        inventory: inventoryState,\n        manageInventory: manageInventoryState,\n      }}>\n      <ActionsContext.Provider\n        value={{\n          cart: cartActions,\n          user: userActions,\n          vcCart: vcCartActions,\n          physicalGoods: physicalGoodsActions,\n          entitlement: entitlementActions,\n          virtualGoods: virtualGoodsActions,\n          virtualCurrencies: virtualCurrenciesActions,\n          inventory: inventoryActions,\n          manageInventory: manageInventoryActions,\n        }}>\n        {children}\n      </ActionsContext.Provider>\n    </StateContext.Provider>\n  );\n};\n\nexport { StoreProvider, useStore };\n","export const generateUUID = () =>\n  ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c =>\n    (c ^ (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))).toString(16)\n  );\n","import React from 'react';\nimport styled from 'styled-components';\nimport Colorer from 'color';\nimport Dotdotdot from 'react-dotdotdot';\n\nimport Collapse from '@material-ui/core/Collapse';\nimport MUICardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst ProductCard = React.memo(\n  ({ image, order, name, value, description, actionButtonContent, onAction, isLoading }) => {\n    const [isShown, setShown] = React.useState(false);\n    const showCard = () => setShown(true);\n\n    const [isHovered, setHovered] = React.useState(false);\n    const handleMouseEnter = () => setHovered(true);\n    const handleMouseLeave = () => setHovered(false);\n\n    React.useEffect(() => {\n      setTimeout(showCard, order * 100);\n    }, []);\n\n    return (\n      <CardAppear shown={isShown} hovered={isHovered}>\n        <Card hovered={isHovered} onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\n          <CardImage image={image} />\n          <CardContent>\n            <CardTitle>{name}</CardTitle>\n            <Collapse in={isHovered} timeout='auto' collapsedHeight='50px'>\n              {isHovered ? (\n                description\n              ) : (\n                <Dotdotdot animate clamp={2}>\n                  {description}\n                </Dotdotdot>\n              )}\n            </Collapse>\n          </CardContent>\n          {(onAction || value) && (\n            <CardFooter>\n              {value && <CardQuantity>{value}</CardQuantity>}\n              {onAction && (\n                <Button\n                  variant='contained'\n                  color='secondary'\n                  disabled={isLoading}\n                  onClick={onAction}>\n                  {isLoading ? <CircularProgress size={24} color='primary' /> : actionButtonContent}\n                </Button>\n              )}\n            </CardFooter>\n          )}\n        </Card>\n      </CardAppear>\n    );\n  }\n);\n\nconst CardAppear = styled.div`\n  position: relative;\n  z-index: ${props => (props.hovered ? 1 : 0)};\n  width: ${({ theme }) => theme.shape.cardWidth};\n  height: ${({ theme }) => theme.shape.cardWidth};\n  transition: transform 350ms ease-out, opacity 150ms ease-out;\n  opacity: ${props => (props.shown ? 1 : 0)};\n  transform: ${props => (props.shown ? 'none' : 'translateY(20px)')};\n`;\n\nconst Card = styled.div`\n  position: absolute;\n  color: ${({ theme }) => theme.palette.text.primary};\n  display: flex;\n  flex-direction: column;\n  width: ${({ theme }) => theme.shape.cardWidth};\n  min-height: ${({ theme }) => theme.shape.cardWidth};\n  background-color: ${({ theme, hovered }) =>\n    hovered ? theme.palette.background.default : 'transparent'};\n  box-shadow: ${({ theme, hovered }) => (hovered ? theme.shadows[8] : 'none')};\n  transition: ${({ theme }) => theme.transitions.create(['box-shadow', 'background-color'])};\n  border-radius: ${({ theme }) => `${theme.shape.borderRadius}px`};\n`;\n\nconst CardContent = styled(MUICardContent)`\n  min-height: 66px;\n  overflow: hidden;\n  flex-grow: 0;\n  padding-bottom: 0;\n  margin-bottom: 8px;\n`;\n\nconst CardTitle = styled.div`\n  color: ${({ theme }) => theme.palette.primary.contrastText};\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  font-weight: bolder;\n`;\n\nconst CardFooter = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  border-top: 1px solid\n    ${({ theme }) =>\n      Colorer(theme.palette.text.primary)\n        .alpha(0.1)\n        .string()};\n  padding: 8px 0;\n  height: 53px;\n  margin: 0px 16px 0 16px;\n`;\n\nconst CardImage = styled.div`\n  display: block;\n  margin-top: 8px;\n  height: 120px;\n  flex-shrink: 1;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(${props => props.image});\n`;\n\nconst CardQuantity = styled.div`\n  flex-grow: 1;\n  color: ${({ theme }) => theme.palette.primary.main};\n  font-weight: 600;\n`;\n\nexport { ProductCard };\n","import React from 'react';\n\nimport { ProductCard } from '../../../components/ProductCard';\n\nexport const InventoryItem = React.memo(({ item, order, isLoading, onConsume }) => {\n  const handleItemConsume = React.useCallback(() => onConsume(item, order), []);\n\n  return (\n    <ProductCard\n      image={item.imageUrl}\n      name={item.name}\n      order={order}\n      isLoading={isLoading}\n      value={`Quantity: ${item.quantity}`}\n      description={item.description}\n      actionButtonContent='Consume'\n      onAction={item.remainingUses ? handleItemConsume : undefined}\n    />\n  );\n});\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { Preloader } from '../../../components/Preloader';\nimport { useStore } from '../../../store';\nimport { InventoryItem } from './InventoryItem';\n\nconst mapState = state => ({\n  cartId: state.cart.id,\n  inventoryItems: state.inventory.items,\n  isInventoryFetching: state.inventory.isFetching,\n  isItemConsuming: state.inventory.isConsuming,\n});\n\nconst mapActions = actions => ({\n  consumeItem: actions.inventory.consume,\n  loadInventory: actions.inventory.load,\n});\n\nconst InventoryList = React.memo(() => {\n  const {\n    cartId,\n    inventoryItems,\n    consumeItem,\n    loadInventory,\n    isInventoryFetching,\n    isItemConsuming,\n  } = useStore(mapState, mapActions);\n  const [activeItemID, setActiveItemID] = React.useState(null);\n\n  const handleConsumeItem = React.useCallback(\n    item => {\n      setActiveItemID(item.sku);\n      consumeItem(item);\n    },\n    [consumeItem]\n  );\n\n  React.useEffect(() => {\n    loadInventory();\n  }, []);\n\n  React.useEffect(() => {\n    loadInventory();\n  }, [cartId]);\n\n  const content = React.useMemo(\n    () =>\n      inventoryItems.length > 0 ? (\n        <Content>\n          {inventoryItems.map((item, index) => (\n            <InventoryItem\n              order={index}\n              key={item.sku}\n              item={item}\n              isLoading={isItemConsuming && activeItemID === item.sku}\n              onConsume={handleConsumeItem}\n            />\n          ))}\n        </Content>\n      ) : (\n        <EmptyText>Oops, you have nothing bought yet!</EmptyText>\n      ),\n    [inventoryItems, isItemConsuming, activeItemID, handleConsumeItem]\n  );\n\n  return <Body>{isInventoryFetching ? <Preloader /> : content}</Body>;\n});\n\nconst Body = styled.div`\n  padding: 30px 0;\n`;\n\nconst Content = styled.div`\n  display: grid;\n  grid-gap: 30px;\n  grid-template-columns: ${({ theme }) => `repeat(auto-fit, minmax(\n    ${theme.shape.cardWidth}, \n    ${theme.shape.cardWidth}\n  ))`};\n  justify-content: center;\n`;\n\nconst EmptyText = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n`;\n\nexport { InventoryList };\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport Avatar from '@material-ui/core/Avatar';\n\nconst Currency = ({ image, value, currency }) => (\n  <Body>\n    {image && <CurrencyIcon src={image} />}\n    {currency && <CurrencyAcronym>{currency}</CurrencyAcronym>}\n    {value}\n  </Body>\n);\n\nconst Body = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst CurrencyAcronym = styled.span`\n  margin-right: 5px;\n`;\n\nconst CurrencyIcon = styled(Avatar)`\n  && {\n    height: 1em;\n    width: 1em;\n    margin-right: 5px;\n  }\n`;\n\nexport { Currency };\n","import React from 'react';\nimport ShoppingCart from '@material-ui/icons/ShoppingCart';\n\nimport { ProductCard } from '../../../components/ProductCard';\nimport { Currency } from '../../../components/Currency';\n\nexport const PhysicalItem = React.memo(({ item, order, isLoading, addToCart }) => {\n  const handleItemAdd = React.useCallback(() => addToCart(item), [item, addToCart]);\n  const price = React.useMemo(\n    () =>\n      item.price ? (\n        <Currency\n          currency={item.price.currency}\n          value={Math.round(item.price.amount * 100) / 100}\n        />\n      ) : null,\n    [item]\n  );\n\n  return (\n    <ProductCard\n      image={item.imageUrl}\n      name={item.name}\n      order={order}\n      value={price}\n      isLoading={isLoading}\n      description={item.description}\n      actionButtonContent={<ShoppingCart />}\n      onAction={handleItemAdd}\n    />\n  );\n});\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { useStore } from '../../../store';\nimport { Preloader } from '../../../components/Preloader';\nimport { PhysicalItem } from './PhysicalItem';\n\nconst mapState = state => ({\n  physicalGoods: state.physicalGoods.items,\n  isItemAdding: state.cart.isItemAdding,\n  arePhysicalGoodsFetching: state.physicalGoods.isFetching,\n});\n\nconst mapActions = actions => ({\n  addToCart: actions.cart.addItem,\n  loadPhysicalGoods: actions.physicalGoods.load,\n});\n\nconst PhysicalList = React.memo(() => {\n  const {\n    physicalGoods,\n    isItemAdding,\n    arePhysicalGoodsFetching,\n    loadPhysicalGoods,\n    addToCart,\n  } = useStore(mapState, mapActions);\n  const [activeItemID, setActiveItemID] = React.useState(null);\n\n  const handleItemAdding = React.useCallback(\n    item => {\n      addToCart(item);\n      setActiveItemID(item.sku);\n    },\n    [addToCart]\n  );\n\n  React.useEffect(() => {\n    if (physicalGoods.length === 0) {\n      loadPhysicalGoods();\n    }\n  }, []);\n\n  const content = React.useMemo(\n    () =>\n      physicalGoods.length > 0 && (\n        <Content>\n          {physicalGoods.map((item, index) => (\n            <PhysicalItem\n              order={index}\n              key={item.sku}\n              item={item}\n              isLoading={isItemAdding && activeItemID === item.sku}\n              addToCart={handleItemAdding}\n            />\n          ))}\n        </Content>\n      ),\n    [physicalGoods, isItemAdding, activeItemID, handleItemAdding]\n  );\n\n  return <Body>{arePhysicalGoodsFetching ? <Preloader /> : content}</Body>;\n});\n\nconst Body = styled.div`\n  height: 100%;\n`;\n\nconst Content = styled.div`\n  display: grid;\n  padding: 30px 0;\n  grid-gap: 30px;\n  grid-template-columns: ${({ theme }) => `repeat(auto-fit, minmax(\n    ${theme.shape.cardWidth}, \n    ${theme.shape.cardWidth}\n  ))`};\n  justify-content: center;\n`;\n\nexport { PhysicalList };\n","import React from 'react';\nimport styled from 'styled-components';\nimport MUITabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nconst GroupSwitcher = React.memo(({ groups, activeGroup, onGroupChange }) => {\n  const handleGroupChange = React.useCallback((_, groupID) => onGroupChange(groupID), [\n    onGroupChange,\n  ]);\n\n  return (\n    <Tabs\n      value={activeGroup || false}\n      onChange={handleGroupChange}\n      variant='scrollable'\n      textColor='primary'\n      indicatorColor='primary'>\n      {groups.map(group => (\n        <Tab value={group.id} key={group.id} label={group.label} />\n      ))}\n    </Tabs>\n  );\n});\n\nconst Tabs = styled(MUITabs)`\n  padding: 30px 0;\n\n  & .MuiTabs-flexContainer {\n    justify-content: center;\n  }\n`;\n\nexport { GroupSwitcher };\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport MUITextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Button from '@material-ui/core/Button';\n\nimport { useStore } from '../../../store';\nimport { GroupSwitcher } from '../../../components/GroupSwitcher';\nimport { Preloader } from '../../../components/Preloader.js';\n\nconst mapState = state => ({\n  users: state.manageInventory.users,\n  groups: state.manageInventory.groups,\n  virtualItems: state.manageInventory.virtualItems,\n  virtualCurrencies: state.manageInventory.virtualCurrencies,\n  isRewarding: state.manageInventory.isRewarding,\n  isRevoking: state.manageInventory.isRevoking,\n  isLoading:\n    state.manageInventory.areVirtualCurrenciesLoading ||\n    state.manageInventory.areVirtualItemsLoading,\n});\n\nconst mapActions = actions => ({\n  rewardItems: actions.manageInventory.rewardItems,\n  revokeItems: actions.manageInventory.revokeItems,\n  loadVirtualItems: actions.manageInventory.loadVirtualItems,\n  loadVirtualCurrencies: actions.manageInventory.loadVirtualCurrencies,\n});\n\nconst ManageInventory = React.memo(() => {\n  const {\n    users,\n    groups,\n    virtualItems,\n    virtualCurrencies,\n    isRewarding,\n    isRevoking,\n    isLoading,\n    rewardItems,\n    revokeItems,\n    loadVirtualItems,\n    loadVirtualCurrencies,\n  } = useStore(mapState, mapActions);\n\n  const [userID, setUserID] = React.useState('');\n  const [activeGroup, setActiveGroup] = React.useState('');\n  const [selectedItem, setSelectedItem] = React.useState('');\n  const [quantity, setQuantity] = React.useState(1);\n\n  const userOptions = React.useMemo(\n    () => users.map(x => <MenuItem value={x.id}>{x.name}</MenuItem>),\n    [users]\n  );\n\n  const virtualItemsOptions = React.useMemo(\n    () => virtualItems.map(x => <MenuItem value={x.sku}>{x.name}</MenuItem>),\n    [virtualItems]\n  );\n\n  const currenciesOptions = React.useMemo(\n    () => virtualCurrencies.map(x => <MenuItem value={x.sku}>{x.name}</MenuItem>),\n    [virtualCurrencies]\n  );\n\n  const groupsContent = React.useMemo(\n    () => ({\n      items: {\n        name: 'Item',\n        items: virtualItems,\n        options: virtualItemsOptions,\n      },\n      currencies: {\n        name: 'Currency',\n        items: virtualCurrencies,\n        options: currenciesOptions,\n      },\n    }),\n    [currenciesOptions, virtualItemsOptions, virtualCurrencies, virtualItems]\n  );\n\n  const handleRewardItem = React.useCallback(() => {\n    rewardItems(userID, selectedItem, quantity);\n  }, [quantity, rewardItems, selectedItem, userID]);\n\n  const handleRevokeItem = React.useCallback(() => {\n    revokeItems(userID, selectedItem, quantity);\n  }, [quantity, revokeItems, selectedItem, userID]);\n\n  const handleFormSubmit = React.useCallback(event => event.preventDefault(), []);\n  const handleUserSelect = React.useCallback(event => setUserID(event.target.value), []);\n  const handleItemSelect = React.useCallback(event => setSelectedItem(event.target.value), []);\n  const handleQuantityChange = React.useCallback(\n    event => setQuantity(event.target.value >= 1 ? event.target.value : 1),\n    []\n  );\n\n  React.useEffect(() => {\n    setUserID(users[0] ? users[0].id : null);\n  }, []);\n\n  React.useEffect(() => {\n    setActiveGroup(groups[0] ? groups[0].id : null);\n  }, []);\n\n  React.useEffect(() => {\n    if (activeGroup && groupsContent[activeGroup] && groupsContent[activeGroup].items[0]) {\n      setSelectedItem(groupsContent[activeGroup].items[0].sku);\n      setQuantity(1);\n    }\n  }, [activeGroup, groupsContent]);\n\n  React.useEffect(() => {\n    loadVirtualItems();\n  }, []);\n\n  React.useEffect(() => {\n    loadVirtualCurrencies();\n  }, []);\n\n  return React.useMemo(\n    () => (\n      <Body>\n        {isLoading ? (\n          <Preloader />\n        ) : (\n          <Form onSubmit={handleFormSubmit}>\n            <TextField\n              select\n              label='User'\n              value={userID}\n              color='primary'\n              onChange={handleUserSelect}>\n              {userOptions}\n            </TextField>\n            <GroupSwitcher\n              groups={groups}\n              activeGroup={activeGroup}\n              onGroupChange={setActiveGroup}\n            />\n            <Items>\n              {groupsContent[activeGroup] && (\n                <TextField\n                  select\n                  label={groupsContent[activeGroup].name}\n                  value={selectedItem}\n                  color='primary'\n                  onChange={handleItemSelect}>\n                  {groupsContent[activeGroup].options}\n                </TextField>\n              )}\n              <TextField\n                type='number'\n                label='Quantity'\n                value={quantity}\n                color='primary'\n                onChange={handleQuantityChange}\n              />\n            </Items>\n            <FormFooter>\n              <FormActions>\n                <RewardButton variant='contained' disabled={isRewarding} onClick={handleRewardItem}>\n                  {isRewarding ? <CircularProgress size={24} color='primary' /> : 'Reward'}\n                </RewardButton>\n                <Button variant='contained' disabled={isRevoking} onClick={handleRevokeItem}>\n                  {isRevoking ? <CircularProgress size={24} color='primary' /> : 'Revoke'}\n                </Button>\n              </FormActions>\n            </FormFooter>\n          </Form>\n        )}\n      </Body>\n    ),\n    [\n      activeGroup,\n      groups,\n      groupsContent,\n      handleFormSubmit,\n      handleItemSelect,\n      handleQuantityChange,\n      handleRevokeItem,\n      handleRewardItem,\n      handleUserSelect,\n      isLoading,\n      isRevoking,\n      isRewarding,\n      quantity,\n      selectedItem,\n      userID,\n      userOptions,\n    ]\n  );\n});\n\nconst Body = styled.div`\n  display: flex;\n  justify-content: center;\n  padding-top: 50px;\n`;\n\nconst Form = styled.form`\n  max-width: 400px;\n  width: 100%;\n  padding: 20px;\n`;\n\nconst TextField = styled(MUITextField)`\n  width: 100%;\n`;\n\nconst Items = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-column-gap: 20px;\n`;\n\nconst FormFooter = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  padding: 20px 0;\n`;\n\nconst FormActions = styled.div`\n  position: relative;\n`;\n\nconst RewardButton = styled(Button)`\n  && {\n    margin-right: 10px;\n  }\n`;\n\nexport { ManageInventory };\n","import React from 'react';\nimport styled from 'styled-components';\nimport ShoppingCart from '@material-ui/icons/ShoppingCart';\n\nimport { ProductCard } from '../../../components/ProductCard';\nimport { Currency } from '../../../components/Currency';\n\nexport const VirtualItem = React.memo(\n  ({ product, order, isLoading, addToCart, buyByVC, isPurchased }) => {\n    const handleBuyByVC = React.useCallback(() => buyByVC(product), [product, buyByVC]);\n    const handleItemAdd = React.useCallback(() => addToCart(product), [product, addToCart]);\n\n    const buttonAction = React.useMemo(\n      () => (product.virtualPrice ? handleBuyByVC : handleItemAdd),\n      [product, handleBuyByVC, handleItemAdd]\n    );\n    const buttonContent = React.useMemo(\n      () => (product.virtualPrice ? 'Buy now' : <ShoppingCart />),\n      [product]\n    );\n    const price = React.useMemo(() => {\n      if (isPurchased) {\n        return <Purchased>Purchased</Purchased>;\n      }\n\n      if (product.virtualPrice) {\n        return (\n          <Currency image={product.virtualPrice.imageUrl} value={product.virtualPrice.amount} />\n        );\n      }\n\n      return (\n        <Currency\n          currency={product.price.currency}\n          value={Math.round(product.price.amount * 100) / 100}\n        />\n      );\n    }, [product, isPurchased]);\n\n    return (\n      <ProductCard\n        image={product.imageUrl}\n        name={product.name}\n        order={order}\n        value={price}\n        isLoading={isLoading}\n        description={product.description}\n        actionButtonContent={buttonContent}\n        onAction={!isPurchased ? buttonAction : undefined}\n      />\n    );\n  }\n);\n\nconst Purchased = styled.div`\n  color: ${({ theme }) => theme.palette.text.primary};\n  opacity: 0.8;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { useStore } from '../../../store';\nimport { Preloader } from '../../../components/Preloader.js';\nimport { GroupSwitcher } from '../../../components/GroupSwitcher';\nimport { VirtualItem } from './VirtualItem';\n\nconst mapState = state => ({\n  groups: state.virtualGoods.groups,\n  inventoryItems: state.inventory.items,\n  cartId: state.cart.id,\n  isLoading: state.virtualGoods.isFetching || state.inventory.isFetching,\n  isItemAdding: state.cart.isItemAdding,\n});\n\nconst mapActions = actions => ({\n  loadVirtualGoods: actions.virtualGoods.load,\n  loadInventory: actions.inventory.load,\n  addItemToCart: actions.cart.addItem,\n  addItemToVCCart: actions.vcCart.addItem,\n});\n\nconst VirtualList = React.memo(() => {\n  const {\n    groups,\n    cartId,\n    isLoading,\n    loadVirtualGoods,\n    inventoryItems,\n    loadInventory,\n    addItemToCart,\n    isItemAdding,\n    addItemToVCCart,\n  } = useStore(mapState, mapActions);\n\n  const [activeGroup, setActiveGroup] = React.useState(null);\n  const [activeItemID, setActiveItemID] = React.useState(null);\n\n  const isItemInInventory = React.useMemo(sku => inventoryItems.some(x => sku === x.sku), [\n    inventoryItems,\n  ]);\n\n  const itemGroups = React.useMemo(() => groups.map(x => ({ id: x.groupId, label: x.groupName })), [\n    groups,\n  ]);\n\n  const handleItemAdding = React.useCallback(\n    item => {\n      addItemToCart(item);\n      setActiveItemID(item.sku);\n    },\n    [addItemToCart]\n  );\n\n  React.useEffect(() => {\n    setActiveGroup(groups[0] ? groups[0].groupId : null);\n    setActiveItemID(null);\n  }, [groups]);\n\n  React.useEffect(() => {\n    if (groups.length === 0) {\n      loadVirtualGoods();\n    }\n  }, [groups.length, loadVirtualGoods]);\n\n  React.useEffect(() => {\n    if (cartId) {\n      loadInventory();\n    }\n  }, [cartId, loadInventory]);\n\n  const content = React.useMemo(\n    () =>\n      groups.length > 0 && (\n        <>\n          <GroupSwitcher\n            groups={itemGroups}\n            activeGroup={activeGroup}\n            onGroupChange={setActiveGroup}\n          />\n          {groups.map(\n            g =>\n              activeGroup === g.groupId && (\n                <React.Fragment key={g.groupId}>\n                  <Title>{g.groupName}</Title>\n                  <Group>\n                    {g.items.map((item, index) => (\n                      <VirtualItem\n                        order={index}\n                        key={item.sku}\n                        product={item}\n                        isPurchased={item.isConsumable === null && isItemInInventory(item.sku)}\n                        addToCart={handleItemAdding}\n                        isLoading={isItemAdding && activeItemID === item.sku}\n                        buyByVC={addItemToVCCart}\n                      />\n                    ))}\n                  </Group>\n                </React.Fragment>\n              )\n          )}\n        </>\n      ),\n    [\n      activeGroup,\n      activeItemID,\n      isItemAdding,\n      groups,\n      handleItemAdding,\n      isItemInInventory,\n      itemGroups,\n      addItemToVCCart,\n    ]\n  );\n\n  return <Body>{isLoading ? <Preloader /> : content}</Body>;\n});\n\nconst Body = styled.div`\n  background-color: transparent;\n`;\n\nconst Group = styled.div`\n  display: grid;\n  padding: 30px 0;\n  grid-gap: 30px;\n  grid-template-columns: ${({ theme }) => `repeat(auto-fit, minmax(\n    ${theme.shape.cardWidth}, \n    ${theme.shape.cardWidth}\n  ))`};\n  justify-content: center;\n`;\n\nconst Title = styled.div`\n  color: ${({ theme }) => theme.palette.primary.contrastText};\n  min-height: 2em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  width: 100%;\n  font-size: 1.2em;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n`;\n\nexport { VirtualList };\n","import React from 'react';\nimport styled from 'styled-components';\nimport MUITextField from '@material-ui/core/TextField';\nimport MUIButton from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport { useStore } from '../../../store';\nimport { ProductCard } from '../../../components/ProductCard';\n\nconst mapState = state => ({\n  entitlementItems: state.entitlement.items,\n  isEntitlementFetching: state.entitlement.isFetching,\n  isItemRedeeming: state.entitlement.isRedeeming,\n});\n\nconst mapActions = actions => ({\n  redeem: actions.entitlement.redeem,\n  loadEntitlement: actions.entitlement.load,\n});\n\nconst EntitlementList = () => {\n  const {\n    entitlementItems,\n    isEntitlementFetching,\n    isItemRedeeming,\n    redeem,\n    loadEntitlement,\n  } = useStore(mapState, mapActions);\n\n  const [sku, setSku] = React.useState('');\n  const [code, setCode] = React.useState('');\n\n  const handleCodeChange = React.useCallback(event => setCode(event.target.value), []);\n  const handleSkuChange = React.useCallback(event => setSku(event.target.value), []);\n\n  const handleSubmit = React.useCallback(\n    event => {\n      event.preventDefault();\n      redeem(code, sku);\n    },\n    [redeem, code, sku]\n  );\n\n  React.useEffect(() => {\n    loadEntitlement();\n  }, []);\n\n  const entitlementList = React.useMemo(\n    () =>\n      entitlementItems.length > 0 ? (\n        entitlementItems.map((item, key) => (\n          <ProductCard\n            key={item.sku}\n            order={key}\n            name={item.name}\n            description={item.description}\n            image={item.imageUrl}\n          />\n        ))\n      ) : (\n        <div>Oops, you have no games yet!</div>\n      ),\n    [entitlementItems]\n  );\n\n  return (\n    <Body>\n      <Form onSubmit={handleSubmit}>\n        <TextField\n          color='primary'\n          placeholder='Enter your code'\n          onChange={handleCodeChange}\n          value={code}\n        />\n        <TextField\n          color='primary'\n          placeholder='Enter sku of your game'\n          onChange={handleSkuChange}\n          value={sku}\n        />\n        <FormFooter>\n          <Button color='secondary' type='submit' variant='contained'>\n            {isItemRedeeming ? <CircularProgress size={24} color='primary' /> : 'Redeem Code'}\n          </Button>\n        </FormFooter>\n      </Form>\n      <div>\n        {isEntitlementFetching ? <CircularProgress size={24} color='primary' /> : entitlementList}\n      </div>\n    </Body>\n  );\n};\n\nconst Body = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-top: 50px;\n`;\n\nconst Form = styled.form`\n  max-width: 400px;\n  width: 100%;\n  padding: 20px;\n`;\n\nconst TextField = styled(MUITextField)`\n  && {\n    width: 100%;\n    margin-bottom: 20px;\n  }\n`;\n\nconst Button = styled(MUIButton)`\n  && {\n    min-width: 140px;\n  }\n`;\n\nconst FormFooter = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  padding: 20px 0;\n`;\n\nexport { EntitlementList };\n","import currencyFormat from 'currency-format';\nimport currencyNumberFormat from 'currency-number-format';\n\n// CURRENCY CODE\nfunction defaultCurrency(currency) {\n  return {\n    name: currency,\n    fractionSize: 2,\n    symbol: {\n      grapheme: currency,\n      template: null,\n      rtl: false,\n    },\n    uniqSymbol: null,\n  };\n}\nfunction getCurrencyOptions(currency) {\n  return currency\n    ? currencyFormat[currency.toUpperCase()] || defaultCurrency(currency)\n    : defaultCurrency(currency);\n}\n\n// LOCALE\nvar defaultLocale = 'en_US';\nvar localesMap = {\n  ar: 'ar_AE',\n  bg: 'bg_BG',\n  cn: 'zh_CN',\n  cs: 'cs_CZ',\n  de: 'de_DE',\n  en: 'en_US',\n  es: 'es_ES',\n  fr: 'fr_FR',\n  he: 'he_IL',\n  it: 'it_IT',\n  ja: 'ja_JP',\n  ko: 'ko_KR',\n  pl: 'pl_PL',\n  pt: 'pt_BR',\n  ro: 'ro_RO',\n  ru: 'ru_RU',\n  th: 'th_TH',\n  tr: 'tr_TR',\n  tw: 'zh_TW',\n  vi: 'vi_VN',\n};\nfunction formatLocale(locale) {\n  return [locale.substr(0, 2).toLowerCase(), locale.substr(3, 2).toUpperCase()].join('_');\n}\nfunction getLanguageOptions(locale) {\n  return locale\n    ? currencyNumberFormat[formatLocale(locale)] || currencyNumberFormat[defaultLocale]\n    : currencyNumberFormat[defaultLocale];\n}\nfunction map2to5Locale(locale) {\n  return locale && locale.length === 5 ? locale : localesMap[locale] || defaultLocale;\n}\n\n// CURRENCY\nexport function getFormattedCurrency(amount, currency, locale) {\n  var parsedAmount = parseFloat(amount);\n  if (!currency || isNaN(parsedAmount)) {\n    return {\n      formattedCurrency: amount + ' ' + currency,\n      dir: 'ltr',\n    };\n  }\n\n  var currencyOptions = getCurrencyOptions(currency);\n  var languageOptions = getLanguageOptions(locale);\n\n  var signAmount = parsedAmount < 0 ? '-' : '';\n  var fractionSize = currencyOptions.fractionSize;\n\n  var symbol = currencyOptions.symbol;\n  var thousandSeparator = languageOptions.thousands;\n  var decimalSeparator = languageOptions.decimal;\n  // Spike for escaping case when grapheme is arabic symbol, and russian style separators was chosen\n  if ((!symbol || symbol.rtl) && languageOptions.thousands === ' ') {\n    thousandSeparator = ',';\n    decimalSeparator = '.';\n  }\n\n  var splittedAmount = Math.abs(parsedAmount)\n    .toFixed(fractionSize)\n    .split('.');\n  splittedAmount[0] = splittedAmount[0].replace(\n    /(\\d)(?=(\\d{3})+(?!\\d))/g,\n    '$1' + thousandSeparator\n  );\n  var formattedAmount = splittedAmount.join(decimalSeparator);\n\n  var formattedCurrency = signAmount + formattedAmount + ' ' + currency;\n  var rtl = false;\n  if (symbol && symbol.template) {\n    formattedCurrency =\n      signAmount + symbol.template.replace('1', formattedAmount).replace('$', symbol.grapheme);\n    rtl = symbol.rtl;\n  }\n\n  return {\n    formattedCurrency: formattedCurrency,\n    dir: rtl ? 'rtl' : 'ltr',\n  };\n}\n","const size = {\n  mobileS: '320px',\n  mobileM: '375px',\n  mobileL: '425px',\n  tablet: '768px',\n  laptop: '1024px',\n  laptopL: '1440px',\n  desktop: '1920px',\n  retina: '2560px',\n};\n\nexport const device = {\n  mobileS: `(max-width: ${size.mobileS})`,\n  mobileM: `(max-width: ${size.mobileM})`,\n  mobileL: `(max-width: ${size.mobileL})`,\n  tablet: `(max-width: ${size.tablet})`,\n  laptop: `(max-width: ${size.laptop})`,\n  laptopL: `(max-width: ${size.laptopL})`,\n  desktop: `(max-width: ${size.desktop})`,\n  retina: `(max-width: ${size.retina})`,\n};\n","const routes = {\n  items: '/',\n  currencies: '/crystals',\n  physical: '/physical',\n  inventory: '/inventory',\n  entitlement: '/entitlement',\n  manage: '/manage',\n  purchase: '/purchase',\n  specificProject: '/projects/:projectId',\n};\n\nconst navItems = [\n  {\n    route: routes.items,\n    label: 'Items',\n  },\n  {\n    route: routes.currencies,\n    label: 'Currencies',\n  },\n  {\n    route: routes.physical,\n    label: 'Merchandise',\n  },\n  {\n    route: routes.inventory,\n    label: 'Inventory',\n  },\n  {\n    route: routes.entitlement,\n    label: 'Entitlement',\n  },\n  {\n    route: routes.manage,\n    label: 'Manage',\n  },\n  {\n    route: routes.purchase,\n    label: 'Server purchase',\n  },\n];\n\nexport const getRoutes = items =>\n  navItems\n    .filter(x => items.includes(x.route))\n    .sort((a, b) => items.indexOf(a.route) - items.indexOf(b.route));\n\nexport { routes, navItems };\n","import React from 'react';\nimport styled from 'styled-components';\nimport IconButton from '@material-ui/core/IconButton';\nimport MUIDeleteIcon from '@material-ui/icons/Delete';\nimport MUIIncrementIcon from '@material-ui/icons/AddBox';\nimport MUIDecrementIcon from '@material-ui/icons/IndeterminateCheckBox';\n\nimport { device } from '../../../styles/devices';\n\nconst CartItem = React.memo(({ item, changeItemQuantity, removeItem }) => {\n  const price = React.useMemo(() => Math.round(item.price.amount * item.quantity * 100) / 100, [\n    item.price.amount,\n    item.quantity,\n  ]);\n\n  const priceForOne = React.useMemo(() => Math.round((item.price.amount * 100) / 100), [\n    item.price.amount,\n  ]);\n\n  const handleQuantityDec = React.useCallback(() => changeItemQuantity(item, item.quantity - 1), [\n    item,\n    changeItemQuantity,\n  ]);\n\n  const handleQuantityInc = React.useCallback(() => changeItemQuantity(item, item.quantity + 1), [\n    item,\n    changeItemQuantity,\n  ]);\n\n  const handelItemRemove = React.useCallback(() => removeItem(item), [item, removeItem]);\n\n  return (\n    <Body>\n      <Image image={item.imageUrl} />\n      <Content>\n        <Name>{item.name}</Name>\n        <ItemPrice>\n          <CartItemTotal>\n            {item.price.currency} {price}\n          </CartItemTotal>\n          {item.quantity > 1 && (\n            <CartItemPriceForOne>\n              {item.price.currency} {priceForOne} for one item\n            </CartItemPriceForOne>\n          )}\n        </ItemPrice>\n      </Content>\n      <PriceInfo>\n        <QuantityActions>\n          {item.quantity > 1 ? (\n            <IconButton color='inherit' onClick={handleQuantityDec}>\n              <DecrementIcon />\n            </IconButton>\n          ) : (\n            <IconButton color='inherit' onClick={handelItemRemove}>\n              <DeleteIcon />\n            </IconButton>\n          )}\n          <ItemQuantity>{item.quantity}</ItemQuantity>\n          <IconButton color='inherit' onClick={handleQuantityInc}>\n            <IncrementIcon />\n          </IconButton>\n        </QuantityActions>\n      </PriceInfo>\n    </Body>\n  );\n});\n\nconst Body = styled.div`\n  display: grid;\n  grid-template-columns: 0.7fr 1.3fr 1fr;\n  color: ${({ theme }) => theme.palette.text.primary};\n  overflow: hidden;\n  height: 130px;\n\n  @media ${device.mobileL} {\n    height: 185px;\n    grid-template-columns: 0.9fr 1.1fr;\n    grid-template-rows: 120px 1fr;\n  }\n`;\n\nconst Image = styled.div`\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(${props => props.image});\n`;\n\nconst Content = styled.div`\n  padding: 10px;\n`;\n\nconst Name = styled.div`\n  font-weight: bolder;\n  margin-bottom: 5px;\n`;\n\nconst QuantityActions = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n`;\n\nconst ItemQuantity = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: bolder;\n  min-width: 44px;\n  font-size: 1.2em;\n`;\n\nconst PriceInfo = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n\n  @media ${device.mobileL} {\n    grid-column: 2 / 2;\n  }\n`;\n\nconst ItemPrice = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  @media ${device.mobileL} {\n    flex-grow: 1;\n  }\n`;\n\nconst CartItemTotal = styled.div`\n  color: ${({ theme }) => theme.palette.primary.main};\n  font-weight: 600;\n`;\n\nconst CartItemPriceForOne = styled.div`\n  font-size: 0.8em;\n  opacity: 0.3;\n`;\n\nconst DeleteIcon = styled(MUIDeleteIcon)`\n  @media ${device.mobileL} {\n    && {\n      width: 1.5em;\n      height: 1.5em;\n    }\n  }\n`;\nconst DecrementIcon = styled(MUIDecrementIcon)`\n  @media ${device.mobileL} {\n    && {\n      width: 1.5em;\n      height: 1.5em;\n    }\n  }\n`;\nconst IncrementIcon = styled(MUIIncrementIcon)`\n  @media ${device.mobileL} {\n    && {\n      width: 1.5em;\n      height: 1.5em;\n    }\n  }\n`;\n\nexport { CartItem };\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport Colorer from 'color';\nimport IconClose from '@material-ui/icons/Close';\nimport Button from '@material-ui/core/Button';\nimport MUIModal from '@material-ui/core/Modal';\nimport IconButton from '@material-ui/core/IconButton';\nimport Grow from '@material-ui/core/Grow';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nimport { useStore } from '../../../store';\nimport { getFormattedCurrency } from '../../../utils/formatCurrency';\nimport { device } from '../../../styles/devices';\nimport { routes } from '../../../utils/routes';\nimport { CartItem } from './CartItem';\n\nconst mapState = state => ({\n  cartItems: state.cart.items,\n  price: state.cart.price,\n  isCartShown: state.cart.isShown,\n  isCartLoading: state.cart.isLoading,\n  isItemRemoving: state.cart.isItemRemoving,\n  isCartClearing: state.cart.isClearing,\n});\n\nconst mapActions = actions => ({\n  hideCart: actions.cart.hide,\n  getCart: actions.cart.getCart,\n  removeItem: actions.cart.removeItem,\n  changeItemQuantity: actions.cart.changeItemQuantity,\n  purchase: actions.cart.purchase,\n  payForGoods: actions.cart.payForGoods,\n});\n\nconst Cart = React.memo(() => {\n  const {\n    cartItems,\n    price,\n    isCartShown,\n    isCartLoading,\n    isItemRemoving,\n    changeItemQuantity,\n    getCart,\n    hideCart,\n    removeItem,\n    payForGoods,\n  } = useStore(mapState, mapActions);\n  const history = useHistory();\n  const isLoading = isCartLoading || isItemRemoving;\n\n  const cartSubtotal = React.useMemo(() => {\n    const subtotal = cartItems\n      .filter(item => Boolean(item.price))\n      .reduce((acc, item) => acc + item.price.amount * item.quantity, 0);\n    return Math.round(subtotal * 100) / 100;\n  }, [cartItems]);\n\n  const buyAnotherPlatform = React.useCallback(() => {\n    hideCart();\n    history.push(routes.purchase);\n  }, [hideCart, history]);\n\n  React.useEffect(() => {\n    getCart();\n  }, []);\n\n  return React.useMemo(\n    () => (\n      <Modal\n        open={isCartShown}\n        onClose={hideCart}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{ timeout: 250 }}>\n        <Grow in={isCartShown} timeout={250}>\n          <CartContent>\n            <CartHeader>\n              <h4>Cart</h4>\n              <IconButton color='inherit' onClick={hideCart}>\n                <IconClose />\n              </IconButton>\n            </CartHeader>\n            <CartList>\n              {cartItems.length > 0 ? (\n                cartItems.map(item => (\n                  <CartItem\n                    key={item.sku}\n                    item={item}\n                    removeItem={removeItem}\n                    changeItemQuantity={changeItemQuantity}\n                  />\n                ))\n              ) : (\n                <p>Empty cart</p>\n              )}\n            </CartList>\n            <Loader>{isLoading && <Progress />}</Loader>\n            <CartFooter>\n              {cartItems.length > 0 && (\n                <Subtotal>\n                  Subtotal:\n                  <Price>\n                    {\n                      getFormattedCurrency(\n                        cartSubtotal,\n                        price.currency || cartItems[0].price.currency\n                      ).formattedCurrency\n                    }\n                  </Price>\n                </Subtotal>\n              )}\n              <CartActions>\n                <Button\n                  variant='contained'\n                  color='secondary'\n                  disabled={cartItems.length === 0}\n                  onClick={buyAnotherPlatform}>\n                  Buy on PS4\n                </Button>\n                <Button\n                  variant='contained'\n                  color='secondary'\n                  disabled={cartItems.length === 0}\n                  onClick={payForGoods}>\n                  Buy on Xsolla\n                </Button>\n              </CartActions>\n            </CartFooter>\n          </CartContent>\n        </Grow>\n      </Modal>\n    ),\n    [\n      buyAnotherPlatform,\n      cartItems,\n      cartSubtotal,\n      changeItemQuantity,\n      hideCart,\n      isCartShown,\n      isLoading,\n      payForGoods,\n      price.currency,\n      removeItem,\n    ]\n  );\n});\n\nconst Modal = styled(MUIModal)`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst CartContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  border-radius: ${({ theme }) => `${theme.shape.borderRadius}px`};\n  background-color: ${({ theme }) => theme.palette.background.default};\n  color: ${({ theme }) => theme.palette.text.primary};\n  padding: 0 32px;\n  width: 680px;\n  max-height: 80vh;\n  outline: none;\n\n  @media ${device.tablet} {\n    padding: 0 16px;\n    max-height: none;\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n  }\n`;\n\nconst CartHeader = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: ${({ theme }) => theme.palette.text.primary};\n  border-bottom: 1px solid\n    ${({ theme }) =>\n      Colorer(theme.palette.text.primary)\n        .alpha(0.1)\n        .string()};\n  z-index: 10;\n  padding: 24px 0 8px 0;\n`;\n\nconst Loader = styled.div`\n  position: relative;\n`;\n\nconst Progress = styled(LinearProgress)`\n  && {\n    position: absolute;\n    width: 100%;\n  }\n`;\n\nconst CartList = styled.div`\n  display: grid;\n  grid-row-gap: 30px;\n  flex-grow: 1;\n  padding: 16px 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n`;\n\nconst CartFooter = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  flex-wrap: wrap;\n  border-top: 1px solid\n    ${({ theme }) =>\n      Colorer(theme.palette.text.primary)\n        .alpha(0.1)\n        .string()};\n  padding: 24px 0 24px 0;\n`;\n\nconst CartActions = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-column-gap: 7px;\n`;\n\nconst Subtotal = styled.div`\n  display: flex;\n  flex-grow: 1;\n  font-weight: bold;\n  margin-right: 10px;\n\n  @media ${device.tablet} {\n    justify-content: flex-end;\n    width: 100%;\n    margin-bottom: 15px;\n    margin-right: 0;\n  }\n`;\n\nconst Price = styled.div`\n  min-width: 80px;\n  text-align: right;\n`;\n\nexport { Cart };\n","import React from 'react';\n\nimport { useStore } from '../../../store';\n\nconst mapState = state => ({\n  user: state.user.userInfo,\n});\n\nconst mapActions = actions => ({\n  getUser: actions.user.getUser,\n});\n\nconst Login = React.memo(() => {\n  const { getUser } = useStore(mapState, mapActions);\n\n  React.useEffect(() => {\n    getUser();\n  }, []);\n\n  return null;\n});\n\nexport { Login };\n","import React from 'react';\nimport styled from 'styled-components';\nimport Loader from '@material-ui/core/CircularProgress';\n\nimport { Currency } from '../../../components/Currency';\nimport { useStore } from '../../../store';\n\nconst mapState = state => ({\n  balances: state.user.balances,\n  areBalancesLoading: state.user.areBalancesLoading,\n});\n\nconst mapActions = actions => ({\n  loadBalances: actions.user.loadBalances,\n});\n\nconst UserBalances = React.memo(() => {\n  const { balances, areBalancesLoading, loadBalances } = useStore(mapState, mapActions);\n\n  React.useEffect(() => {\n    loadBalances();\n  }, []);\n\n  return React.useMemo(\n    () => (\n      <Body>\n        {areBalancesLoading ? (\n          <Loader size={24} color='primary' />\n        ) : (\n          balances.map(vc => <Currency key={vc.sku} image={vc.imageUrl} value={vc.amount} />)\n        )}\n      </Body>\n    ),\n    [areBalancesLoading, balances]\n  );\n});\n\nconst Body = styled.div`\n  display: grid;\n  grid-column-gap: 10px;\n  grid-auto-flow: column;\n  color: ${({ theme }) => theme.palette.text.primary};\n`;\n\nexport { UserBalances };\n","import React from 'react';\nimport styled from 'styled-components';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport MUIDivider from '@material-ui/core/Divider';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nimport { Preloader } from '../../../components/Preloader';\nimport { useStore } from '../../../store';\nimport { CartItem } from '../../cart/components/CartItem';\nimport { getFormattedCurrency } from '../../../utils/formatCurrency';\nimport { device } from '../../../styles/devices';\n\nconst mapState = state => ({\n  cartItems: state.cart.items,\n  price: state.cart.price,\n  isCartLoading: state.cart.isLoading,\n  isPurchasing: state.cart.isPurchasing,\n  isCartClearing: state.cart.isClearing,\n});\n\nconst mapActions = actions => ({\n  removeItem: actions.cart.removeItem,\n  purchase: actions.cart.purchase,\n  changeItemQuantity: actions.cart.changeItemQuantity,\n});\n\nconst ServerPurchase = React.memo(() => {\n  const {\n    price,\n    cartItems,\n    isCartLoading,\n    isPurchasing,\n    isCartClearing,\n    removeItem,\n    purchase,\n    changeItemQuantity,\n  } = useStore(mapState, mapActions);\n\n  const subtotal = React.useMemo(\n    () =>\n      Math.round(cartItems.reduce((acc, x) => acc + x.price.amount * x.quantity, 0) * 100) / 100,\n    [cartItems]\n  );\n\n  const cartContent = React.useMemo(\n    () =>\n      cartItems.length > 0 ? (\n        <CartItems>\n          {cartItems.map(x => (\n            <React.Fragment key={x.sku}>\n              <CartItem item={x} removeItem={removeItem} changeItemQuantity={changeItemQuantity} />\n              <Divider />\n            </React.Fragment>\n          ))}\n        </CartItems>\n      ) : (\n        <EmptyText>Oops, you have nothing bought yet!</EmptyText>\n      ),\n    [cartItems, removeItem, changeItemQuantity]\n  );\n\n  const footerContent = React.useMemo(\n    () =>\n      cartItems.length > 0 && (\n        <>\n          <Loader>{isCartLoading && <Progress />}</Loader>\n          <CartFooter>\n            <Subtotal>\n              Subtotal:\n              <Price>\n                {\n                  getFormattedCurrency(subtotal, price.currency || cartItems[0].price.currency)\n                    .formattedCurrency\n                }\n              </Price>\n            </Subtotal>\n            <CartActions>\n              <Button variant='contained' disabled={isPurchasing} onClick={purchase}>\n                {isPurchasing ? <CircularProgress size={24} color='primary' /> : 'Grant purchase'}\n              </Button>\n            </CartActions>\n          </CartFooter>\n        </>\n      ),\n    [cartItems, isCartLoading, price.currency, isPurchasing, purchase]\n  );\n\n  return (\n    <Body>\n      {isCartClearing ? (\n        <Preloader />\n      ) : (\n        <Content>\n          {cartContent}\n          {footerContent}\n        </Content>\n      )}\n    </Body>\n  );\n});\n\nconst Body = styled.div`\n  display: flex;\n  justify-content: center;\n  padding-top: 50px;\n`;\n\nconst Content = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  max-width: 600px;\n  padding: 0 20px;\n`;\n\nconst CartItems = styled.div`\n  display: grid;\n  grid-row-gap: 30px;\n  padding: 16px 0;\n`;\n\nconst EmptyText = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ${({ theme }) => theme.palette.text.primary};\n  height: 100%;\n`;\n\nconst CartFooter = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  padding: 24px 0 24px 0;\n`;\n\nconst CartActions = styled.div`\n  display: flex;\n\n  @media ${device.tablet} {\n    justify-content: flex-end;\n    width: 100%;\n  }\n`;\n\nconst Subtotal = styled.div`\n  display: flex;\n  font-weight: bold;\n  color: ${({ theme }) => theme.palette.text.primary};\n  margin-right: 10px;\n\n  @media ${device.tablet} {\n    justify-content: flex-end;\n    width: 100%;\n    margin-bottom: 15px;\n    margin-right: 0;\n  }\n`;\n\nconst Price = styled.div`\n  min-width: 80px;\n  text-align: right;\n`;\n\nconst Divider = styled(MUIDivider)`\n  &.MuiDivider-root {\n    background-color: ${({ theme }) => theme.palette.primary.contrastText};\n    opacity: 0.1;\n    margin-bottom: 5px;\n  }\n`;\n\nconst Loader = styled.div`\n  position: relative;\n`;\n\nconst Progress = styled(LinearProgress)`\n  && {\n    position: absolute;\n    width: 100%;\n  }\n`;\n\nexport { ServerPurchase };\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { device } from '../../../styles/devices';\n\nconst VCCartItem = React.memo(({ item }) => {\n  return (\n    <Body>\n      <Image image={item.imageUrl} />\n      <div>\n        <Name>{item.name}</Name>\n        <div>{item.description}</div>\n      </div>\n    </Body>\n  );\n});\n\nconst Body = styled.div`\n  display: grid;\n  grid-template-columns: 0.7fr 1.3fr 1fr;\n  overflow: hidden;\n  height: 130px;\n\n  @media ${device.mobileL} {\n    height: 185px;\n    grid-template-columns: 0.9fr 1.1fr;\n    grid-template-rows: 120px 1fr;\n  }\n`;\n\nconst Image = styled.div`\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(${props => props.image});\n`;\n\nconst Name = styled.div`\n  font-weight: bolder;\n  margin-bottom: 5px;\n`;\n\nexport { VCCartItem };\n","import React from 'react';\nimport styled from 'styled-components';\nimport Colorer from 'color';\nimport IconButton from '@material-ui/core/IconButton';\nimport IconClose from '@material-ui/icons/Close';\nimport Button from '@material-ui/core/Button';\nimport MUIModal from '@material-ui/core/Modal';\nimport Grow from '@material-ui/core/Grow';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport { useStore } from '../../../store';\nimport { device } from '../../../styles/devices';\nimport { VCCartItem } from './VCCartItem';\n\nconst mapState = state => ({\n  item: state.vcCart.item,\n  isBuying: state.vcCart.isBuying,\n});\n\nconst mapActions = actions => ({\n  clearCart: actions.vcCart.clearCart,\n  buyByVirtualCurrencies: actions.vcCart.buyByVirtualCurrencies,\n});\n\nconst VCCart = React.memo(() => {\n  const { item, clearCart, isBuying, buyByVirtualCurrencies } = useStore(mapState, mapActions);\n\n  return React.useMemo(\n    () => (\n      <Modal\n        open={Boolean(item)}\n        onClose={clearCart}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{ timeout: 250 }}>\n        <Grow in={Boolean(item)} timeout={250}>\n          <CartContent>\n            <CartHeader>\n              <h4>Confirm</h4>\n              <IconButton color='inherit' onClick={clearCart}>\n                <IconClose />\n              </IconButton>\n            </CartHeader>\n            <CartList>{item && <VCCartItem item={item} />}</CartList>\n            <CartFooter>\n              <Button variant='contained' disabled={isBuying} onClick={buyByVirtualCurrencies}>\n                {isBuying ? <CircularProgress size={24} color='primary' /> : 'Buy'}\n              </Button>\n            </CartFooter>\n          </CartContent>\n        </Grow>\n      </Modal>\n    ),\n    [buyByVirtualCurrencies, clearCart, isBuying, item]\n  );\n});\n\nconst Modal = styled(MUIModal)`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst CartContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  border-radius: ${({ theme }) => `${theme.shape.borderRadius}px`};\n  background-color: ${({ theme }) => theme.palette.background.default};\n  color: ${({ theme }) => theme.palette.text.primary};\n  padding: 0 32px;\n  width: 680px;\n  max-height: 80vh;\n  outline: none;\n\n  @media ${device.tablet} {\n    padding: 0 16px;\n    max-height: none;\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n  }\n`;\n\nconst CartHeader = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid\n    ${({ theme }) =>\n      Colorer(theme.palette.text.primary)\n        .alpha(0.1)\n        .string()};\n  z-index: 10;\n  padding: 24px 0 8px 0;\n`;\n\nconst CartList = styled.div`\n  display: grid;\n  grid-row-gap: 30px;\n  flex-grow: 1;\n  padding: 16px 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n`;\n\nconst CartFooter = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  border-top: 1px solid\n    ${({ theme }) =>\n      Colorer(theme.palette.text.primary)\n        .alpha(0.1)\n        .string()};\n  padding: 24px 0 24px 0;\n`;\n\nexport { VCCart };\n","import React from 'react';\nimport ShoppingCart from '@material-ui/icons/ShoppingCart';\n\nimport { ProductCard } from '../../../components/ProductCard';\nimport { Currency } from '../../../components/Currency';\n\nexport const VCItem = React.memo(({ product, order, isLoading, addToCart }) => {\n  const handleItemAdd = React.useCallback(() => addToCart(product), []);\n  const actionButtonContent = React.useMemo(() => <ShoppingCart />, []);\n\n  const price = React.useMemo(\n    () => (\n      <Currency\n        currency={product.price.currency}\n        value={Math.round(product.price.amount * 100) / 100}\n      />\n    ),\n    [product]\n  );\n\n  return (\n    <ProductCard\n      image={product.imageUrl}\n      name={product.name}\n      order={order}\n      value={price}\n      isLoading={isLoading}\n      description={product.description}\n      actionButtonContent={actionButtonContent}\n      onAction={handleItemAdd}\n    />\n  );\n});\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { useStore } from '../../../store';\nimport { Preloader } from '../../../components/Preloader';\nimport { VCItem } from './VCItem';\n\nconst mapState = state => ({\n  virtualCurrencies: state.virtualCurrencies.items,\n  isItemAdding: state.cart.isItemAdding,\n  isFetching: state.virtualCurrencies.isFetching,\n});\n\nconst mapActions = actions => ({\n  addToCart: actions.cart.addItem,\n  loadVirtualCurrencies: actions.virtualCurrencies.load,\n});\n\nconst VCList = React.memo(() => {\n  const {\n    addToCart,\n    isItemAdding,\n    virtualCurrencies,\n    loadVirtualCurrencies,\n    isFetching,\n  } = useStore(mapState, mapActions);\n\n  const [activeItemID, setActiveItemID] = React.useState(null);\n\n  const handleItemAdding = React.useCallback(\n    item => {\n      addToCart(item);\n      setActiveItemID(item.sku);\n    },\n    [addToCart]\n  );\n\n  React.useEffect(() => {\n    if (virtualCurrencies.length === 0) {\n      loadVirtualCurrencies();\n    }\n  }, []);\n\n  const content = React.useMemo(\n    () =>\n      virtualCurrencies.length > 0 && (\n        <Content>\n          {virtualCurrencies.map((currency, index) => (\n            <VCItem\n              order={index}\n              key={currency.sku}\n              product={currency}\n              isLoading={isItemAdding && currency.sku === activeItemID}\n              addToCart={handleItemAdding}\n            />\n          ))}\n        </Content>\n      ),\n    [virtualCurrencies, isItemAdding, activeItemID, handleItemAdding]\n  );\n\n  return <Body>{isFetching ? <Preloader /> : content}</Body>;\n});\n\nconst Body = styled.div`\n  background-color: transparent;\n`;\n\nconst Content = styled.div`\n  display: grid;\n  padding: 30px 0;\n  grid-gap: 30px;\n  grid-template-columns: ${({ theme }) => `repeat(auto-fit, minmax(\n    ${theme.shape.cardWidth}, \n    ${theme.shape.cardWidth}\n  ))`};\n  justify-content: center;\n`;\n\nexport { VCList };\n","const eatCookie = () => {\n  const getCookie = o => {\n    for (var e = o + '=', n = decodeURIComponent(document.cookie).split(';'), t = 0; t < n.length; t++) {\n      for (var i = n[t]; ' ' === i.charAt(0); ) i = i.substring(1);\n      if (0 === i.indexOf(e)) return i.substring(e.length, i.length);\n    }\n    return '';\n  };\n  const setCookie = (o, e) => {\n    var n = new Date();\n    n.setTime(n.getTime() + 864e5);\n    var t = 'expires=' + n.toUTCString();\n    document.cookie = o + '=' + e + ';' + t + ';path=/';\n  };\n\n  function getQueryParams(o) {\n    o = o.split('+').join(' ');\n    for (var e, n = {}, t = /[?&]?([^=]+)=([^&]*)/g; (e = t.exec(o)); )\n      n[decodeURIComponent(e[1])] = decodeURIComponent(e[2]);\n    return n;\n  }\n\n  let o;\n  if (window.location.search) {\n    o = getQueryParams(window.location.search).token;\n  }\n  if (o) {\n    setCookie('xsolla_login_token', o);\n    window.history.pushState('', '', document.location.pathname);\n  } else {\n    o = getCookie('xsolla_login_token');\n  }\n  if (o && o !== 'undefined') {\n    return o;\n  } else {\n    return null;\n  }\n};\n\nexport default function Cookie(projectId) {\n  return Number(process.env.REACT_APP_DEMO_PROJECT_ID) === projectId\n    ? 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE5NjIyMzQwNDgsImlzcyI6Imh0dHBzOi8vbG9naW4ueHNvbGxhLmNvbSIsI' +\n        'mlhdCI6MTU2MjE0NzY0OCwidXNlcm5hbWUiOiJ4c29sbGEiLCJ4c29sbGFfbG9naW5fYWNjZXNzX2tleSI6IjA2SWF2ZHpDeEVHbm5aMTlp' +\n        'LUc5TmMxVWFfTWFZOXhTR3ZEVEY4OFE3RnMiLCJzdWIiOiJkMzQyZGFkMi05ZDU5LTExZTktYTM4NC00MjAxMGFhODAwM2YiLCJlbWFpbCI' +\n        '6InN1cHBvcnRAeHNvbGxhLmNvbSIsInR5cGUiOiJ4c29sbGFfbG9naW4iLCJ4c29sbGFfbG9naW5fcHJvamVjdF9pZCI6ImU2ZGZhYWM2LTc' +\n        '4YTgtMTFlOS05MjQ0LTQyMDEwYWE4MDAwNCIsInB1Ymxpc2hlcl9pZCI6MTU5MjR9.GCrW42OguZbLZTaoixCZgAeNLGH2xCeJHxl8u8Xn2aI'\n    : eatCookie();\n}\n\nexport function eraseCookie(o) {\n  return (document.cookie = o + '=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;');\n}\n\nexport function parseJwt(o) {\n  let base64Url = o.split('.')[1];\n  let base64 = base64Url.replace('-', '+').replace('_', '/');\n  return JSON.parse(window.atob(base64));\n}\n","import React from 'react';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport MUIMenu from '@material-ui/core/Menu';\nimport Hidden from '@material-ui/core/Hidden';\nimport MUITabs from '@material-ui/core/Tabs';\nimport MUITab from '@material-ui/core/Tab';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Button from '@material-ui/core/Button';\nimport CartIcon from '@material-ui/icons/ShoppingCart';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport LogoutIcon from '@material-ui/icons/ExitToAppOutlined';\n\nimport { routes, getRoutes } from '../utils/routes';\nimport { device } from '../styles/devices';\nimport { eraseCookie } from '../utils/cookie';\n\nconst Navbar = React.memo(\n  ({ isPublic, isLogged, isLogoutHide, userEmail, onMenuOpen, onCartOpen, renderUserBalances }) => {\n    const { pathname } = useLocation();\n\n    const [menuAnchor, setMenuAnchor] = React.useState(null);\n    const handleMenuClose = () => setMenuAnchor(null);\n    const handleMenuOpen = event => setMenuAnchor(event.currentTarget);\n\n    const logOutHandler = React.useCallback(() => {\n      eraseCookie('xsolla_login_token', null);\n      eraseCookie('xsolla_last_click_id', null);\n      window.location.reload();\n    }, []);\n\n    const generalMenuItems = React.useMemo(\n      () => getRoutes([routes.items, routes.currencies, routes.physical]),\n      []\n    );\n\n    const userMenuItems = React.useMemo(\n      () => getRoutes([routes.inventory, routes.entitlement, routes.manage, routes.purchase]),\n      []\n    );\n\n    const isLocationExistsInTabs = React.useMemo(() => generalMenuItems.some(x => x.route === pathname), [\n      generalMenuItems,\n      pathname,\n    ]);\n\n    return React.useMemo(\n      () => (\n        <Header>\n          {!isPublic && (\n            <>\n              <Hidden mdDown>\n                <Tabs\n                  value={isLocationExistsInTabs ? pathname : false}\n                  textColor=\"primary\"\n                  indicatorColor=\"primary\"\n                  component=\"nav\">\n                  {generalMenuItems.map(x => (\n                    <Tab key={x.route} component={NavLink} label={x.label} value={x.route} to={x.route} />\n                  ))}\n                </Tabs>\n              </Hidden>\n\n              <Hidden lgUp>\n                <IconButton color=\"primary\" onClick={onMenuOpen}>\n                  <MenuIcon />\n                </IconButton>\n              </Hidden>\n\n              {isLogged && (\n                <LoginPanel>\n                  {renderUserBalances()}\n                  <Hidden mdDown>\n                    <UserMail\n                      endIcon={Boolean(menuAnchor) ? <ExpandLessIcon /> : <ExpandMoreIcon />}\n                      onClick={handleMenuOpen}>\n                      {userEmail}\n                    </UserMail>\n                  </Hidden>\n                </LoginPanel>\n              )}\n\n              {isLogoutHide && isLogged && (\n                <LogoutButton color=\"primary\" variant=\"text\" size=\"small\" onClick={logOutHandler}>\n                  <LogoutIcon size=\"inherit\" />\n                </LogoutButton>\n              )}\n\n              <Menu\n                anchorEl={menuAnchor}\n                getContentAnchorEl={null}\n                transformOrigin={{ vertical: 'top', horizontal: 'center' }}\n                anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n                open={Boolean(menuAnchor)}\n                onClose={handleMenuClose}>\n                {userMenuItems.map(x => (\n                  <Link key={x.route} onClick={handleMenuClose} activeClassName=\"active\" to={x.route}>\n                    {x.label}\n                  </Link>\n                ))}\n              </Menu>\n            </>\n          )}\n\n          <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={onCartOpen}>\n            <CartIcon size=\"inherit\" />\n            <Hidden xsDown>cart</Hidden>\n          </Button>\n        </Header>\n      ),\n      [\n        isPublic,\n        isLocationExistsInTabs,\n        pathname,\n        generalMenuItems,\n        onMenuOpen,\n        isLogged,\n        renderUserBalances,\n        menuAnchor,\n        userEmail,\n        logOutHandler,\n        userMenuItems,\n        onCartOpen,\n      ]\n    );\n  }\n);\n\nconst Menu = styled(MUIMenu)`\n  .MuiMenu-list {\n    background-color: ${({ theme }) => theme.palette.background.default};\n  }\n`;\n\nconst Tabs = styled(MUITabs)`\n  &.MuiTabs-root {\n    height: 100%;\n    flex-grow: 1;\n  }\n`;\n\nconst Tab = styled(MUITab)`\n  &.MuiTab-root {\n    text-transform: uppercase;\n    font-size: 1.4rem;\n    font-weight: 700;\n    line-height: 1.4rem;\n    min-width: 50px;\n  }\n`;\n\nconst Link = styled(NavLink)`\n  display: flex;\n  padding: 15px 20px;\n  min-width: 200px;\n  align-items: center;\n  text-transform: uppercase;\n  text-decoration: none;\n  font-size: 1.2rem;\n  font-weight: 700;\n  line-height: 1.2rem;\n  height: 100%;\n  color: #d6e0e7;\n  border: none;\n\n  &:hover {\n    color: #ff005b;\n    text-decoration: none;\n  }\n\n  &.active {\n    color: #ff005b;\n  }\n`;\n\nconst LogoutButton = styled(Button)`\n  &.MuiButton-root {\n    margin-right: 10px;\n  }\n`;\n\nconst LoginPanel = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  flex-grow: 1;\n\n  @media ${device.mobileL} {\n    justify-content: center;\n  }\n`;\n\nconst LoginButton = styled(Button)`\n  &.MuiButton-root {\n    margin-right: 10px;\n    font-size: 0.8rem;\n  }\n`;\n\nconst UserMail = styled(Button)`\n  && {\n    font-family: 'Roboto';\n    text-transform: uppercase;\n    color: ${({ theme }) => theme.palette.primary.main};\n    margin: 0 1rem;\n  }\n`;\n\nconst Header = styled.header`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  height: 50px;\n  padding: 0 15px;\n  font-family: 'Helvetica Neue', 'Roboto', Arial, Helvetica, sans-serif;\n  background-color: ${({ theme }) => theme.palette.background.default};\n`;\n\nexport { Navbar };\n","import React from 'react';\nimport Colorer from 'color';\nimport styled from 'styled-components';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport Drawer from '@material-ui/core/SwipeableDrawer';\nimport MUIIconButton from '@material-ui/core/IconButton';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport MUIDivider from '@material-ui/core/Divider';\nimport Tabs from '@material-ui/core/Tabs';\nimport MUITab from '@material-ui/core/Tab';\nimport LogoutIcon from '@material-ui/icons/ExitToAppOutlined';\n\nimport { routes, getRoutes } from '../utils/routes';\nimport { eraseCookie } from '../utils/cookie';\n\nconst MobileNavbar = React.memo(({ userEmail, isOpen, isLogged, onOpen, onClose }) => {\n  const { pathname } = useLocation();\n\n  const logOutHandler = () => {\n    eraseCookie('xsolla_login_token', null);\n    eraseCookie('xsolla_last_click_id', null);\n    window.location.reload();\n  };\n\n  React.useEffect(() => onClose, []);\n\n  const generalMenuItems = React.useMemo(\n    () => getRoutes([routes.items, routes.currencies, routes.physical]),\n    []\n  );\n\n  const userMenuItems = React.useMemo(\n    () => getRoutes([routes.inventory, routes.entitlement, routes.manage, routes.purchase]),\n    []\n  );\n\n  const isLocationExistsInTabs = React.useMemo(() => generalMenuItems.some(x => x.route === pathname), [\n    generalMenuItems,\n    pathname,\n  ]);\n\n  return React.useMemo(\n    () => (\n      <Drawer open={isOpen} anchor=\"left\" onOpen={onOpen} onClose={onClose}>\n        <Content>\n          <Header>\n            {isLogged && (\n              <IconButton onClick={logOutHandler}>\n                <LogoutIcon size=\"inherit\" />\n              </IconButton>\n            )}\n            {isLogged && <UserMail>{userEmail}</UserMail>}\n            <IconButton onClick={onClose}>\n              <ChevronLeftIcon />\n            </IconButton>\n          </Header>\n          <Tabs\n            value={isLocationExistsInTabs ? pathname : false}\n            onChange={onClose}\n            component=\"nav\"\n            variant=\"scrollable\"\n            color=\"primary\"\n            indicatorColor=\"primary\"\n            orientation=\"vertical\">\n            {generalMenuItems.map(x => (\n              <Tab key={x.route} component={NavLink} label={x.label} value={x.route} to={x.route} />\n            ))}\n            <MenuDivider />\n            {userMenuItems.map(x => (\n              <Tab key={x.route} component={NavLink} label={x.label} value={x.route} to={x.route} />\n            ))}\n          </Tabs>\n        </Content>\n      </Drawer>\n    ),\n    [\n      generalMenuItems,\n      isLocationExistsInTabs,\n      isLogged,\n      isOpen,\n      onClose,\n      onOpen,\n      pathname,\n      userEmail,\n      userMenuItems,\n    ]\n  );\n});\n\nconst Content = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 320px;\n  height: 100%;\n  background-color: ${({ theme }) => theme.palette.background.default};\n`;\n\nconst MenuDivider = styled(MUIDivider)`\n  &.MuiDivider-root {\n    background-color: ${({ theme }) =>\n      Colorer(theme.palette.text.primary)\n        .alpha(0.1)\n        .string()};\n    margin: 5px 0;\n  }\n`;\n\nconst IconButton = styled(MUIIconButton)`\n  &.MuiIconButton-root {\n    color: ${({ theme }) => theme.palette.primary.main};\n  }\n`;\n\nconst Tab = styled(MUITab)`\n  &.MuiTab-root {\n    padding: 15px;\n    font-size: 1.3rem;\n    line-height: 1.3rem;\n    font-weight: 700;\n  }\n\n  & .MuiTab-wrapper {\n    align-items: flex-start;\n  }\n`;\n\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 49px;\n  border-bottom: 1px solid\n    ${({ theme }) =>\n      Colorer(theme.palette.text.primary)\n        .alpha(0.1)\n        .string()};\n`;\n\nconst UserMail = styled.div`\n  flex-grow: 1;\n  padding: 0 15px;\n  text-transform: uppercase;\n  font-family: Roboto;\n  color: ${({ theme }) => theme.palette.primary.main};\n`;\n\nexport { MobileNavbar };\n","import React from 'react';\nimport Colorer from 'color';\nimport { Route, Switch, Redirect, useRouteMatch } from 'react-router-dom';\nimport styled from 'styled-components';\nimport Hidden from '@material-ui/core/Hidden';\n\nimport { InventoryList } from './features/inventory/components/InventoryList';\nimport { PhysicalList } from './features/physicalGoods/components/PhysicalList';\nimport { ManageInventory } from './features/manage/components/ManageInventory';\nimport { VirtualList } from './features/virtualGoods/components/VirtualList';\nimport { EntitlementList } from './features/entitlement/components/EntitlementList';\nimport { Cart } from './features/cart/components/Cart';\nimport { Login } from './features/user/components/Login';\nimport { UserBalances } from './features/user/components/Balances';\nimport { ServerPurchase } from './features/cart/components/ServerPurchase';\nimport { VCCart } from './features/vcCart/components/VCCart';\nimport { VCList } from './features/virtualCurrencies/components/VCList';\nimport { Navbar } from './components/Navbar';\nimport { MobileNavbar } from './components/MobileNavbar';\nimport { routes } from './utils/routes';\nimport { useStore } from './store';\n\nconst mapState = state => ({\n  user: state.user.userInfo,\n  isPublic: state.isSpecificProject,\n  isDemo: state.isDemo,\n});\n\nconst mapActions = actions => ({\n  showCart: actions.cart.show,\n});\n\nconst App = React.memo(() => {\n  const [isSideMenuOpen, setMenuVisibility] = React.useState(false);\n  const openMenu = React.useCallback(() => setMenuVisibility(true), []);\n  const closeMenu = React.useCallback(() => setMenuVisibility(false), []);\n\n  const { user, isPublic, isDemo, showCart } = useStore(mapState, mapActions);\n  const renderUserBalances = React.useCallback(() => <UserBalances />, []);\n\n  return React.useMemo(\n    () => (\n      <Body>\n        <Navbar\n          isPublic={isPublic}\n          isLogoutShown={isDemo}\n          isLogged={Boolean(user)}\n          userEmail={user ? user.email : ''}\n          onMenuOpen={openMenu}\n          onCartOpen={showCart}\n          renderUserBalances={renderUserBalances}\n        />\n        {!isPublic && (\n          <Hidden lgUp>\n            <MobileNavbar\n              isLogged={Boolean(user)}\n              userEmail={user ? user.email : ''}\n              isOpen={isSideMenuOpen}\n              onOpen={openMenu}\n              onClose={closeMenu}\n            />\n          </Hidden>\n        )}\n        <Cart />\n        <VCCart />\n        <Login />\n        <Content>\n          <Switch>\n            <Route path={routes.items} exact component={VirtualList} />\n            <Route path={routes.currencies} component={VCList} />\n            <Route path={routes.physical} component={PhysicalList} />\n            <Route path={routes.inventory} component={InventoryList} />\n            <Route path={routes.manage} component={ManageInventory} />\n            <Route path={routes.entitlement} component={EntitlementList} />\n            <Route path={routes.purchase} component={ServerPurchase} />\n            <Route path={routes.specificProject} component={PhysicalList} />\n            <Redirect to={routes.items} />\n          </Switch>\n        </Content>\n      </Body>\n    ),\n    [isPublic, isDemo, user, openMenu, showCart, renderUserBalances, isSideMenuOpen, closeMenu]\n  );\n});\n\nconst Body = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  font-family: ${({ theme }) => theme.typography.fontFamily};\n  background: ${({ theme }) =>\n    `url(${theme.palette.background.imageUrl}) ${Colorer(theme.palette.background.default).alpha(0.8)}`};\n  background-attachment: fixed;\n  background-size: cover;\n  background-blend-mode: darken;\n`;\n\nconst Content = styled.div`\n  position: relative;\n  height: 100%;\n  overflow-y: auto;\n`;\n\nexport default App;\n","import axios from 'axios';\n\nclass CartApi {\n  constructor(actions, projectId, paymentWidget) {\n    this.CancelToken = axios.CancelToken;\n    this.actions = actions;\n    this.projectId = projectId;\n    this.paymentWidget = paymentWidget;\n\n    this.cartGettingCancel = () => void 0;\n    this.quantityChangingCancel = () => void 0;\n  }\n\n  getCart = async () => {\n    const url = `/v2/project/${this.projectId}/cart`;\n    const params = {\n      cancelToken: new this.CancelToken(c => {\n        this.cartGettingCancel();\n        this.cartGettingCancel = c;\n      }),\n    };\n\n    const response = await this.actions.get(url, params);\n\n    return convertCart(response.data);\n  };\n\n  changeItemQuantity = async (sku, quantity) => {\n    const url = `/v2/project/${this.projectId}/cart/item/${sku}`;\n    const data = JSON.stringify({ quantity });\n    const params = {\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8',\n      },\n      cancelToken: new this.CancelToken(c => {\n        this.cartGettingCancel();\n        this.quantityChangingCancel();\n        this.quantityChangingCancel = c;\n      }),\n    };\n\n    await this.actions.put(url, data, params);\n  };\n\n  removeItemFromCart = async sku => {\n    const url = `/v2/project/${this.projectId}/cart/item/${sku}`;\n    const params = {\n      cancelToken: new this.CancelToken(() => {\n        this.cartGettingCancel();\n        this.quantityChangingCancel();\n      }),\n    };\n\n    await this.actions.delete(url, params);\n  };\n\n  clearCart = async () => {\n    const url = `/v2/project/${this.projectId}/cart/clear`;\n    await this.actions.put(url);\n  };\n\n  payForGoods = async () => {\n    const url = `/v2/project/${this.projectId}/payment/cart`;\n    const data = {\n      sandbox: true,\n      settings: {\n        ui: {\n          theme: 'dark',\n        },\n      },\n    };\n\n    const response = await this.actions.post(url, data);\n\n    return new Promise((resolve, reject) => {\n      this.paymentWidget.init({\n        host: 'sandbox-secure.xsolla.com',\n        sandbox: true,\n        access_token: response.data.token,\n        lightbox: {\n          height: 640,\n          spinner: 'round',\n          width: '740px',\n          spinnerColor: '#fff',\n          contentBackground: 'rgba(0,0,0,0.5)',\n        },\n      });\n\n      this.paymentWidget.open();\n      this.paymentWidget.on(this.paymentWidget.eventTypes.CLOSE, () => reject({ cancelled: true }));\n      this.paymentWidget.on(this.paymentWidget.eventTypes.STATUS_DONE, () => resolve());\n    });\n  };\n\n  quickPurchaseByVirtualCurrency = async (sku, vcSKU) => {\n    const url = `/v2/project/${this.projectId}/payment/item/${sku}/virtual/${vcSKU}`;\n    const response = await this.actions.post(url);\n\n    return response.data;\n  };\n\n  purchaseItems = async data => {\n    const url = `https://livedemo.xsolla.com/store-demo/api/index.php`;\n    const response = await axios.post(url, data);\n\n    return response.data;\n  };\n}\n\nconst convertItems = items =>\n  items.map(x => ({\n    sku: x.sku,\n    name: x.name,\n    type: x.type,\n    description: x.description,\n    imageUrl: x.image_url,\n    price: x.price\n      ? {\n          amount: Number(x.price.amount),\n          priceWithoutDiscount: Number(x.price.amount_without_discount),\n          currency: x.price.currency,\n        }\n      : null,\n    virtualPrice:\n      x.virtual_prices.length > 0\n        ? {\n            imageUrl: x.virtual_prices[0].image_url,\n            amount: Number(x.virtual_prices[0].amount),\n          }\n        : null,\n    quantity: x.quantity,\n  }));\n\nconst convertCart = cart => ({\n  id: cart.cart_id,\n  price: cart.price\n    ? {\n        price: cart.price.amount,\n        priceWithoutDiscount: cart.price.amount_without_discount,\n        currency: cart.price.currency,\n      }\n    : null,\n  items: convertItems(cart.items),\n});\n\nexport { CartApi };\n","import { parseJwt, eraseCookie } from '../utils/cookie';\n\nclass UserApi {\n  constructor(actions, projectId, token, loginWidget) {\n    this.actions = actions;\n    this.projectId = projectId;\n    this.token = token;\n    this.loginWidget = loginWidget;\n  }\n\n  getUser = async () => {\n    const userInfo = this.token ? parseJwt(this.token) : null;\n    return userInfo ? convertUser(userInfo) : null;\n  };\n\n  logout = async () => {\n    eraseCookie('xsolla_login_token', null);\n    eraseCookie('xsolla_last_click_id', null);\n  };\n\n  loadBalances = async () => {\n    const url = `/v2/project/${this.projectId}/user/virtual_currency_balance`;\n    const response = await this.actions.get(url);\n\n    return convertVirtualBalances(response.data.items);\n  };\n}\n\nconst convertUser = user => ({\n  email: user.email,\n  loginId: user.xsolla_login_project_id,\n});\n\nconst convertVirtualBalances = items =>\n  items.map(x => ({\n    sku: x.sku,\n    name: x.name,\n    type: x.type,\n    description: x.description,\n    imageUrl: x.image_url,\n    amount: x.amount,\n  }));\n\nexport { UserApi };\n\n// var urlParams = new URLSearchParams(new URL(window.location.href.replace('#/', '')).search);\n\n// var xProjectId;\n// if (urlParams && urlParams.get('project_id')) {\n//   xProjectId = parseInt(urlParams.get('project_id'));\n//   localStorage.setItem('xsolla_react_store_project', xProjectId);\n// } else {\n//   xProjectId = localStorage.getItem('xsolla_react_store_project') || '44056';\n//   xProjectId = parseInt(xProjectId);\n// }\n\n// var xLoginId;\n// if (urlParams && urlParams.get('login_id')) {\n//   xLoginId = urlParams.get('login_id');\n//   localStorage.setItem('xsolla_react_store_login', xLoginId);\n// } else {\n//   xLoginId = localStorage.getItem('xsolla_react_store_login') || 'e6dfaac6-78a8-11e9-9244-42010aa80004';\n// }\n\n// var mainURL = 'https://xsolla.github.io/store-demo/';\n\n// XL.init({\n//   projectId: xLoginId,\n//   loginUrl: mainURL,\n//   locale: 'en_US',\n//   onlyWidgets: true,\n//   fields: ['email'],\n//   theme: 'https://cdn3.xsolla.com/files/uploaded/15924/bfe7e2a5a75fb6f53d04de645ec7c542.css',\n// });\n// const element_id = 'xl_auth';\n// const options = {\n//   width: 600,\n//   height: 550,\n// };\n\n// function XloginInit() {\n//   XL.AuthWidget(element_id, options);\n// }\n","import { PhysicalGood } from 'store-js-sdk/src/physical-goods/physical-goods';\nimport { init } from 'store-js-sdk/src/init';\n\nclass PhysicalGoodApi {\n  constructor(actions, projectId, loginToken) {\n    this.actions = actions;\n    this.projectId = projectId;\n    this.loginToken = loginToken;\n  }\n\n  loadPhysicalGoods = async () => {\n    init({ projectId: this.projectId, version: 'v2' });\n    const physicalGood = new PhysicalGood(this.loginToken);\n    const response = await physicalGood.getPhysicalGoodList();\n    return convertPhysicalGoods(response.data.items);\n  };\n}\n\nconst convertPhysicalGoods = items =>\n  items.map(x => ({\n    sku: x.sku,\n    name: x.name,\n    type: x.type,\n    description: x.description,\n    imageUrl: x.image_url,\n    isFree: x.is_free,\n    price: x.price\n      ? {\n          amount: Number(x.price.amount),\n          priceWithoutDiscount: Number(x.price.amount_without_discount),\n          currency: x.price.currency,\n        }\n      : null,\n  }));\n\nexport { PhysicalGoodApi };\n","class VirtualGoodsApi {\n  constructor(actions, projectId, loginToken) {\n    this.actions = actions;\n    this.projectId = projectId;\n    this.loginToken = loginToken;\n  }\n\n  loadVirtualItems = async () => {\n    const url = `/v2/project/${this.projectId}/items/groups`;\n    const response = await this.actions.get(url);\n\n    const [...groups] = await Promise.all(\n      response.data.groups.map(async g => {\n        const items = await this.loadVirtualItemsByGroup(g.external_id);\n        return {\n          groupId: g.external_id,\n          groupName: g.name,\n          items: convertVirtualGoods(items),\n        };\n      })\n    );\n\n    return groups;\n  };\n\n  loadVirtualItemsByGroup = async groupId => {\n    const url = `/v2/project/${this.projectId}/items/virtual_items/group/${groupId}`;\n    const response = await this.actions.get(url);\n\n    return response.data.items;\n  };\n}\n\nconst convertVirtualGoods = items =>\n  items.map(x => ({\n    sku: x.sku,\n    name: x.name,\n    type: x.type,\n    description: x.description,\n    imageUrl: x.image_url,\n    isFree: x.is_free,\n    price: x.price\n      ? {\n          amount: Number(x.price.amount),\n          priceWithoutDiscount: Number(x.price.amount_without_discount),\n          currency: x.price.currency,\n        }\n      : null,\n    virtualPrice:\n      x.virtual_prices.length > 0\n        ? {\n            sku: x.virtual_prices[0].sku,\n            imageUrl: x.virtual_prices[0].image_url,\n            amount: x.virtual_prices[0].amount,\n          }\n        : null,\n    isConsumable: Boolean(x.inventory_options.consumable),\n  }));\n\nexport { VirtualGoodsApi };\n","class VirtualCurrenciesApi {\n  constructor(actions, projectId, loginToken) {\n    this.actions = actions;\n    this.projectId = projectId;\n    this.loginToken = loginToken;\n  }\n\n  loadVirtualCurrencies = async () => {\n    const url = `https://store.xsolla.com/api/v2/project/${this.projectId}/items/virtual_currency/package`;\n    const response = await this.actions.get(url);\n\n    return convertVirtualCurrencies(response.data.items);\n  };\n}\n\nconst convertVirtualCurrencies = items =>\n  items.map(x => ({\n    sku: x.sku,\n    name: x.name,\n    type: x.type,\n    description: x.description,\n    imageUrl: x.image_url,\n    price: x.price\n      ? {\n          amount: x.price.amount,\n          currency: x.price.currency,\n        }\n      : null,\n  }));\n\nexport { VirtualCurrenciesApi };\n","import { Inventory } from 'store-js-sdk/src/inventory/inventory';\nimport { init } from 'store-js-sdk/src/init';\n\nclass InventoryApi {\n  constructor(actions, projectId, loginToken) {\n    this.actions = actions;\n    this.projectId = projectId;\n    this.loginToken = loginToken;\n  }\n\n  loadVirtualItems = async () => {\n    const url = `/v2/project/${this.projectId}/items/virtual_items`;\n    const response = await this.actions.get(url);\n\n    return convertVirtualItems(response.data.items);\n  };\n\n  loadVirtualCurrencies = async () => {\n    const url = `/v2/project/${this.projectId}/items/virtual_currency`;\n    const response = await this.actions.get(url);\n\n    return convertVirtualCurrencies(response.data.items);\n  };\n\n  rewardItems = async data => {\n    const url = 'https://livedemo.xsolla.com/store-demo/api/index.php';\n    const response = await this.actions.post(url, data);\n\n    return convertRewardData(response.data);\n  };\n\n  loadInventory = async () => {\n    const URL = `/v2/project/${this.projectId}/user/inventory/items`;\n    const response = await this.actions.get(URL);\n\n    return convertInventoryItems(response.data.items);\n  };\n\n  consumeItem = async (sku, itemId) => {\n    init({ projectId: this.projectId, version: 'v2' });\n    const inventory = new Inventory(this.loginToken);\n    return await inventory.consumeItem(sku, 1, itemId);\n  };\n}\n\nconst convertRewardData = data => ({\n  userId: data.operations[0].user_id,\n  itemId: data.operations[0].items[0].sku,\n  quantity: data.operations[0].items[0].quantity,\n});\n\nconst convertVirtualItems = items =>\n  items.map(x => ({\n    sku: x.sku,\n    name: x.name,\n    type: x.type,\n    description: x.description,\n    imageUrl: x.image_url,\n    isFree: x.is_free,\n    price: x.price\n      ? {\n          amount: Number(x.price.amount),\n          priceWithoutDiscount: Number(x.price.amount_without_discount),\n          currency: x.price.currency,\n        }\n      : null,\n    virtualPrice:\n      x.virtual_prices.length > 0\n        ? {\n            sku: x.virtual_prices[0].sku,\n            imageUrl: x.virtual_prices[0].image_url,\n            amount: x.virtual_prices[0].amount,\n          }\n        : null,\n    isConsumable: Boolean(x.inventory_options.consumable),\n  }));\n\nconst convertVirtualCurrencies = items =>\n  items.map(x => ({\n    sku: x.sku,\n    name: x.name,\n    type: x.type,\n    description: x.description,\n    imageUrl: x.image_url,\n    price: x.price\n      ? {\n          amount: x.price.amount,\n          currency: x.price.currency,\n        }\n      : null,\n  }));\n\nconst convertInventoryItems = items =>\n  items\n    .filter(x => x.type === 'virtual_good')\n    .map(x => ({\n      sku: x.sku,\n      instanceId: x.instance_id,\n      name: x.name,\n      type: x.type,\n      description: x.description,\n      imageUrl: x.image_url,\n      quantity: x.quantity,\n      remainingUses: x.remaining_uses,\n    }));\n\nexport { InventoryApi };\n","import { init } from 'store-js-sdk/src/init';\n\nclass EntitlementApi {\n  constructor(actions, projectId, loginToken) {\n    this.actions = actions;\n    this.projectId = projectId;\n    this.loginToken = loginToken;\n  }\n\n  loadEntitlement = async () => {\n    const url = '/v2/projects/entitlement';\n    const response = await this.actions.get(url);\n\n    return convertEntitlements(response.data);\n  };\n\n  redeem = async (key, sku) => {\n    init({ projectId: this.projectId, version: 'v2' });\n    const url = '/v1/game_delivery/xsolla_login/redeem_key';\n    const data = {\n      project_id: this.projectId,\n      digital_content_sku: sku,\n      language: 'en',\n      key,\n    };\n\n    await this.actions.post(url, data);\n  };\n}\n\nconst convertEntitlements = items =>\n  items.map(x => ({\n    sku: x.digital_content_sku,\n    name: x.name,\n    imageUrl: x.image_url,\n    description: x.description,\n    projectId: x.project_id,\n  }));\n\nexport { EntitlementApi };\n","import axios from 'axios';\n\nimport cookie from '../utils/cookie';\nimport { CartApi } from './cart';\nimport { UserApi } from './user';\nimport { PhysicalGoodApi } from './physicalGoods';\nimport { VirtualGoodsApi } from './virtualGoods';\nimport { VirtualCurrenciesApi } from './virtualCurrencies';\nimport { InventoryApi } from './inventory';\nimport { EntitlementApi } from './entitlement';\n\nclass Api {\n  constructor(baseURL, projectId, isPublic, paymentWidget, loginWidget) {\n    const token = cookie(projectId);\n    const headers = !isPublic && token ? { Authorization: `Bearer ${token}` } : undefined;\n    const config = { baseURL, headers };\n    const actions = axios.create(config);\n\n    this.userApi = new UserApi(actions, projectId, token, loginWidget);\n    this.cartApi = new CartApi(actions, projectId, paymentWidget);\n    this.physicalGoodApi = new PhysicalGoodApi(actions, projectId, token);\n    this.virtualGoodsApi = new VirtualGoodsApi(actions, projectId, token);\n    this.virtualCurrenciesApi = new VirtualCurrenciesApi(actions, projectId, token);\n    this.inventoryApi = new InventoryApi(actions, projectId, token);\n    this.entitlementApi = new EntitlementApi(actions, projectId, token);\n  }\n}\n\nexport { Api };\n","import { createMuiTheme } from '@material-ui/core';\n\nconst mainTheme = createMuiTheme({\n  typography: {\n    fontFamily:\n      '-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif',\n  },\n  palette: {\n    primary: {\n      main: '#FF005B',\n      contrastText: '#F6FAFF',\n    },\n    secondary: {\n      main: '#D6E0E7',\n      contrastText: '#000',\n    },\n    text: {\n      primary: '#D6E0E7',\n      secondary: '#D6E0E7',\n    },\n    background: {\n      default: '#011627',\n      paper: '#011627',\n      imageUrl:\n        'https://res.cloudinary.com/maiik/image/upload/v1549624607/Xsolla/HomePage_Hero_Illustration_1440_oabqmk.jpg',\n    },\n    action: {\n      selected: '#D6E0E712',\n      hover: '#D6E0E708',\n    },\n  },\n  shape: {\n    borderRadius: 6,\n    cardWidth: '300px',\n  },\n});\n\nexport { mainTheme };\n","import React from 'react';\nimport { SnackbarProvider } from 'notistack';\nimport { ThemeProvider } from 'styled-components';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport MuiThemeProvider from '@material-ui/styles/ThemeProvider';\nimport { useRouteMatch } from 'react-router-dom';\n\nimport { Api } from './api';\nimport { StoreProvider } from './store';\nimport { mainTheme } from './styles/theme';\nimport { device } from './styles/devices';\nimport { routes } from './utils/routes';\nimport config from './appConfig.json';\n\nconst notificationPosition = {\n  vertical: 'bottom',\n  horizontal: 'right',\n};\n\nconst Provider = ({ children }) => {\n  const isMobile = useMediaQuery(`@media ${device.mobileL}`);\n  const match = useRouteMatch({\n    path: routes.specificProject,\n    strict: true,\n    sensitive: true,\n  });\n\n  const projectId = match ? match.params.projectId : config.projectId;\n  const isSpecificProject = Boolean(match);\n  const isDemo = Number(process.env.REACT_APP_DEMO_PROJECT_ID) === config.projectId;\n  const api = React.useMemo(\n    () =>\n      new Api(\n        'https://store.xsolla.com/api',\n        projectId,\n        isSpecificProject,\n        window.XPayStationWidget,\n        window.XL\n      ),\n    []\n  );\n\n  return (\n    <SnackbarProvider\n      anchorOrigin={notificationPosition}\n      dense={isMobile}\n      maxSnack={3}\n      preventDuplicate={isMobile}>\n      <MuiThemeProvider theme={mainTheme}>\n        <ThemeProvider theme={mainTheme}>\n          <StoreProvider isSpecificProject={isSpecificProject} isDemo={isDemo} api={api}>\n            {children}\n          </StoreProvider>\n        </ThemeProvider>\n      </MuiThemeProvider>\n    </SnackbarProvider>\n  );\n};\n\nexport default Provider;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\nimport Provider from './provider';\n\nReactDOM.render(\n  <HashRouter basename=\"/\">\n    <Provider>\n      <App />\n    </Provider>\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}