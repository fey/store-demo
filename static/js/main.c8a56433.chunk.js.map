{"version":3,"sources":["features/inventory/InventoryLoader.js","features/inventory/InventoryItem.js","features/inventory/InventoryList.js","components/Cookie.js","components/StoreLoader.js","context.js","components/XLogin.js","components/Navbar.js","components/Product.js","components/formatCurrency.js","components/Cart.js","components/MenuMaterial.js","components/ProductList.js","components/Preloader.js","App.js","serviceWorker.js","index.js"],"names":["cancel","InventoryItem","_Component","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","expanded","cardShown","inherits","createClass","key","value","_this2","order","props","setTimeout","setState","_this$props","initClass","imageUrl","title","description","quantity","react_default","a","createElement","className","concat","style","backgroundImage","Collapse_default","in","timeout","unmountOnExit","CardContent_default","Component","CancelToken","axios","InventoryList","_PureComponent","apply","arguments","logToken","inventoryItems","setStateFrom","projectId","loginToken","opts","url","method","headers","Authorization","cancelToken","c","then","response","data","items","getInventory","window","xProjectId","setInventoryItems","catch","length","map","oneProduct","InventoryItem_InventoryItem","sku","name","image_url","PureComponent","eatCookie","o","location","search","split","join","e","n","t","exec","decodeURIComponent","getQueryParams","token","Date","setTime","getTime","toUTCString","document","cookie","setCookie","history","pushState","pathname","i","charAt","substring","indexOf","getCookie","Cookie","eraseCookie","_callee","result","all","responseGroups","resolvedGroups","fulfilledGroups","regenerator_default","wrap","_context","prev","next","fetch","sent","json","Promise","oneGroup","loadByGroup","virtualItems","abrupt","stop","group","resolve","reject","products","error","message","changeItemQuantityCart","_ref","cartId","_ref$sku","Content-Type","JSON","stringify","ProductContext","React","createContext","theme","colorText","colorAccent","colorAccentText","colorBg","colorSecondary","borderRadius","backgroundUrl","cardWidth","boxShadow","padding","transitionTime","transitionEasing","transition","transitionStyle","fontFamily","ProductProvider","showCart","cartShown","fetching","getCart","cartPromise","cart","isCancel","prevState","sort","compareItems","price","isFetching","createCart","amount","amount_without_discount","bind","assertThisInitialized","changeTheme","newTheme","newColor","objectSpread","changeCardSize","newSize","clearCart","payStationHandler","event","setPsToken","psToken","handleDetail","console","log","stateName","stateValue","defineProperty","b","addToCart","product","findIndex","elem","toConsumableArray","removeFromCart","filter","prod","changeItemQuantityInCart","_ref2","_ref2$sku","removeItemFromCart","indexFind","cartItems","splice","setGroups","setCurrs","resolvedData","currency","subscriptions","getTheme","what","undefined","setProducts","storeProducts","activeGroup","loginShown","activeModule","nextProps","nextState","Provider","buyCart","children","ProductConsumer","Consumer","XLogin","unauthorizedFlow","shown","authorizedFlow","tkn","user","base64","replace","parse","atob","parseJwt","flexGrow","valueFromContext","CssXpop","display","CssXpopB","CssLoginInfo","CssLoginPop","id","myProjects","onePr","pr","login","urlFull","marginBottom","fontSize","href","projectName","CssXpopZ","XloginInit","cke","styled","div","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","project_id","login_id","Navbar","_ref$showCart","useContext","_React$useState","useState","_React$useState2","slicedToArray","NavWrapper","zIndex","color","backgroundColor","NavLink","activeClassName","exact","to","NavUl","justifyContent","CssLoginPanel","CssLoginButton","onClick","CssLogin","CssLoginEmail","email","XLogin_XLogin","reload","Navbar_templateObject","Navbar_templateObject2","Navbar_templateObject3","Navbar_templateObject4","Navbar_templateObject5","ul","_templateObject6","CssCartQs","Product_templateObject","CssCartQ","Product_templateObject2","CssCardAppear","Product_templateObject3","CssCard","Product_templateObject4","cardType","css","Product_templateObject5","Product_templateObject6","_templateObject7","CssDescEllipsis","_templateObject8","CssCardContent","CardContent","_templateObject9","CssCardH1","_templateObject10","CssCardActions","_templateObject11","_templateObject12","Colorer","alpha","string","_templateObject13","CssCardMedia","_templateObject14","image","CssTypographyPrice","_templateObject15","CssTypographyPriceSm","_templateObject16","withStyles","paper","mixins","gutters","paddingTop","spacing","unit","paddingBottom","cardTitle","card","h1","fontWeight","p","media","marginTop","height","backgroundSize","actions","expand","transform","marginLeft","transitions","create","duration","shortest","expandOpen","avatar","red","_ref$addToCart","_ref$changeItemQuanti","_ref$cardType","_ref$getTheme","favorited","_React$useState3","_React$useState4","useEffect","width","Math","round","IconButton_default","aria-label","ShoppingCart_default","Delete_default","opacity","IndeterminateCheckBox_default","AddBox_default","q","calcPrice","defaultCurrency","fractionSize","symbol","grapheme","template","rtl","uniqSymbol","defaultLocale","getFormattedCurrency","locale","parsedAmount","parseFloat","isNaN","formattedCurrency","dir","currencyOptions","currencyFormat","toUpperCase","getCurrencyOptions","languageOptions","currencyNumberFormat","substr","toLowerCase","formatLocale","getLanguageOptions","signAmount","thousandSeparator","thousands","decimalSeparator","decimal","splittedAmount","abs","toFixed","formattedAmount","CssCartList","Cart_templateObject","Cart0","Cart_templateObject2","CartB","Cart_templateObject3","CartZ","Cart_templateObject4","CssCartH","Cart_templateObject5","CssCartB","Cart_templateObject6","CssSubtotal","Cart_templateObject7","Cart","buyButtonDisabled","setBuyButtonDisabled","hideCart","buyButtonAction","getPsTokenBuyCart","xPayStationInit","XPayStationWidget","open","on","eventTypes","CLOSE","STATUS_DONE","borderBottom","Close_default","cursor","oneCartItem","Product","borderTop","minWidth","textAlign","subtotal","forEach","element","calculateSubtotal","Button_default","variant","MenuMaterial","_ref$virtualItems","_ref$changeGroupHandl","changeGroupHandler","core_styles","createMuiTheme","palette","primary","main","Tabs_default","indicatorColor","textColor","centered","Tab_default","label","ProductList","newActive","ProductRef","createRef","_x","_x2","_StoreLoader","StoreLoader","allData","_this3","CssStore00","CssProductList","CssMenu","components_MenuMaterial","СssTitle","СssGroup","ref","ProductList_templateObject","ProductList_templateObject2","ProductList_templateObject3","ProductList_templateObject4","ProductList_templateObject5","progress","margin","classes","CssPreloader","CircularProgress_default","Preloader_templateObject","App","BrowserRouter","Fragment","Navbar_Navbar","CssStore0","CssCart","Route","path","render","components_ProductList","InventoryList_InventoryList","components_Preloader","App_templateObject","App_templateObject2","Boolean","hostname","match","ReactDOM","context_ProductProvider","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"yPAGIA,sKCISC,UAAb,SAAAC,GACE,SAAAD,IAAc,IAAAE,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACZE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,QACKI,MAAQ,CACXC,UAAU,EACVC,WAAW,GAJDT,EADhB,OAAAC,OAAAS,EAAA,EAAAT,CAAAH,EAAAC,GAAAE,OAAAU,EAAA,EAAAV,CAAAH,EAAA,EAAAc,IAAA,oBAAAC,MAAA,WASsB,IAAAC,EAAAX,KAEhBY,EACEZ,KAAKa,MADPD,MAGGZ,KAAKI,MAAME,WACdQ,WAAW,WACTH,EAAKI,SAAS,CACZT,WAAW,KAEJ,IAARM,KAnBT,CAAAH,IAAA,SAAAC,MAAA,WAuBW,IAAAM,EAOHhB,KAAKa,MALPI,EAFKD,EAELC,UACAC,EAHKF,EAGLE,SACAC,EAJKH,EAILG,MACAC,EALKJ,EAKLI,YACAC,EANKL,EAMLK,SAGF,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAS,kBAAAC,OAAqB1B,KAAKI,MAAME,UAAwB,GAAZW,IACxDK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAAA,OACEC,UAAU,4BACVE,MAAO,CACLC,gBAAe,OAAAF,OAASR,EAAT,QAInBI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+BACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCAAqCN,GACpDG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2CAA2CL,IAG5DE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+BACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wCAAf,aAAAC,OACgBL,KAIlBC,EAAAC,EAAAC,cAACK,EAAAN,EAAD,CAAUO,GAAI9B,KAAKI,MAAMC,SAAU0B,QAAQ,OAAOC,eAAa,GAC7DV,EAAAC,EAAAC,cAACS,EAAAV,EAAD,KAAcH,UAtD1BzB,EAAA,CAAmCuC,+BDL7BC,EAAcC,IAAMD,YEKbE,UAAb,SAAAC,GAAA,SAAAD,IAAA,OAAAvC,OAAAC,EAAA,EAAAD,CAAAE,KAAAqC,GAAAvC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAuC,GAAAE,MAAAvC,KAAAwC,YAAA,OAAA1C,OAAAS,EAAA,EAAAT,CAAAuC,EAAAC,GAAAxC,OAAAU,EAAA,EAAAV,CAAAuC,EAAA,EAAA5B,IAAA,oBAAAC,MAAA,WACsB,IAAAb,EAAAG,KACdA,KAAKa,MAAM4B,UAAY,OAASzC,KAAKa,MAAM6B,iBAC7C1C,KAAKa,MAAM8B,aAAa,YAAY,GFLd,SAACC,EAAWC,GACtCnD,GAAUA,IACV,IAAIoD,EAAO,CACTC,IAAG,2CAAArB,OACwCkB,EADxC,yBAEHI,OAAQ,MACRC,QAAS,CACPC,cAAe,UAAYL,GAE7BM,YAAa,IAAIhB,EAAY,SAAkBiB,GAC7C1D,EAAS0D,KAIb,OAAOhB,IAAMU,GACVO,KAAK,SAASC,GACb,OAAOA,EAASC,KAAKC,QEVrBC,CAAaC,OAAOC,WAAY3D,KAAKa,MAAM4B,UACxCY,KAAK,SAAAX,GACJ7C,EAAKgB,MAAM+C,kBAAkBlB,KAE9BmB,MAAM,WACLhE,EAAKgB,MAAM+C,kBAAkB,SATvC,CAAAnD,IAAA,uBAAAC,MAAA,WAeQ,OAASV,KAAKa,MAAM6B,gBACtB1C,KAAKa,MAAM+C,kBAAkB,QAhBnC,CAAAnD,IAAA,SAAAC,MAAA,WAoBW,IACAgC,EAAkB1C,KAAKa,MAAvB6B,eAEP,OACEpB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,IACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBAEXiB,GAAkBA,EAAeoB,OAE/BpB,EAAeqB,IACb,SAACC,EAAYvD,GACX,OACEa,EAAAC,EAAAC,cAACyC,EAAD,CACExD,IAAKuD,EAAWE,IAChBtD,MAAOH,EACPQ,UAAU,eACVE,MAAO6C,EAAWG,KAClB/C,YAAa4C,EAAW5C,YACxBF,SAAU8C,EAAWI,UACrB/C,SAAU2C,EAAW3C,aAK7BC,EAAAC,EAAAC,cAAA,wDA7ChBa,EAAA,CAAmCgC,mCCL7BC,UAAY,WAChB,IA2BIC,EAWJ,OATIb,OAAOc,SAASC,SAClBF,EAVF,SAAwBA,GACtBA,EAAIA,EAAEG,MAAM,KAAKC,KAAK,KACtB,IAAK,IAAIC,EAAGC,EAAI,GAAIC,EAAI,wBAA0BF,EAAIE,EAAEC,KAAKR,IAC3DM,EAAEG,mBAAmBJ,EAAE,KAAOI,mBAAmBJ,EAAE,IACrD,OAAOC,EAMHI,CAAevB,OAAOc,SAASC,QAAQS,OAEzCX,IAnBc,SAACA,EAAGK,GACpB,IAAIC,EAAI,IAAIM,KACZN,EAAEO,QAAQP,EAAEQ,UAAY,OACxB,IAAIP,EAAI,WAAaD,EAAES,cACvBC,SAASC,OAASjB,EAAI,IAAMK,EAAI,IAAME,EAAI,UAgB1CW,CAAU,qBAAsBlB,GAChCb,OAAOgC,QAAQC,UAAU,GAAI,GAAIJ,SAASf,SAASoB,WAEnDrB,EApCgB,SAAAA,GAChB,IACE,IAAIK,EAAIL,EAAI,IACVM,EAAIG,mBAAmBO,SAASC,QAAQd,MAAM,KAC9CI,EAAI,EACNA,EAAID,EAAEf,OACNgB,IACA,CACA,IAAK,IAAIe,EAAIhB,EAAEC,GAAI,MAAQe,EAAEC,OAAO,IAAMD,EAAIA,EAAEE,UAAU,GAC1D,GAAI,IAAMF,EAAEG,QAAQpB,GAAI,OAAOiB,EAAEE,UAAUnB,EAAEd,OAAQ+B,EAAE/B,QAEzD,MAAO,GAyBHmC,CAAU,sBAEZ1B,GAAW,cAANA,EAEAA,EAEA,OAII,SAAS2B,IACtB,OAAO,QAAUxC,OAAOC,WACpB,4hBAKAW,IAGC,SAAS6B,EAAY5B,GAC1B,OAAQgB,SAASC,OACfjB,EAAI,wDC1DJ7E,2DADEyC,EAAcC,IAAMD,uDAGX,SAAAiE,EAA2BxD,EAAWC,GAAtC,IAAAwD,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAC,EAAAnF,EAAAoF,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAETR,EAAM,GAFGM,EAAAE,KAAA,EAGcC,MACzB,2CAA6CnE,EAAY,gBACzD,CACEI,OAAQ,MACRC,QAAS,CACPC,cAAe,UAAYL,KARpB,YAGT0D,EAHSK,EAAAI,MAAA,CAAAJ,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,EAcgBP,EAAeU,OAd/B,cAeXT,GADIA,EAdOI,EAAAI,MAeoB,OAfpBJ,EAAAE,KAAA,GAkBiBI,QAAQZ,IAClCE,EAAezC,IAAI,SAACoD,EAAU1G,GAE5B,OAAO2G,EAAYxE,EAAWuE,MAEhC9D,KAAK,SAAAoD,GAEL,OAAOA,IAzBE,QAkBPA,EAlBOG,EAAAI,KA2BXV,EAAMA,EAAI5E,OAAO+E,GA3BN,eA8BbJ,EAAS,CACPgB,aAAcf,GA/BHM,EAAAU,OAAA,SAiCNjB,GAjCM,yBAAAO,EAAAW,SAAAnB,EAAApG,gCAoCf,SAASoH,EAAYxE,EAAW4E,GAC9B,OAAO,IAAIN,QAAQ,SAACO,EAASC,GAC3BX,MACE,2CACEnE,EACA,8BACA4E,EAAK,aAENnE,KAAK,SAAAC,GAAQ,OAAIA,EAAS2D,SAC1B5D,KAAK,SAAA4D,GACJ,IAAIU,EAAWV,EAAI,MACnBO,EAAK,SAAeG,EACpBF,EAAQD,KAET3D,MAAM,SAAS+D,GAEdF,EAAOE,EAAMC,aAKd,SAASC,EAATC,EAEL1G,EACA2G,EACAnF,GACA,IAAAoF,EAAAF,EAJE7D,WAIF,IAAA+D,EAJQ,MAIRA,EACAvI,GAAUA,IAEV,IAAIoD,EAAO,CACTC,IACE,2CACAW,OAAOC,WACP,SACAqE,EACA,SACA9D,EACFlB,OAAQ,MACRC,QAAS,CACPiF,eAAgB,kCAChBhF,cAAe,UAAYL,GAE7BU,KAAM4E,KAAKC,UAAU,CACnB/G,SAAUA,KAGd,OAAOe,IAAMU,GACVO,KAAK,SAASC,GAEFA,EAASC,OAErBM,MAAM,SAAS+D,MCnFpB,IAAMS,EAAiBC,IAAMC,gBAIvBC,EAAQ,CACZC,UAAW,UACXC,YAAa,UACbC,gBAAiB,UACjBC,QAAS,UACTC,eAAgB,UAEhBC,aAAc,EACdC,cACE,8GAEFC,UAAW,MAEXC,UAAW,iCACXC,QAAS,MACTC,eAAgB,OAChBC,iBAAkB,cAClBC,WAAU,uBAEVC,gBAAiB,mBACjBC,WACE,mIAGEC,cACJ,SAAAA,EAAY3I,GAAO,IAAAhB,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAwJ,IACjB3J,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA0J,GAAArJ,KAAAH,KAAMa,KAgCR4I,SAAW,WACT5J,EAAKkB,SAAS,CACZ2I,WAAY7J,EAAKO,MAAMsJ,aAnCR7J,EAuCnB+D,kBAAoB,SAAClB,GACnB7C,EAAKkB,SAAS,CACZ2B,iBACAiH,UAAU,KA1CK9J,EA8CnB+J,QAAU,WACR,IAAIC,ED+ED,SAAiB7B,EAAQnF,GAC9BnD,GAAUA,IACV,IAAIoD,EAAO,CACTC,IACE,2CACAW,OAAOC,WACP,SACAqE,EACFhF,OAAQ,MACRC,QAAS,CACPC,cAAe,UAAYL,GAE7BM,YAAa,IAAIhB,EAAY,SAAkBiB,GAC7C1D,EAAS0D,KAGb,OAAOhB,IAAMU,GACVO,KAAK,SAASC,GAEb,OAAOA,IAERO,MAAM,SAAS+D,MCpGEgC,CAAQ/J,EAAKO,MAAM0J,KAAK9B,OAAQnI,EAAKO,MAAMqC,UAC7DoH,EAAYxG,KAAK,SAAAC,IACVuG,EAAYE,UAAYzG,GAC3BzD,EAAKkB,SAAS,SAAAiJ,GAAS,MAAK,CAC1BF,KAAM,CACJ9B,OAAQ1E,EAASC,KAAT,QACRC,MAAOF,EAASC,KAAT,MAAuB0G,KAAKpK,EAAKqK,cACxCC,MAAO7G,EAASC,KAAT,OAET6G,YAAY,QAxDDvK,EA8DnBwK,WAAa,WAAW,IAAA1J,EAAAX,MDHnB,SAAoB6C,GACzB,IAAIC,EAAO,CACTC,IACE,2CAA6CW,OAAOC,WAAa,QACnEX,OAAQ,OACRC,QAAS,CACPC,cAAe,UAAYL,IAG/B,OAAOT,IAAMU,GACVO,KAAK,SAASC,GAEb,OAAOA,IAERO,MAAM,SAAS+D,OCVIyC,CAAWrK,KAAKI,MAAMqC,UAC5BY,KAAK,SAAAC,GACjB3C,EAAKI,SAAS,SAAAiJ,GAAS,MAAK,CAC1BF,KAAM,CACJ9B,OAAQ1E,EAASC,KAAT,GACRC,MAAO,GACP2G,MAAO,CACLG,OAAQ,EACRC,wBAAyB,UAKjCC,KAdW1K,OAAA2K,EAAA,EAAA3K,QAAA2K,EAAA,EAAA3K,CAAAD,KA9DMA,EA8EnB6K,YAAc,SAAAC,GACZ,IAAIC,EAAW,KACS,kBAAbD,GACTC,EAAWD,EACX9K,EAAKkB,SAALjB,OAAA+K,EAAA,EAAA/K,CAAA,GACKD,EAAKO,MADV,CAEEoI,MAAM1I,OAAA+K,EAAA,EAAA/K,CAAA,GACDD,EAAKO,MAAMoI,MADX,CAEHI,QAASgC,QAIb/K,EAAKkB,SAALjB,OAAA+K,EAAA,EAAA/K,CAAA,GAEOD,EAAKO,MAFZ,CAGIoI,MAAM1I,OAAA+K,EAAA,EAAA/K,CAAA,GACDD,EAAKO,MAAMoI,MACXmC,KAGP,eAlGa9K,EAuGnBiL,eAAiB,SAAAC,GACf,IAAIJ,EAAW9K,EAAKO,MAAMoI,MAC1BmC,EAAQ,UAAgBI,EACxBlL,EAAK6K,YAAYC,IA1GA9K,EA6GnBmL,UAAY,WACVnL,EAAK4J,WACL5J,EAAKwK,cA/GYxK,EAkHnBoL,kBAAoB,SAACC,EAAO3H,GAC1B1D,EAAKmL,aAnHYnL,EAsHnBsL,WAAa,SAASC,GACpBpL,KAAKe,SAAS,CAAEqK,QAASA,KACzBZ,KAFW1K,OAAA2K,EAAA,EAAA3K,QAAA2K,EAAA,EAAA3K,CAAAD,KAtHMA,EA0HnBwL,aAAe,WACbC,QAAQC,IAAI,4BA3HK1L,EA8HnB8C,aAAe,SAAS6I,EAAWC,GACjCzL,KAAKe,SAALjB,OAAA+K,EAAA,EAAA/K,CAAA,GACKE,KAAKI,MADVN,OAAA4L,EAAA,EAAA5L,CAAA,GAEG0L,EAAYC,MAEfjB,KALa1K,OAAA2K,EAAA,EAAA3K,QAAA2K,EAAA,EAAA3K,CAAAD,KA9HIA,EAqInBqK,aAAe,SAAC3I,EAAGoK,GACjB,OAAIpK,EAAE2C,IAAMyH,EAAEzH,IACL,EAEL3C,EAAE2C,IAAMyH,EAAEzH,KACJ,EAEH,GA5IUrE,EA+InB+L,UAAY,SAAAC,GACNhM,EAAKO,MAAM0J,MAIM,IAHHjK,EAAKO,MAAM0J,KAAKtG,MAAMsI,UAAU,SAAAC,GAC9C,OAAOA,EAAK7H,MAAQ2H,EAAQ3H,OAG5BrE,EAAK+J,UACL/J,EAAKkB,SAAS,CACZ2I,WAAW,MAGb7J,EAAKkB,SAAS,CACZqJ,YAAY,EACZN,KAAKhK,OAAA+K,EAAA,EAAA/K,CAAA,GACAD,EAAKO,MAAM0J,KADZ,CAEFtG,MAAO,CAAC1D,OAAA+K,EAAA,EAAA/K,CAAA,GAAK+L,EAAN,CAAexK,SAAU,KAAzBK,OAAA5B,OAAAkM,EAAA,EAAAlM,CAAiCD,EAAKO,MAAM0J,KAAKtG,QAAOyG,KAC7DpK,EAAKqK,cAEPC,MAAMrK,OAAA+K,EAAA,EAAA/K,CAAA,GACDD,EAAKO,MAAM0J,KAAKK,MADhB,CAEHG,OACEzK,EAAKO,MAAM0J,KAAKK,OAChBtK,EAAKO,MAAM0J,KAAKK,MAAMG,OAASuB,EAAQ1B,MAAMG,OAC/CC,wBACE1K,EAAKO,MAAM0J,KAAKK,OAChBtK,EAAKO,MAAM0J,KAAKK,MAAMI,wBACpBsB,EAAQ1B,MAAMI,8BAIxBzC,EACE+D,EACA,EACAhM,EAAKO,MAAM0J,KAAK9B,OAChBnI,EAAKO,MAAMqC,UACXY,KAAK,SAAAC,GACLzD,EAAK+J,YAEP/J,EAAK4J,aAGP5J,EAAKkB,SAAS,CAAEqJ,YAAY,IAC5BtC,EACE+D,EACA,EACAhM,EAAKO,MAAM0J,KAAK9B,OAChBnI,EAAKO,MAAMqC,UACXY,KAAK,SAAAC,GACLzD,EAAK+J,YAEP/J,EAAK4J,aAjMU5J,EAqMnBoM,eAAiB,SAAAJ,GACXhM,EAAKO,MAAM0J,MACbjK,EAAKkB,SAAS,CACZqJ,YAAY,EACZN,KAAKhK,OAAA+K,EAAA,EAAA/K,CAAA,GACAD,EAAKO,MAAM0J,KADZ,CAEFtG,MAAO3D,EAAKO,MAAM0J,KAAKtG,MACpB0I,OAAO,SAASC,GACf,OAAOA,EAAKjI,MAAQ2H,EAAQ3H,MAE7B+F,KAAKpK,EAAKqK,cACbC,MAAMrK,OAAA+K,EAAA,EAAA/K,CAAA,GACDD,EAAKO,MAAM0J,KAAKK,MADhB,CAEHG,OACEzK,EAAKO,MAAM0J,KAAKK,MAAMG,OACtBuB,EAAQ1B,MAAMG,OAASuB,EAAQxK,SACjCkJ,wBACE1K,EAAKO,MAAM0J,KAAKK,MAAMI,wBACtBsB,EAAQ1B,MAAMI,wBAA0BsB,EAAQxK,gBAvNzCxB,EA8NnBuM,yBAA2B,SAACP,EAASxK,GACnC,GAAIA,GAAY,EACdxB,EAAKoM,eAAeJ,GDlJnB,SAAAQ,EAA6CrE,EAAQnF,GAAY,IAAAyJ,EAAAD,EAAnCnI,WAAmC,IAAAoI,EAA7B,MAA6BA,EACtE5M,GAAUA,IAEV,IAAIoD,EAAO,CACTC,IACE,2CACAW,OAAOC,WACP,SACAqE,EACA,SACA9D,EACFlB,OAAQ,SACRC,QAAS,CACPC,cAAe,UAAYL,IAG/B,OAAOT,IAAMU,GACVO,KAAK,SAASC,GAEFA,EAASC,OAErBM,MAAM,SAAS+D,MC8Hd2E,CACEV,EACAhM,EAAKO,MAAM0J,KAAK9B,OAChBnI,EAAKO,MAAMqC,UACXY,KAAK,WACLxD,EAAK+J,gBAEF,CACL,IAAI4C,EAAY3M,EAAKO,MAAM0J,KAAKtG,MAAMsI,UAAU,SAAAC,GAC9C,OAAOA,EAAK7H,MAAQ2H,EAAQ3H,MAE1BuI,EAAY5M,EAAKO,MAAM0J,KAAKtG,MAChCiJ,EAAUC,OAAOF,EAAW,EAA5B1M,OAAA+K,EAAA,EAAA/K,CAAA,GACK+L,EADL,CAEExK,SAAUA,KAEZxB,EAAKkB,SAAS,CACZqJ,YAAY,EACZN,KAAKhK,OAAA+K,EAAA,EAAA/K,CAAA,GACAD,EAAKO,MAAM0J,KADZ,CAEFtG,MAAOiJ,EAAUxC,KAAKpK,EAAKqK,kBAG/BpC,EACE+D,EACAxK,EACAxB,EAAKO,MAAM0J,KAAK9B,OAChBnI,EAAKO,MAAMqC,UACXY,KAAK,WACLxD,EAAK+J,cA9PQ/J,EAmQnB8M,UAAY,SAAStF,GACnBrH,KAAKe,SAAS,CACZsG,aAAcA,EACdsC,UAAU,KAEZa,KALU1K,OAAA2K,EAAA,EAAA3K,QAAA2K,EAAA,EAAA3K,CAAAD,KAnQOA,EA0QnB+M,SAAW,SAASC,GAClB7M,KAAKe,SAAS,CACZ4I,UAAU,EACVtC,aAAcwF,EAAY,aAC1BC,SAAUD,EAAY,SACtBE,cAAeF,EAAY,iBAE7BrC,KAPS1K,OAAA2K,EAAA,EAAA3K,QAAA2K,EAAA,EAAA3K,CAAAD,KA1QQA,EAmRnBmN,SAAW,WAAkB,IAAjBC,EAAiBzK,UAAAsB,OAAA,QAAAoJ,IAAA1K,UAAA,GAAAA,UAAA,GAAV,MACjB,MAAa,QAATyK,EACKpN,EAAKO,MAAMoI,MAEpB,GAAA9G,OAAU7B,EAAKO,MAAMoI,MAAMyE,IAA3BvL,OAA4C,iBAATuL,EAA0B,KAAO,KAvRnDpN,EA0RnBsN,YAAc,SAASC,GACrBpN,KAAKe,SAAS,CACZqM,cAAeA,KAEjB5C,KAJY1K,OAAA2K,EAAA,EAAA3K,QAAA2K,EAAA,EAAA3K,CAAAD,KAvRZA,EAAKO,MAAQ,CACXwC,UAAW/B,EAAM+B,UACjBH,SAAUyD,IAEVmH,YAAa,QACbC,YAAY,EACZC,aAAc,eACdlG,aAAc,KACdyF,SAAU,KACVC,cAAe,KACfrK,eAAgB,KAEhBgH,WAAW,EACXI,KAAM,CACJ9B,OAAQ,KACRxE,MAAO,GACP2G,MAAO,CACLG,OAAQ,EACRC,wBAAyB,IAI7BH,YAAY,EAEZgB,QAAS,GAET5C,MAAOA,GA7BQ3I,mFAgSC2N,EAAWC,kFAO7B,OACEnM,EAAAC,EAAAC,cAAC6G,EAAeqF,SAAhB,CACEhN,MAAKZ,OAAA+K,EAAA,EAAA/K,CAAA,GAEAE,KAAKI,MAFL,CAGHiL,aAAcrL,KAAKqL,aACnBF,WAAYnL,KAAKmL,WACjBwB,UAAW3M,KAAK2M,UAChBQ,YAAanN,KAAKmN,YAClBxK,aAAc3C,KAAK2C,aACnBiK,SAAU5M,KAAK4M,SACfhJ,kBAAmB5D,KAAK4D,kBACxBgI,UAAW5L,KAAK4L,UAChBoB,SAAUhN,KAAKgN,SAASxC,KAAKxK,MAC7B0K,YAAa1K,KAAK0K,YAClBI,eAAgB9K,KAAK8K,eACrBT,WAAYrK,KAAKqK,WACjBZ,SAAUzJ,KAAKyJ,SACf2C,yBAA0BpM,KAAKoM,yBAC/BuB,QAAS3N,KAAK2N,QACd1C,kBAAmBjL,KAAKiL,qBAGzBjL,KAAKa,MAAM+M,iBA/TU1L,aAqUxB2L,EAAkBxF,EAAeyF,25CCrWlBC,cACnB,SAAAA,EAAYlN,GAAO,IAAAhB,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA+N,IACjBlO,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAiO,GAAA5N,KAAAH,KAAMa,KAQRmN,iBAAmB,WACjBnO,EAAKkB,SAAS,CAAE0B,SAAU,OAC1B5C,EAAKkB,SAAS,CAAEkN,OAAO,KAXNpO,EAcnBqO,eAAiB,SAAAC,GACftO,EAAKkB,SAAS,CAAE0B,SAAU0L,EAAKF,OAAO,IACtCpO,EAAKuO,KH0CF,SAAkB7J,GACvB,IACI8J,EADY9J,EAAEG,MAAM,KAAK,GACN4J,QAAQ,IAAK,KAAKA,QAAQ,IAAK,KACtD,OAAOnG,KAAKoG,MAAM7K,OAAO8K,KAAKH,IG7ChBI,CAASN,GACrBtO,EAAK8C,aAAa,OAAQ9C,EAAKuO,MAC/BvO,EAAKwK,cAhBLxK,EAAKO,MAAQ,CACX6N,OAAO,EACPxL,SAAU,KACV2I,QAAS,MALMvL,wEAqBV,IAAAc,EAAAX,KACP,OACEsB,EAAAC,EAAAC,cAAA,OAAKG,MAAO,CAAE+M,SAAU,IACtBpN,EAAAC,EAAAC,cAACqM,EAAD,KACG,SAAAc,GAIC,OAHAhO,EAAKgC,aAAegM,EAAiBhM,aACrChC,EAAK0J,WAAasE,EAAiBtE,WAGjC/I,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACoN,EAAD,CACEjN,MAAO,CAAEkN,QAASlO,EAAKP,MAAM6N,MAAQ,OAAS,SAE9C3M,EAAAC,EAAAC,cAACsN,GAAD,KACExN,EAAAC,EAAAC,cAACuN,GAAD,yBACmBzN,EAAAC,EAAAC,cAAA,SAAIkC,OAAOC,aAG9BrC,EAAAC,EAAAC,cAACwN,GAAD,KACE1N,EAAAC,EAAAC,cAAA,OAAKyN,GAAG,aAGV3N,EAAAC,EAAAC,cAACuN,GAAD,KACGG,GAAWnL,IAAI,SAACoL,EAAOtJ,GACtB,IAAIuJ,EAAKD,EAAK,WACVE,EAAQF,EAAK,SAEbG,EAAO,GAAA5N,OADJ,sCACI,gBAAAA,OAAwB0N,EAAxB,cAAA1N,OAAuC2N,GAClD,OACE/N,EAAAC,EAAAC,cAAA,OAAKf,IAAK2O,EAAKvJ,EAAGlE,MAAO,CAAE4N,aAAc,QACvCjO,EAAAC,EAAAC,cAAA,OAAKG,MAAO,CAAE6N,SAAU,UACtBlO,EAAAC,EAAAC,cAAA,KAAGiO,KAAMH,GACNF,EADH,KACSD,EAAMO,iBAMvBpO,EAAAC,EAAAC,cAAA,uDAC6CF,EAAAC,EAAAC,cAAA,WAC3CF,EAAAC,EAAAC,cAAA,uBAFF,QAEwBF,EAAAC,EAAAC,cAAA,qBAFxB,sEAOJF,EAAAC,EAAAC,cAACmO,GAAD,uDAWdjM,OAAOkM,aACP,IAAIC,EAAM3J,IACV2J,EAAM7P,KAAKkO,eAAe2B,GAAO7P,KAAKgO,0BAhFN9L,aAoF9B0M,EAAUkB,IAAOC,IAAVC,KAePlB,GAAWgB,IAAOC,IAAVE,KAYRN,GAAWG,IAAOC,IAAVG,KAURnB,GAAee,IAAOC,IAAVI,KAgBZnB,GAAcc,IAAOC,IAAVK,KAWXlB,GAAa,CACjB,CACEQ,YAAa,oBACbW,WAAY,MACZC,SAAU,83CClJC,SAASC,GAATxI,GAIZ,IAAAyI,EAAAzI,EAHD0B,gBAGC,IAAA+G,EAHU,aAGVA,EACK7B,EAAmBrG,IAAMmI,WAAWpI,GADzCqI,EAGyBpI,IAAMqI,SAAS,CACvC1C,OAAO,IAJR2C,EAAA9Q,OAAA+Q,EAAA,EAAA/Q,CAAA4Q,EAAA,GAGa3P,GAHb6P,EAAA,GAAAA,EAAA,IAiBD,OACEtP,EAAAC,EAAAC,cAACsP,GAAD,CACEnP,MAAO,CACLoP,OAAQ,IACRC,MAAOrC,EAAiB3B,SAAS,mBACjCiE,gBAAiB,YAGnB3P,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAC0P,EAAA,EAAD,CAASC,gBAAgB,qBAAqBC,OAAK,EAACC,GAAG,eACrD/P,EAAAC,EAAAC,cAAA,QAAMC,UAAU,eAAhB,UAEFH,EAAAC,EAAAC,cAAC0P,EAAA,EAAD,CAASC,gBAAgB,qBAAqBE,GAAG,yBAC/C/P,EAAAC,EAAAC,cAAA,QAAMC,UAAU,eAAhB,eAIJH,EAAAC,EAAAC,cAAC8P,GAAD,KACEhQ,EAAAC,EAAAC,cAAA,MAAIG,MAAO,CAAEkN,QAAS,OAAQ0C,eAAgB,WAC5CjQ,EAAAC,EAAAC,cAACgQ,GAAD,MACI7C,EAAiBlM,UACjBnB,EAAAC,EAAAC,cAACiQ,GAAD,CAAgBC,QAzBD,WACzB3Q,EAAS,CAAEkN,OAAO,MAwBR,UAIDU,EAAiBlM,UAAYkM,EAAiBP,MAC7C9M,EAAAC,EAAAC,cAACmQ,GAAD,KACErQ,EAAAC,EAAAC,cAACoQ,GAAD,KAAgBjD,EAAiBP,KAAKyD,SAK5CvQ,EAAAC,EAAAC,cAACsQ,EAAD,QAKFnD,EAAiBlM,UAAYkM,EAAiBP,MAAQ,QAAUO,EAAiB/L,WACjFtB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgBiQ,QAhDf,WACpBvL,EAAY,sBACZA,EAAY,wBACZzC,OAAOc,SAASuN,WA8CVzQ,EAAAC,EAAAC,cAAA,QAAMC,UAAU,SACdH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,0BAInBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cAAciQ,QAAS,SAAA9M,GAAC,OAAI6E,EAAS7E,KAClDtD,EAAAC,EAAAC,cAAA,QAAMC,UAAU,SACdH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,qBADf,WAQR,IAAM+P,GAAgB1B,IAAOC,IAAViC,MAObP,GAAiB3B,IAAOC,IAAVkC,MAgBdL,GAAgB9B,IAAOC,IAAVmC,MAMbpB,GAAahB,IAAOC,IAAVoC,MASVR,GAAW7B,IAAOC,IAAVqC,MAKRd,GAAQxB,IAAOuC,GAAVC,4jHChHX,IAuQMC,GAAYzC,IAAOC,IAAVyC,MAKTC,GAAW3C,IAAOC,IAAV2C,MASRC,GAAgB7C,IAAOC,IAAV6C,KAGI,SAAA/R,GAAK,OAAIA,EAAMD,MAAQ,MAWxCiS,GAAU/C,IAAOC,IAAV+C,KACF,SAAAjS,GAAK,OAAIA,EAAMmM,SAAS,cAC/B,SAAAnM,GAAK,OACJA,EAAMkS,UACPC,YADAC,KAIa,SAAApS,GAAK,SAAAa,OAAOb,EAAMmM,SAAS,aAAtB,OACL,SAAAnM,GAAK,SAAAa,OAAOb,EAAMmM,SAAS,aAAtB,OACR,SAAAnM,GAAK,SAAAa,OAAOb,EAAMmM,SAAS,aAAtB,OAEL,GAOe,SAAAnM,GAAK,OAAIA,EAAMmM,SAAS,oBAChC,SAAAnM,GAAK,OAAIA,EAAMmM,SAAS,iBAC9B,SAAAnM,GAAK,OAAIA,EAAMmM,SAAS,cAGnC,SAAAnM,GAAK,OACLA,EAAMkS,UACNC,YADAE,OAQE,SAAArS,GACA,OACGA,EAAMkS,UACPC,YADAG,KAEgB,SAAAtS,GAAK,OAAIA,EAAMmM,SAAS,iBAO1CoG,GAAkBtD,IAAOC,IAAVsD,MAefC,GAAiBxD,YAAOyD,IAAPzD,CAAH0D,MAQdC,GAAY3D,IAAOC,IAAV2D,MASTC,GAAiB7D,IAAOC,IAAV6D,KAChB,SAAA/S,GAAK,OACJA,EAAMkS,UACPC,YADAa,KAKM,SAAAhT,GAAK,OACLiT,KAAQjT,EAAMmM,SAAS,cACpB+G,MAAM,IACNC,YAIT,SAAAnT,GAAK,OACLA,EAAMkS,UACNC,YADAiB,QAWEC,GAAepE,IAAOC,IAAVoE,KAUQ,SAAAtT,GAAK,OAAIA,EAAMuT,QAGnCC,GAAqBvE,IAAOC,IAAVuE,KAEb,SAAAzT,GAAK,OAAIA,EAAMmM,SAAS,iBAI7BuH,GAAuBzE,IAAOC,IAAVyE,KAGZ,SAAA3T,GAAK,OAAIA,EAAMmM,SAAS,iBAKvByH,yBAnaA,SAAAjM,GAAK,MAAK,CACvBkM,MAAM5U,OAAA+K,EAAA,EAAA/K,CAAA,GACD0I,EAAMmM,OAAOC,UADb,CAEHC,WAAiC,EAArBrM,EAAMsM,QAAQC,KAC1BC,cAAoC,EAArBxM,EAAMsM,QAAQC,OAE/BE,UAAW,GACXC,KAAM,GAKNC,GAAI,CACFC,WAAY,OACZ5F,SAAU,QACVD,aAAc,EACdyB,MAAO,mBAETqE,EAAG,CACD3G,SAAU,EACVsC,MAAO,mBAET7G,MAAO,CACLuE,SAAU,EAEV0G,WAAY,MACZpE,MAAO,mBAETsE,MAAO,CACLC,UAAW,EACXC,OAAQ,EACRX,WAAY,SACZY,eAAgB,WAIlBC,QAAS,CACP7G,QAAS,QAEX8G,OAAQ,CACNC,UAAW,eACXC,WAAY,OACZxM,WAAYb,EAAMsN,YAAYC,OAAO,YAAa,CAChDC,SAAUxN,EAAMsN,YAAYE,SAASC,YAGzCC,WAAY,CACVN,UAAW,kBAEbO,OAAQ,CACNlF,gBAAiBmF,KAAI,QAiXV3B,CA7WU,SAAA1M,GAuBnB,IAAAsO,EAAAtO,EAtBJ6D,iBAsBI,IAAAyK,EAtBQ,aAsBRA,EAAAC,GAAAvO,EAnBJkE,eAmBIlE,EAhBJqE,iCAgBI,IAAAkK,EAhBuB,aAgBvBA,EAbJzK,EAaI9D,EAbJ8D,QACAjL,EAYImH,EAZJnH,MAYI2V,EAAAxO,EAXJgL,gBAWI,IAAAwD,EAXO,KAWPA,EAVJtV,EAUI8G,EAVJ9G,UACAmD,EASI2D,EATJ3D,UACAjD,EAQI4G,EARJ5G,MACA2L,EAOI/E,EAPJ+E,SACA3C,EAMIpC,EANJoC,MACA/I,EAKI2G,EALJ3G,YAKIoV,EAAAzO,EAJJiF,gBAII,IAAAwJ,EAJO,aAIPA,EADJnV,EACI0G,EADJ1G,SACIqP,EACsBpI,IAAMqI,SAAS,CACvCtQ,UAAU,EACVoW,WAAW,EACXnW,WAAW,IAJTsQ,EAAA9Q,OAAA+Q,EAAA,EAAA/Q,CAAA4Q,EAAA,GACGtQ,EADHwQ,EAAA,GACU7P,EADV6P,EAAA,GAAA8F,EAO4BpO,IAAMqI,SACvB,SAAboC,EAAsB1R,EAAW,GAR/BsV,EAAA7W,OAAA+Q,EAAA,EAAA/Q,CAAA4W,EAAA,GAAAC,EAAA,GAAAA,EAAA,GA2CJ,OAdArO,IAAMsO,UAAU,WAETxW,EAAME,WACTQ,WAAW,WACTC,EAAS,CACPT,WAAW,KAEJ,IAARM,KAQLU,EAAAC,EAAAC,cAACmR,GAAD,CAAelR,UAAYrB,EAAME,UAAwB,GAAZW,GAE3CK,EAAAC,EAAAC,cAACqR,GAAD,CAASE,SAAUA,EAAU/F,SAAUA,GAiBrC1L,EAAAC,EAAAC,cAAC0S,GAAD,CAGEvS,MAAO,GACPyS,MAAOhQ,EACPoE,MACe,SAAbuK,EACI,CACE8D,MAAO,IACPrB,OAAQ,KAEV,KAKRlU,EAAAC,EAAAC,cAAC8R,GAAD,KACEhS,EAAAC,EAAAC,cAACiS,GAAD,KAAYtS,GACZG,EAAAC,EAAAC,cAAC4R,GAAD,KAAkBhS,IAGN,SAAb2R,GACCzR,EAAAC,EAAAC,cAACmS,GAAD,CAAgBZ,SAAUA,EAAU/F,SAAUA,GAC5C1L,EAAAC,EAAAC,cAAC6S,GAAD,CAAoBrH,SAAUA,GAC3BF,EADH,IACcgK,KAAKC,MAAc,IAAR5M,GAAe,KAcxC7I,EAAAC,EAAAC,cAACwV,GAAAzV,EAAD,CACEI,MAAO,CACLqP,MAAO1I,IAAMmI,WAAWpI,GAAgB2E,SAAS,cAEnDiK,aAAW,cACXvF,QA/FY,WACtB9F,EAAUC,KAgGAvK,EAAAC,EAAAC,cAAC0V,GAAA3V,EAAD,QAkBQ,SAAbwR,GACCzR,EAAAC,EAAAC,cAACmS,GAAD,CAAgBZ,SAAUA,EAAU/F,SAAUA,GAC5C1L,EAAAC,EAAAC,cAAC+Q,GAAD,KACGlR,GAAY,GACXC,EAAAC,EAAAC,cAAC2V,GAAA5V,EAAD,CACEI,MAAO,CACLyV,QAAS,IAEX1F,QAAS,WACPtF,EAAyBP,EAASxK,EAAW,MAMlDA,EAAW,GACVC,EAAAC,EAAAC,cAAC6V,GAAA9V,EAAD,CACEI,MAAO,CACLyV,QAAS,IAEX1F,QAAS,WACPtF,EAAyBP,EAASxK,EAAW,MAKnDC,EAAAC,EAAAC,cAACiR,GAAD,KAAWpR,GACXC,EAAAC,EAAAC,cAAC8V,GAAA/V,EAAD,CACEmQ,QAAS,WACPtF,EAAyBP,EAASxK,EAAW,OAKnDC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC6S,GAAD,CAAoBrH,SAAUA,GAC3BF,EADH,IAlJM,SAAC3C,EAAOoN,GACxB,OAAOT,KAAKC,MAAM5M,EAAQoN,EAAI,KAAO,IAkJbC,CAAUrN,EAAO9I,KAQhCA,EAAW,GACVC,EAAAC,EAAAC,cAAC+S,GAAD,CAAsBvH,SAAUA,GAC7BF,EADH,IACcgK,KAAKC,MAAc,IAAR5M,GAAe,IADxC,kBAON7I,EAAAC,EAAAC,cAACK,EAAAN,EAAD,CAAUO,GAAI1B,EAAMC,SAAU0B,QAAQ,OAAOC,eAAa,GACxDV,EAAAC,EAAAC,cAACS,EAAAV,EAAD,KAAcH,qEC5QxB,SAASqW,GAAgB3K,GACvB,MAAO,CACL3I,KAAM2I,EACN4K,aAAc,EACdC,OAAQ,CACNC,SAAU9K,EACV+K,SAAU,KACVC,KAAK,GAEPC,WAAY,MAUhB,IAAIC,GAAgB,QA0Cb,SAASC,GAAqB3N,EAAQwC,EAAUoL,GACrD,IAAIC,EAAeC,WAAW9N,GAC9B,IAAKwC,GAAYuL,MAAMF,GACrB,MAAO,CACLG,kBAAmBhO,EAAS,IAAMwC,EAClCyL,IAAK,OAIT,IAAIC,EA1DN,SAA4B1L,GAC1B,OAAOA,GACH2L,GAAe3L,EAAS4L,gBACxBjB,GAAgB3K,GAuDE6L,CAAmB7L,GACrC8L,EAvBN,SAA4BV,GAC1B,OAAOA,GACHW,GARN,SAAsBX,GACpB,MAAO,CACLA,EAAOY,OAAO,EAAG,GAAGC,cACpBb,EAAOY,OAAO,EAAG,GAAGJ,eACpB/T,KAAK,KAIkBqU,CAAad,KAElCW,GAAqBb,IAmBHiB,CAAmBf,GAErCgB,EAAaf,EAAe,EAAI,IAAM,GACtCT,EAAec,EAAgBd,aAE/BC,EAASa,EAAgBb,OACzBwB,EAAoBP,EAAgBQ,UACpCC,EAAmBT,EAAgBU,QAEjC3B,IAAUA,EAAOG,KAAsC,MAA9Bc,EAAgBQ,YAC7CD,EAAoB,IACpBE,EAAmB,KAGrB,IAAIE,EAAiBzC,KAAK0C,IAAIrB,GAC3BsB,QAAQ/B,GACRhT,MAAM,KACT6U,EAAe,GAAKA,EAAe,GAAGjL,QACpC,0BACA,KAAO6K,GAET,IAAIO,EAAkBH,EAAe5U,KAAK0U,GAEtCf,EAAoBY,EAAaQ,EAAkB,IAAM5M,EACzDgL,GAAM,EAUV,OATIH,GAAUA,EAAOE,WACnBS,EACEY,EACAvB,EAAOE,SACJvJ,QAAQ,IAAKoL,GACbpL,QAAQ,IAAKqJ,EAAOC,UACzBE,EAAMH,EAAOG,KAGR,CACLQ,kBAAmBA,EACnBC,IAAKT,EAAM,MAAQ,uuDCqEvB,IAAM6B,GAAc7J,IAAOC,IAAV6J,MAeXC,GAAQ/J,IAAOC,IAAV+J,MAaLC,GAAQjK,IAAOC,IAAViK,MAULC,GAAQnK,IAAOC,IAAVmK,MAULC,GAAWrK,IAAOC,IAAVqK,MAaRC,GAAWvK,IAAOC,IAAVuK,MAaRC,GAAczK,IAAOC,IAAVyK,MAMFC,GAzPf,SAAA1S,GAA8BA,EAAdpG,MAAc,IAAA+O,EACoBpI,IAAMqI,UAAS,GADnCC,EAAA9Q,OAAA+Q,EAAA,EAAA/Q,CAAA4Q,EAAA,GACvBgK,EADuB9J,EAAA,GACJ+J,EADI/J,EAAA,GAGtBjC,EAAmBrG,IAAMmI,WAAWpI,GAEpCuS,EAAW,WACfjM,EAAiBhM,aAAa,aAAa,IAWvCkY,EAAkB,WACtBF,GAAqB,GNiHlB,SAA2B3S,EAAQnF,GACxC,IAAIC,EAAO,CACTC,IACE,2CACAW,OAAOC,WACP,iBACAqE,EACFhF,OAAQ,OACRC,QAAS,CACPC,cAAe,UAAYL,IAG/B,OAAOT,IAAMU,GACVO,KAAK,SAASC,GAEb,OAAOA,IAERO,MAAM,SAAS+D,MMjIKkT,CACnBnM,EAAiB7E,KAAK9B,OACtB2G,EAAiBlM,UAGhBY,KAAK,SAAAC,GACJI,OAAOqX,gBAAgBzX,EAASC,KAAT,OACvBG,OAAOsX,kBAAkBC,OACzBvX,OAAOsX,kBAAkBE,GACvBxX,OAAOsX,kBAAkBG,WAAWC,MACpC,SAAClQ,EAAO3H,GACNoX,GAAqB,KAGzBjX,OAAOsX,kBAAkBE,GACvBxX,OAAOsX,kBAAkBG,WAAWE,YACpC,SAACnQ,EAAO3H,GAAR,OAAiBoL,EAAiB1D,kBAAkBC,EAAO3H,OAG9DM,MAAM,SAAAe,OAGX,OACEtD,EAAAC,EAAAC,cAAA,WACGmN,EAAiBjF,WAChBpI,EAAAC,EAAAC,cAACqY,GAAD,KACEvY,EAAAC,EAAAC,cAACuY,GAAD,CACEpY,MAAO,CACLuH,QAAS,gBACTJ,aAAc6F,EAAiB3B,SAAS,gBACxCiE,gBAAiBtC,EAAiB3B,SAAS,WAC3CgE,MAAOrC,EAAiB3B,SAAS,eAGnC1L,EAAAC,EAAAC,cAAA,OACEG,MAAO,CACLsP,gBAAiBtC,EAAiB3B,SAAS,WAC3CgE,MAAOrC,EAAiB3B,SAAS,eAGnC1L,EAAAC,EAAAC,cAAC2Y,GAAD,CACExY,MAAO,CACLsP,gBAAe,GAAAvP,OAAKiN,EAAiB3B,SAAS,YAE9CsO,aAAY,aAAA5Z,OAAeoS,KACzBnF,EAAiB3B,SAAS,cAEzB+G,MAAM,IACNC,YAGL1S,EAAAC,EAAAC,cAAA,mBACAF,EAAAC,EAAAC,cAAC+Z,GAAAha,EAAD,CACEI,MAAO,CACL6Z,OAAQ,WAEV9J,QAAS,SAAA9M,GAAC,OAAIgW,QAIlBtZ,EAAAC,EAAAC,cAACmY,GAAD,KACGhL,EAAiB7E,MAChB6E,EAAiB7E,KAAKtG,MAAMO,IAAI,SAAC0X,EAAa5V,GAC5C,OACEvE,EAAAC,EAAAC,cAAA,OAAKf,IAAG,WAAAiB,OAAamE,IACnBvE,EAAAC,EAAAC,cAACka,GAAD,CACE7P,QAAS4P,EACThb,IAAKgb,EAAYvX,IACjBtD,MAAOiF,EACP5E,UAAU,eACViD,IAAKuX,EAAYvX,IACjB/C,MAAOsa,EAAYtX,KACnB/C,YAAaqa,EAAYra,YACzB+I,MAAOsR,EAAYtR,MAAMG,OACzBlG,UAAWqX,EAAYrX,UACvB0I,SAAU2O,EAAYtR,MAAM2C,SAC5BiG,SAAS,OACT/K,OAAQ2G,EAAiB7E,KAAK9B,OAC9BvF,SAAUkM,EAAiBlM,SAC3BwJ,eAAgB0C,EAAiB1C,eACjCG,yBACEuC,EAAiBvC,yBAEnB/K,SAAUoa,EAAYpa,cAK/BsN,EAAiB7E,MAChB6E,EAAiB7E,KAAKtG,MAAMM,QAAU,GAAKxC,EAAAC,EAAAC,cAAA,wBAG/CF,EAAAC,EAAAC,cAAC6Y,GAAD,CACE1Y,MAAO,CACLsP,gBAAe,GAAAvP,OAAKiN,EAAiB3B,SAAS,YAE9C2O,UAAS,aAAAja,OAAeoS,KACtBnF,EAAiB3B,SAAS,cAEzB+G,MAAM,IACNC,YAGL1S,EAAAC,EAAAC,cAAA,OAAKC,UAAU,KACdkN,EAAiB7E,MAChB6E,EAAiB7E,KAAKtG,MAAMM,OAAS,GACnCxC,EAAAC,EAAAC,cAAC+Y,GAAD,iBAEEjZ,EAAAC,EAAAC,cAAA,OACEG,MAAO,CACLia,SAAU,GACVC,UAAW,UAGZlN,EAAiBvE,YAChB6N,GA7HE,SAAAnO,GACxB,IAAIgS,EAAW,EAIf,OAHAhS,EAAKiS,QAAQ,SAASC,GACpBF,GAAYE,EAAQ7R,MAAMG,OAAS0R,EAAQ3a,WAEtCyV,KAAKC,MAAiB,IAAX+E,GAAkB,IAyHZG,CAAkBtN,EAAiB7E,KAAKtG,OACxCmL,EAAiB7E,KAAKtG,MAAM,GAAG2G,MAAM2C,UACrCwL,mBACF3J,EAAiBvE,YACjB6N,GACEtJ,EAAiB7E,KAAKK,MAAMG,OAC5BqE,EAAiB7E,KAAKK,MAAM2C,UAC5BwL,oBAIZhX,EAAAC,EAAAC,cAAC0a,GAAA3a,EAAD,CACE4a,QAAQ,YACRzK,QAAS,aAELgJ,GACA/L,EAAiB7E,KAAKtG,MAAMM,QAAU,IACnC+W,MANT,gBAeNvZ,EAAAC,EAAAC,cAACyY,GAAD,CAAOvI,QAAS,SAAA9M,GAAC,OAAIgW,oDC7GhBwB,OArDR,SAAArU,GAMJ,IAAAsU,EAAAtU,EALDV,oBAKC,IAAAgV,EALc,GAKdA,EAJDhP,EAICtF,EAJDsF,YAICiP,EAAAvU,EAHDwU,0BAGC,IAAAD,EAHoB,aAGpBA,EAOD,OANAjP,EAAc,UAAYA,EAAchG,EAAa,GAAG4H,GAAK5B,EAO3D/L,EAAAC,EAAAC,cAACgb,GAAA,iBAAD,CACEhU,MAAOiU,0BAAe,CACpBC,QAAS,CACPC,QAAS,CACPC,KAAMtU,IAAMmI,WAAWpI,GAAgB2E,SAAS,oBAKtD1L,EAAAC,EAAAC,cAACqb,GAAAtb,EAAD,CACEb,MAAO2M,EACPyP,eAAe,UACfC,UAAU,UACVpb,MAAO,CACLqP,MAAO1I,IAAMmI,WAAWpI,GAAgB2E,SAAS,gBAEnDgQ,UAAQ,GAEP3V,GACCA,EAAatD,IAAI,SAACoD,GAChB,OACE7F,EAAAC,EAAAC,cAACyb,GAAA1b,EAAD,CACEb,MAAOyG,EAAQ,GACf1G,IAAK0G,EAAQ,GACb6J,MAAM,YACN+L,UAAU,YACVG,MAAO/V,EAAQ,KACfuK,QAAS,SAAA9M,GA/BrB2X,EA+B0CpV,EA/BnB,KAgCXxF,MAAO,CACLqP,MAAO1I,IAAMmI,WAAWpI,GAAgB2E,SAAS,qnCC9C7DmQ,eACJ,SAAAA,EAAYtc,GAAO,IAAAhB,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmd,IACjBtd,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqd,GAAAhd,KAAAH,KAAMa,KAMR0b,mBAAqB,SAAAa,GACnBvd,EAAKgB,MAAM8B,aAAa,cAAeya,IANvCvd,EAAKwd,WAAa/U,IAAMgV,YACxBzd,EAAKO,MAAQ,GACbP,EAAK0c,mBAAqB1c,EAAK0c,mBAAmB/R,KAAxB1K,OAAA2K,EAAA,EAAA3K,QAAA2K,EAAA,EAAA3K,CAAAD,KAJTA,mFAWC,IAAAc,EAAAX,KACdA,KAAKa,MAAM4B,WAAazC,KAAKa,MAAMwG,eACrCrH,KAAKa,MAAM8B,aAAa,YAAY,GRhB3B,SAAf4a,EAAAC,GAAA,OAAAC,EAAAlb,MAAAvC,KAAAwC,WQiBMkb,CAAYha,OAAOC,WAAY3D,KAAKa,MAAM4B,UAAUY,KAAK,SAAAsa,GACvDhd,EAAKE,MAAM+L,SAAS+Q,uCAKjB,IAAAC,EAAA5d,KACP,OACEsB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACqM,EAAD,KAEI,SAAAc,GACE,OACErN,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACqc,GAAD,CACElc,MAAO,CACLsP,gBAAiB,cACjBD,MAAOrC,EAAiBnG,MAAjB,YAG0B,iBAAlCmG,EAAiBpB,cAClBoB,EAAiBtH,cACf/F,EAAAC,EAAAC,cAACsc,GAAD,KACExc,EAAAC,EAAAC,cAACuc,GAAD,KACEzc,EAAAC,EAAAC,cAACwc,GAAD,CACE3W,aAAcsH,EAAiBtH,aAC/BgG,YAAasB,EAAiBtB,YAC9BkP,mBAAoBqB,EAAKrB,sBAIM,iBAAlC5N,EAAiBpB,cAClBoB,EAAiBtH,aAAatD,IAAI,SAACoD,EAAU1G,GAC3C,GAC8B,UAA3Bmd,EAAK/c,MAAMwM,aACF,IAAR5M,GACyB,QAA3Bmd,EAAK/c,MAAMwM,aACXuQ,EAAK/c,MAAMwM,cAAgBlG,EAAQ,IACnCyW,EAAK/c,MAAMwM,cAAgBlG,EAAQ,KAEnC,OACE7F,EAAAC,EAAAC,cAAA,OAAKf,IAAKmd,EAAKP,YACb/b,EAAAC,EAAAC,cAACyc,GAAD,CACEjR,SAAU2B,EAAiB3B,SAASxC,KAClCoT,IAGDzW,EAAShD,MAEZ7C,EAAAC,EAAAC,cAAC0c,GAAD,KACG/W,EAASQ,UACVR,EAASQ,SAAS5D,IAChB,SAACC,EAAYvD,GACX,OACEa,EAAAC,EAAAC,cAACka,GAAD,CACEyC,IAAKP,EAAKP,WACV5c,IAAKuD,EAAWE,IAChBtD,MAAOH,EACPQ,UAAU,eACViD,IAAKF,EAAWE,IAChB/C,MAAO6C,EAAWG,KAClB/C,YACE4C,EAAW5C,YAEb+I,MAAOnG,EAAWmG,MAAMG,OACxBlG,UAAWJ,EAAWI,UACtB0I,SACE9I,EAAWmG,MAAM2C,SAEnBjB,QAAS7H,EACT4H,UACE+C,EAAiB/C,UAEnBoB,SAAU2B,EAAiB3B,SAASxC,KAClCoT,GAEF5V,OAAQ2G,EAAiB3G,OACzBvF,SACEkM,EAAiBlM,SAEnB2J,yBACEuC,EAAiBvC,8CAhGnClK,aAwHpB2b,GAAa/N,IAAOC,IAAVqO,MAIVN,GAAiBhO,IAAOC,IAAVsO,MAKdN,GAAUjO,IAAOC,IAAVuO,MAOPJ,GAAWpO,IAAOC,IAAVwO,MAcRN,GAAWnO,IAAOC,IAAVyO,KACH,SAAA3d,GAAK,OAAIA,EAAMmM,SAAS,eAapBmQ,kQCjJA1I,6BApBA,SAAAjM,GAAK,MAAK,CACvBiW,SAAU,CACRC,OAA6B,EAArBlW,EAAMsM,QAAQC,QAkBXN,CAdf,SAAmB5T,GAAO,IAChB8d,EAAY9d,EAAZ8d,QACR,OACErd,EAAAC,EAAAC,cAACod,GAAD,KACEtd,EAAAC,EAAAC,cAACqd,GAAAtd,EAAD,CAAkBE,UAAWkd,EAAQF,cAYrCG,GAAe9O,IAAOC,IAAV+O,2TCbZC,oLAEF,OACEzd,EAAAC,EAAAC,cAACwd,EAAA,EAAD,KACE1d,EAAAC,EAAAC,cAACqM,EAAD,KACG,SAAAc,GACC,OACErN,EAAAC,EAAAC,cAACF,EAAAC,EAAM0d,SAAP,KACE3d,EAAAC,EAAAC,cAAA,OAAKC,UAAU,IACbH,EAAAC,EAAAC,cAAC0d,GAAD,CAAQzV,SAAUkF,EAAiBlF,WACnCnI,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC2d,GAAD,KACE7d,EAAAC,EAAAC,cAAC4d,GAAD,MACA9d,EAAAC,EAAAC,cAAC6d,EAAA,EAAD,CAAOC,KAAK,cAAclO,OAAK,EAACmO,OAAQ,kBAAQ5Q,EAAiBhF,UAAYrI,EAAAC,EAAAC,cAACge,GAAgB7Q,MAC9FrN,EAAAC,EAAAC,cAAC6d,EAAA,EAAD,CAAOC,KAAK,wBAAwBC,OAAQ,kBAAQ5Q,EAAiBhF,UAAYrI,EAAAC,EAAAC,cAACie,EAAkB9Q,MACnGA,EAAiBhF,UAAYrI,EAAAC,EAAAC,cAACke,GAAD,SAKpCpe,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uCArBfS,aAgCZid,GAAYrP,IAAOC,IAAV4P,MAKTP,GAAUtP,YAAO2K,GAAP3K,CAAH8P,MAUEb,MClDKc,QACW,cAA7Bnc,OAAOc,SAASsb,UAEe,UAA7Bpc,OAAOc,SAASsb,UAEhBpc,OAAOc,SAASsb,SAASC,MACvB,2DCXNC,IAAST,OACPje,EAAAC,EAAAC,cAACye,EAAD,CAAiBrd,UAAWc,OAAOC,YACjCrC,EAAAC,EAAAC,cAAC0e,GAAD,OAEF3a,SAAS4a,eAAe,SDsHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMjd,KAAK,SAAAkd,GACjCA,EAAaC","file":"static/js/main.c8a56433.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst CancelToken = axios.CancelToken;\nlet cancel;\n\nexport const getInventory = (projectId, loginToken) => {\n  cancel && cancel();\n  let opts = {\n    url:\n    `https://store.xsolla.com/api/v1/project/${projectId}/user/inventory/items`,\n    method: \"GET\",\n    headers: {\n      Authorization: \"Bearer \" + loginToken\n    },\n    cancelToken: new CancelToken(function executor(c) {\n      cancel = c;\n    })\n  };\n  \n  return axios(opts)\n    .then(function(response) {\n      return response.data.items;\n    });\n}","import React, {Component} from \"react\";\n\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Collapse from \"@material-ui/core/Collapse\";\n\nimport './InventoryItem.css';\n\nexport class InventoryItem extends Component {\n  constructor() {\n    super();\n    this.state = {\n      expanded: false,\n      cardShown: false\n    }\n  }\n  \n  componentDidMount() {\n    const {\n      order\n    } = this.props;\n    \n    if (!this.state.cardShown) {\n      setTimeout(() => {\n        this.setState({\n          cardShown: true\n        });\n      }, order * 100);\n    }\n  }\n  \n  render() {\n    const {\n      initClass,\n      imageUrl,\n      title,\n      description,\n      quantity\n    } = this.props;\n    \n    return (\n      <div className={`inventory-item ${!this.state.cardShown ? initClass : \"\"}`}>\n        <div className=\"inventory-item-card\">\n          <div\n            className=\"inventory-item-card-media\"\n            style={{\n              backgroundImage: `url(${imageUrl})`\n            }}\n          />\n  \n          <div className=\"inventory-item-card-content\">\n            <div className=\"inventory-item-card-content-title\">{title}</div>\n            <div className=\"inventory-item-card-content-description\">{description}</div>\n          </div>\n          \n          <div className=\"inventory-item-card-actions\">\n            <div className=\"inventory-item-card-actions-quantity\">\n              {`Quantity: ${quantity}`}\n            </div>\n          </div>\n  \n          <Collapse in={this.state.expanded} timeout=\"auto\" unmountOnExit>\n            <CardContent>{description}</CardContent>\n          </Collapse>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from \"react\";\n\nimport {InventoryItem} from './InventoryItem';\nimport {getInventory} from './InventoryLoader';\n\nimport './InventoryList.css';\n\nexport class InventoryList extends PureComponent {\n  componentDidMount() {\n    if (this.props.logToken && null === this.props.inventoryItems) {\n      this.props.setStateFrom(\"fetching\", true);\n      getInventory(window.xProjectId, this.props.logToken)\n        .then(inventoryItems => {\n          this.props.setInventoryItems(inventoryItems);\n        })\n        .catch(() => {\n          this.props.setInventoryItems([]);\n        });\n    }\n  }\n  \n  componentWillUnmount() {\n    if (null !== this.props.inventoryItems) {\n      this.props.setInventoryItems(null);\n    }\n  }\n\n  render() {\n    const {inventoryItems} = this.props;\n    \n    return (\n      <div>\n        <div className=\"\">\n          <div className=\"inventory-list\">\n            {\n              inventoryItems && inventoryItems.length\n                ?\n                inventoryItems.map(\n                  (oneProduct, key) => {\n                    return (\n                      <InventoryItem\n                        key={oneProduct.sku}\n                        order={key}\n                        initClass=\"initialFlow1\"\n                        title={oneProduct.name}\n                        description={oneProduct.description}\n                        imageUrl={oneProduct.image_url}\n                        quantity={oneProduct.quantity}\n                      />\n                    );\n                  })\n                :\n                <div>\n                  Oops, you have nothing bought yet!\n                </div>\n            }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nconst eatCookie = () => {\n  const getCookie = o => {\n    for (\n      var e = o + \"=\",\n        n = decodeURIComponent(document.cookie).split(\";\"),\n        t = 0;\n      t < n.length;\n      t++\n    ) {\n      for (var i = n[t]; \" \" === i.charAt(0); ) i = i.substring(1);\n      if (0 === i.indexOf(e)) return i.substring(e.length, i.length);\n    }\n    return \"\";\n  };\n  const setCookie = (o, e) => {\n    var n = new Date();\n    n.setTime(n.getTime() + 864e5);\n    var t = \"expires=\" + n.toUTCString();\n    document.cookie = o + \"=\" + e + \";\" + t + \";path=/\";\n  };\n\n  function getQueryParams(o) {\n    o = o.split(\"+\").join(\" \");\n    for (var e, n = {}, t = /[?&]?([^=]+)=([^&]*)/g; (e = t.exec(o)); )\n      n[decodeURIComponent(e[1])] = decodeURIComponent(e[2]);\n    return n;\n  }\n\n  let o;\n  //console.log(\"let = \");\n  if (window.location.search) {\n    o = getQueryParams(window.location.search).token;\n  }\n  if (o) {\n    setCookie(\"xsolla_login_token\", o);\n    window.history.pushState(\"\", \"\", document.location.pathname);\n  } else {\n    o = getCookie(\"xsolla_login_token\");\n  }\n  if (o && o !== \"undefined\") {\n    //console.log(\"o = \", o);\n    return o;\n  } else {\n    return null;\n  }\n};\n\nexport default function Cookie() {\n  return 44056 === window.xProjectId\n    ? 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE5NjIyMzQwNDgsImlzcyI6Imh0dHBzOi8vbG9naW4ueHNvbGxhLmNvbSIsI'\n    + 'mlhdCI6MTU2MjE0NzY0OCwidXNlcm5hbWUiOiJ4c29sbGEiLCJ4c29sbGFfbG9naW5fYWNjZXNzX2tleSI6IjA2SWF2ZHpDeEVHbm5aMTlp'\n    + 'LUc5TmMxVWFfTWFZOXhTR3ZEVEY4OFE3RnMiLCJzdWIiOiJkMzQyZGFkMi05ZDU5LTExZTktYTM4NC00MjAxMGFhODAwM2YiLCJlbWFpbCI'\n    + '6InN1cHBvcnRAeHNvbGxhLmNvbSIsInR5cGUiOiJ4c29sbGFfbG9naW4iLCJ4c29sbGFfbG9naW5fcHJvamVjdF9pZCI6ImU2ZGZhYWM2LTc'\n    + '4YTgtMTFlOS05MjQ0LTQyMDEwYWE4MDAwNCIsInB1Ymxpc2hlcl9pZCI6MTU5MjR9.GCrW42OguZbLZTaoixCZgAeNLGH2xCeJHxl8u8Xn2aI'\n    : eatCookie();\n}\n\nexport function eraseCookie(o) {\n  return (document.cookie =\n    o + \"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;\");\n}\n\nexport function parseJwt(o) {\n  let base64Url = o.split(\".\")[1];\n  let base64 = base64Url.replace(\"-\", \"+\").replace(\"_\", \"/\");\n  return JSON.parse(window.atob(base64));\n}\n","import axios from \"axios\";\n\nconst CancelToken = axios.CancelToken;\nlet cancel;\n\nexport default async function StoreLoader(projectId, loginToken) {\n  let result;\n  let all = [];\n  let responseGroups = await fetch(\n    \"https://store.xsolla.com/api/v1/project/\" + projectId + \"/items/groups\",\n    {\n      method: \"GET\",\n      headers: {\n        Authorization: \"Bearer \" + loginToken\n      }\n    }\n  );\n  if (responseGroups) {\n    // only proceed once promise is resolved\n    let resolvedGroups = await responseGroups.json();\n    resolvedGroups = resolvedGroups[\"groups\"];\n    // only proceed once second promise is resolved\n\n    let fulfilledGroups = await Promise.all(\n      resolvedGroups.map((oneGroup, key) => {\n        //console.log(\"group\", oneGroup);\n        return loadByGroup(projectId, oneGroup);\n      })\n    ).then(fulfilledGroups => {\n      //console.log(\"fulfilledGroups = \", fulfilledGroups);\n      return fulfilledGroups;\n    });\n    all = all.concat(fulfilledGroups);\n  }\n\n  result = {\n    virtualItems: all\n  };\n  return result;\n}\n\nfunction loadByGroup(projectId, group) {\n  return new Promise((resolve, reject) => {\n    fetch(\n      \"https://store.xsolla.com/api/v1/project/\" +\n        projectId +\n        \"/items/virtual_items/group/\" +\n        group[\"external_id\"]\n    )\n      .then(response => response.json())\n      .then(json => {\n        let products = json[\"items\"];\n        group[\"products\"] = products;\n        resolve(group);\n      })\n      .catch(function(error) {\n        //console.log(\"Products ERROR = \", error.message);\n        reject(error.message);\n      });\n  });\n}\n\nexport function changeItemQuantityCart(\n  { sku = \"sku\" },\n  quantity,\n  cartId,\n  loginToken\n) {\n  cancel && cancel();\n  //console.log(\"sku added = \", sku, \" to cartId = \", cartId);\n  let opts = {\n    url:\n      \"https://store.xsolla.com/api/v1/project/\" +\n      window.xProjectId +\n      \"/cart/\" +\n      cartId +\n      \"/item/\" +\n      sku,\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\",\n      Authorization: \"Bearer \" + loginToken\n    },\n    data: JSON.stringify({\n      quantity: quantity\n    })\n  };\n  return axios(opts)\n    .then(function(response) {\n      //console.log(\"Item added = \", response.data);\n      let resp = response.data;\n    })\n    .catch(function(error) {\n      //console.log(\"L2PS ERROR = \", error.response);\n    });\n}\n\nexport function createCart(loginToken) {\n  let opts = {\n    url:\n      \"https://store.xsolla.com/api/v1/project/\" + window.xProjectId + \"/cart\",\n    method: \"POST\",\n    headers: {\n      Authorization: \"Bearer \" + loginToken\n    }\n  };\n  return axios(opts)\n    .then(function(response) {\n      //console.log('createCart ', response.data[\"id\"]);\n      return response;\n    })\n    .catch(function(error) {\n      //console.log(\"L2PS ERROR = \", error.response);\n    });\n}\n\nexport function removeItemFromCart({ sku = \"sku\" }, cartId, loginToken) {\n  cancel && cancel();\n  //console.log(\"sku removed = \", sku, \" from cartId = \", cartId);\n  let opts = {\n    url:\n      \"https://store.xsolla.com/api/v1/project/\" +\n      window.xProjectId +\n      \"/cart/\" +\n      cartId +\n      \"/item/\" +\n      sku,\n    method: \"DELETE\",\n    headers: {\n      Authorization: \"Bearer \" + loginToken\n    }\n  };\n  return axios(opts)\n    .then(function(response) {\n      //console.log(\"Item removed = \", response.data);\n      let resp = response.data;\n    })\n    .catch(function(error) {\n      //console.log(\"L2PS ERROR = \", error.response);\n    });\n}\n\nexport function getPsTokenBuyCart(cartId, loginToken) {\n  let opts = {\n    url:\n      \"https://store.xsolla.com/api/v1/project/\" +\n      window.xProjectId +\n      \"/payment/cart/\" +\n      cartId,\n    method: \"POST\",\n    headers: {\n      Authorization: \"Bearer \" + loginToken\n    }\n  };\n  return axios(opts)\n    .then(function(response) {\n      //console.log(\"PsToken generated = \", response.data);\n      return response;\n    })\n    .catch(function(error) {\n      //console.log(\"L2PS ERROR = \", error.response);\n    });\n}\n\nexport function getCart(cartId, loginToken) {\n  cancel && cancel();\n  let opts = {\n    url:\n      \"https://store.xsolla.com/api/v1/project/\" +\n      window.xProjectId +\n      \"/cart/\" +\n      cartId,\n    method: \"GET\",\n    headers: {\n      Authorization: \"Bearer \" + loginToken\n    },\n    cancelToken: new CancelToken(function executor(c) {\n      cancel = c;\n    })\n  };\n  return axios(opts)\n    .then(function(response) {\n      //console.log(\"PsToken generated = \", response.data);\n      return response;\n    })\n    .catch(function(error) {\n      //console.log(\"L2PS ERROR = \", error.response);\n    });\n}\n","import React, { Component } from \"react\";\nimport Cookie from \"./components/Cookie\";\nimport {\n  changeItemQuantityCart,\n  createCart,\n  removeItemFromCart,\n  getCart\n} from \"./components/StoreLoader\";\n\nconst ProductContext = React.createContext();\n//Provider\n//Consumer\n\nconst theme = {\n  colorText: \"#D6E0E7\",\n  colorAccent: \"#FF005B\",\n  colorAccentText: \"#F6FAFF\",\n  colorBg: \"#011627\",\n  colorSecondary: \"#495C6B\", //TODO: delete\n\n  borderRadius: 8,\n  backgroundUrl:\n    \"https://res.cloudinary.com/maiik/image/upload/v1549624607/Xsolla/HomePage_Hero_Illustration_1440_oabqmk.jpg\",\n\n  cardWidth: \"300\",\n\n  boxShadow: \"0 5px 12px 0px rgba(0,0,0,0.2)\",\n  padding: \"8px\",\n  transitionTime: \"0.3s\",\n  transitionEasing: \"ease-in-out\",\n  transition: `all 0.3s ease-in-out`,\n  // transition: `all ${theme['transitionTime']} ${theme['transitionTime']}`,\n  transitionStyle: \"0.3s ease-in-out\",\n  fontFamily:\n    '\"Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"'\n};\n\nclass ProductProvider extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      projectId: props.projectId,\n      logToken: Cookie(),\n\n      activeGroup: \"first\",\n      loginShown: true,\n      activeModule: \"virtualItems\",\n      virtualItems: null,\n      currency: null,\n      subscriptions: null,\n      inventoryItems: null,\n\n      cartShown: false,\n      cart: {\n        cartId: null,\n        items: [],\n        price: {\n          amount: 0,\n          amount_without_discount: 0\n        }\n      },\n\n      isFetching: false,\n\n      psToken: \"\",\n\n      theme: theme\n    };\n  }\n\n  showCart = () => {\n    this.setState({\n      cartShown: !this.state.cartShown\n    });\n  };\n  \n  setInventoryItems = (inventoryItems) => {\n    this.setState({\n      inventoryItems,\n      fetching: false\n    })\n  }\n\n  getCart = () => {\n    let cartPromise = getCart(this.state.cart.cartId, this.state.logToken);\n    cartPromise.then(response => {\n      if (!cartPromise.isCancel && response) {\n        this.setState(prevState => ({\n          cart: {\n            cartId: response.data[\"cart_id\"],\n            items: response.data[\"items\"].sort(this.compareItems),\n            price: response.data[\"price\"]\n          },\n          isFetching: false\n        }));\n      }\n    });\n  };\n\n  createCart = function() {\n    let cartIdPromise = createCart(this.state.logToken);\n    cartIdPromise.then(response => {\n      this.setState(prevState => ({\n        cart: {\n          cartId: response.data[\"id\"],\n          items: [],\n          price: {\n            amount: 0,\n            amount_without_discount: 0\n          }\n        }\n      }));\n    });\n  }.bind(this);\n\n  changeTheme = newTheme => {\n    let newColor = null;\n    if (typeof newTheme === \"string\") {\n      newColor = newTheme;\n      this.setState({\n        ...this.state,\n        theme: {\n          ...this.state.theme,\n          colorBg: newColor\n        }\n      });\n    } else {\n      this.setState(\n        {\n          ...this.state,\n          theme: {\n            ...this.state.theme,\n            ...newTheme\n          }\n        },\n        () => {}\n      );\n    }\n  };\n\n  changeCardSize = newSize => {\n    let newTheme = this.state.theme;\n    newTheme[\"cardWidth\"] = newSize;\n    this.changeTheme(newTheme);\n  };\n\n  clearCart = () => {\n    this.showCart();\n    this.createCart();\n  };\n\n  payStationHandler = (event, data) => {\n    this.clearCart();\n  };\n\n  setPsToken = function(psToken) {\n    this.setState({ psToken: psToken });\n  }.bind(this);\n\n  handleDetail = () => {\n    console.log(\"hello from handleDetail\");\n  };\n\n  setStateFrom = function(stateName, stateValue) {\n    this.setState({\n      ...this.state,\n      [stateName]: stateValue\n    });\n  }.bind(this);\n\n  compareItems = (a, b) => {\n    if (a.sku > b.sku) {\n      return 1;\n    }\n    if (a.sku < b.sku) {\n      return -1;\n    }\n    return 0;\n  };\n\n  addToCart = product => {\n    if (this.state.cart) {\n      let indexFind = this.state.cart.items.findIndex(elem => {\n        return elem.sku === product.sku;\n      });\n      if (indexFind !== -1) {\n        this.getCart();\n        this.setState({\n          cartShown: true\n        });\n      } else {\n        this.setState({\n          isFetching: true,\n          cart: {\n            ...this.state.cart,\n            items: [{ ...product, quantity: 1 }, ...this.state.cart.items].sort(\n              this.compareItems\n            ),\n            price: {\n              ...this.state.cart.price,\n              amount:\n                this.state.cart.price &&\n                this.state.cart.price.amount + product.price.amount,\n              amount_without_discount:\n                this.state.cart.price &&\n                this.state.cart.price.amount_without_discount +\n                  product.price.amount_without_discount\n            }\n          }\n        });\n        changeItemQuantityCart(\n          product,\n          1,\n          this.state.cart.cartId,\n          this.state.logToken\n        ).then(response => {\n          this.getCart();\n        });\n        this.showCart();\n      }\n    } else {\n      this.setState({ isFetching: true });\n      changeItemQuantityCart(\n        product,\n        1,\n        this.state.cart.cartId,\n        this.state.logToken\n      ).then(response => {\n        this.getCart();\n      });\n      this.showCart();\n    }\n  };\n\n  removeFromCart = product => {\n    if (this.state.cart) {\n      this.setState({\n        isFetching: true,\n        cart: {\n          ...this.state.cart,\n          items: this.state.cart.items\n            .filter(function(prod) {\n              return prod.sku !== product.sku;\n            })\n            .sort(this.compareItems),\n          price: {\n            ...this.state.cart.price,\n            amount:\n              this.state.cart.price.amount -\n              product.price.amount * product.quantity,\n            amount_without_discount:\n              this.state.cart.price.amount_without_discount -\n              product.price.amount_without_discount * product.quantity\n          }\n        }\n      });\n    }\n  };\n\n  changeItemQuantityInCart = (product, quantity) => {\n    if (quantity <= 0) {\n      this.removeFromCart(product);\n      removeItemFromCart(\n        product,\n        this.state.cart.cartId,\n        this.state.logToken\n      ).then(() => {\n        this.getCart();\n      });\n    } else {\n      let indexFind = this.state.cart.items.findIndex(elem => {\n        return elem.sku === product.sku;\n      });\n      let cartItems = this.state.cart.items;\n      cartItems.splice(indexFind, 1, {\n        ...product,\n        quantity: quantity\n      });\n      this.setState({\n        isFetching: true,\n        cart: {\n          ...this.state.cart,\n          items: cartItems.sort(this.compareItems)\n        }\n      });\n      changeItemQuantityCart(\n        product,\n        quantity,\n        this.state.cart.cartId,\n        this.state.logToken\n      ).then(() => {\n        this.getCart();\n      });\n    }\n  };\n\n  setGroups = function(virtualItems) {\n    this.setState({\n      virtualItems: virtualItems,\n      fetching: false\n    });\n  }.bind(this);\n\n  setCurrs = function(resolvedData) {\n    this.setState({\n      fetching: false,\n      virtualItems: resolvedData[\"virtualItems\"],\n      currency: resolvedData[\"currency\"],\n      subscriptions: resolvedData[\"subscriptions\"]\n    });\n  }.bind(this);\n\n  getTheme = (what = \"all\") => {\n    if (what === \"all\") {\n      return this.state.theme;\n    }\n    return `${this.state.theme[what]}${what === \"borderRadius\" ? \"px\" : \"\"}`;\n  };\n\n  setProducts = function(storeProducts) {\n    this.setState({\n      storeProducts: storeProducts\n    });\n  }.bind(this);\n\n  componentWillUpdate(nextProps, nextState) {}\n\n  componentDidMount() {}\n\n  render() {\n    // (this.state.storeProducts) && this.loadFromPS()\n\n    return (\n      <ProductContext.Provider\n        value={{\n          // products: this.state.products, //full\n          ...this.state, //all props and vals\n          handleDetail: this.handleDetail,\n          setPsToken: this.setPsToken,\n          setGroups: this.setGroups,\n          setProducts: this.setProducts,\n          setStateFrom: this.setStateFrom,\n          setCurrs: this.setCurrs,\n          setInventoryItems: this.setInventoryItems,\n          addToCart: this.addToCart,\n          getTheme: this.getTheme.bind(this),\n          changeTheme: this.changeTheme,\n          changeCardSize: this.changeCardSize,\n          createCart: this.createCart,\n          showCart: this.showCart,\n          changeItemQuantityInCart: this.changeItemQuantityInCart,\n          buyCart: this.buyCart,\n          payStationHandler: this.payStationHandler\n        }}\n      >\n        {this.props.children}\n      </ProductContext.Provider>\n    );\n  }\n}\n\nconst ProductConsumer = ProductContext.Consumer;\n\nexport { ProductContext, ProductProvider, ProductConsumer };\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { ProductConsumer } from \"../context\";\nimport Cookie, { parseJwt } from \"./Cookie\";\n\nexport default class XLogin extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      shown: true,\n      logToken: null,\n      psToken: null\n    };\n  }\n\n  unauthorizedFlow = () => {\n    this.setState({ logToken: null });\n    this.setState({ shown: true });\n  };\n\n  authorizedFlow = tkn => {\n    this.setState({ logToken: tkn, shown: false });\n    this.user = parseJwt(tkn);\n    this.setStateFrom(\"user\", this.user);\n    this.createCart();\n  };\n\n  render() {\n    return (\n      <div style={{ flexGrow: 1 }}>\n        <ProductConsumer>\n          {valueFromContext => {\n            this.setStateFrom = valueFromContext.setStateFrom;\n            this.createCart = valueFromContext.createCart;\n\n            return (\n              <div>\n                <CssXpop\n                  style={{ display: this.state.shown ? \"flex\" : \"none\" }}\n                >\n                  <CssXpopB>\n                    <CssLoginInfo>\n                      Current project: <b>{window.xProjectId}</b>\n                    </CssLoginInfo>\n\n                    <CssLoginPop>\n                      <div id=\"xl_auth\"></div>\n                    </CssLoginPop>\n\n                    <CssLoginInfo>\n                      {myProjects.map((onePr, i) => {\n                        let pr = onePr[\"project_id\"];\n                        let login = onePr[\"login_id\"];\n                        let url = `https://xsolla.github.io/store-demo`;\n                        let urlFull = `${url}?project_id=${pr}&login_id=${login}`;\n                        return (\n                          <div key={pr + i} style={{ marginBottom: \"1em\" }}>\n                            <div style={{ fontSize: \"0.4em\" }}>\n                              <a href={urlFull}>\n                                {pr}: {onePr.projectName}\n                              </a>\n                            </div>\n                          </div>\n                        );\n                      })}\n                      <p>\n                        Open any Xsolla Store using GET parameters <br />\n                        <b>project_id</b> and <b>login_id</b> (login must point\n                        back to https://xsolla.github.io/store-demo/)\n                      </p>\n                    </CssLoginInfo>\n                  </CssXpopB>\n                  <CssXpopZ />\n                </CssXpop>\n              </div>\n            );\n          }}\n        </ProductConsumer>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    window.XloginInit();\n    let cke = Cookie();\n    cke ? this.authorizedFlow(cke) : this.unauthorizedFlow();\n  }\n}\n\nconst CssXpop = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  min-height: 100%;\n  z-index: 1000;\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  justify-content: center;\n  overflow-y: scroll;\n  padding: 40px 0;\n`;\nconst CssXpopB = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  min-height: 100%;\n  z-index: 100;\n  display: flex;\n  align-content: center;\n  justify-content: center;\n  flex-direction: column;\n`;\nconst CssXpopZ = styled.div`\n  position: fixed;\n  z-index: 99;\n  background: rgba(0, 0, 0, 0.8);\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n`;\n\nconst CssLoginInfo = styled.div`\n  padding: 20px 70px;\n  display: flex;\n  align-content: center;\n  justify-content: center;\n  flex-direction: column;\n  flex-grow: 1;\n  font-size: 22px;\n  width: 600px;\n  & a {\n    /* font-family: 'PS Mono', Courier, monospace; */\n    text-decoration: underline;\n    font-size: 28px;\n    line-height: 0px;\n  }\n`;\nconst CssLoginPop = styled.div`\n  display: flex;\n  align-content: center;\n  justify-content: center;\n  text-align: center;\n  padding: 36px;\n  overflow: hidden;\n  margin: 0 70px;\n  border-radius: 8px;\n`;\n\nconst myProjects = [\n  {\n    projectName: \"Xsolla Store Demo\",\n    project_id: 47278,\n    login_id: \"fb2d7c69-bf25-11e9-9244-42010aa80004\"\n  }\n];\n","import React from \"react\";\nimport { NavLink } from 'react-router-dom';\n\nimport \"react-interactions/dist/main.css\";\nimport styled from \"styled-components\";\nimport { eraseCookie } from \"./Cookie\";\nimport XLogin from \"./XLogin.js\";\nimport { ProductContext } from \"../context\";\n\nimport '../styles/Navbar.css';\n\nexport default function Navbar({\n  showCart = () => {\n    void 0;\n  }\n}) {\n  const valueFromContext = React.useContext(ProductContext);\n\n  const [state, setState] = React.useState({\n    shown: false\n  });\n\n  const logOutHandler = () => {\n    eraseCookie(\"xsolla_login_token\", null);\n    eraseCookie(\"xsolla_last_click_id\", null);\n    window.location.reload();\n  };\n\n  const logInButtonHandler = () => {\n    setState({ shown: true });\n  };\n\n  return (\n    <NavWrapper\n      style={{\n        zIndex: 100,\n        color: valueFromContext.getTheme(\"colorAccentText\"),\n        backgroundColor: '#011627'\n      }}\n    >\n      <div className=\"navbar-links\">\n        <NavLink activeClassName=\"navbar-link_active\" exact to=\"/store-demo\">\n          <span className=\"navbar-link\">Store</span>\n        </NavLink>\n        <NavLink activeClassName=\"navbar-link_active\" to=\"/store-demo/inventory\">\n          <span className=\"navbar-link\">Inventory</span>\n        </NavLink>\n      </div>\n      \n      <NavUl>\n        <li style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <CssLoginPanel>\n            {!valueFromContext.logToken && (\n              <CssLoginButton onClick={logInButtonHandler}>\n                Log In\n              </CssLoginButton>\n            )}\n            {valueFromContext.logToken && valueFromContext.user && (\n              <CssLogin>\n                <CssLoginEmail>{valueFromContext.user.email}</CssLoginEmail>\n              </CssLogin>\n            )}\n          </CssLoginPanel>\n\n          <XLogin />\n        </li>\n      </NavUl>\n  \n      {\n        valueFromContext.logToken && valueFromContext.user && 44056 !== valueFromContext.projectId &&\n        <div className=\"navbar-logout\" onClick={logOutHandler}>\n          <span className=\"mr-10\">\n            <i className=\"fas fa-sign-out-alt\"></i>\n          </span>\n        </div>\n      }\n      <div className=\"navbar-cart\" onClick={e => showCart(e)}>\n        <span className=\"mr-10\">\n          <i className=\"fas fa-cart-plus\"></i> cart\n        </span>\n      </div>\n    </NavWrapper>\n  );\n}\n\nconst CssLoginPanel = styled.div`\n  flex-grow: 1;\n  text-transform: uppercase;\n  font-family: \"Roboto\";\n  color: \"var(--mainWhite)\";\n`;\n\nconst CssLoginButton = styled.div`\n  display: flex;\n  flex-direction: row;\n  font-size: 0.8rem;\n  line-height: 2em;\n  display: flex;\n  flex-direction: column;\n  justify-content: stretch;\n  font-family: \"Roboto\";\n  color: black;\n  background: var(--mainWhite);\n  border-radius: 4px;\n  padding: 0 0.6rem;\n  cursor: pointer;\n`;\n\nconst CssLoginEmail = styled.div`\n  font-family: \"Roboto\";\n  color: #ff005b;\n  margin: 0 1rem;\n`;\n\nconst NavWrapper = styled.div`\n  font-family: \"Helvetica Neue\", \"Roboto\", Arial, Helvetica, sans-serif;\n  color: var(--mainWhite);\n  position: relative;\n  display: flex;\n  align-items: center;\n  z-index: 10;\n`;\n\nconst CssLogin = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n\nconst NavUl = styled.ul`\n  display: flex;\n  flex-grow: 1;\n  flex-direction: row;\n  align-items: stretch;\n  justify-content: flex-end;\n  color: var(--mainWhite);\n  list-style-type: none;\n  position: relative;\n  z-index: 10;\n  margin-bottom: 0;\n`;\n","import React from \"react\";\n\nimport styled, { css } from \"styled-components\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport IconAdd from \"@material-ui/icons/AddBox\";\nimport IconRem from \"@material-ui/icons/IndeterminateCheckBox\";\nimport red from \"@material-ui/core/colors/red\";\nimport ShoppingCart from \"@material-ui/icons/ShoppingCart\";\nimport IconDelete from \"@material-ui/icons/Delete\";\nimport { ProductContext } from \"../context\";\nimport Colorer from \"color\";\n\nconst styles = theme => ({\n  paper: {\n    ...theme.mixins.gutters(),\n    paddingTop: theme.spacing.unit * 2,\n    paddingBottom: theme.spacing.unit * 2\n  },\n  cardTitle: {},\n  card: {\n    // minWidth: '300px',\n    // height: 300,\n    // marginBottom: 4 * 8,\n  },\n  h1: {\n    fontWeight: \"bold\",\n    fontSize: \"1.2em\",\n    marginBottom: 1 * 8,\n    color: \"var(--mainDark)\"\n  },\n  p: {\n    flexGrow: 1,\n    color: \"var(--mainDark)\"\n  },\n  price: {\n    flexGrow: 1,\n    // paddingLeft: 1 * 8,\n    fontWeight: \"600\",\n    color: \"var(--mainBlue)\"\n  },\n  media: {\n    marginTop: 1 * 8,\n    height: 0,\n    paddingTop: \"56.25%\", // 16:9\n    backgroundSize: \"contain\"\n    // backgroundSize: 'cover',\n    // backgroundColor: 'var(--lightBlue)',\n  },\n  actions: {\n    display: \"flex\"\n  },\n  expand: {\n    transform: \"rotate(0deg)\",\n    marginLeft: \"auto\",\n    transition: theme.transitions.create(\"transform\", {\n      duration: theme.transitions.duration.shortest\n    })\n  },\n  expandOpen: {\n    transform: \"rotate(180deg)\"\n  },\n  avatar: {\n    backgroundColor: red[500]\n  }\n});\n\nconst RecipeReviewCard = ({\n  addToCart = () => {\n    void 0;\n  },\n  removeFromCart = () => {\n    void 0;\n  },\n  changeItemQuantityInCart = () => {\n    void 0;\n  },\n  product,\n  order,\n  cardType = null,\n  initClass,\n  image_url,\n  title,\n  currency,\n  price,\n  description,\n  getTheme = () => {\n    void 0;\n  },\n  quantity\n}) => {\n  const [state, setState] = React.useState({\n    expanded: false,\n    favorited: false,\n    cardShown: false\n  });\n\n  let [cartState, setCartState] = React.useState(\n    cardType === \"cart\" ? quantity : 0\n  );\n\n  const handleCartClick = () => {\n    addToCart(product);\n  };\n\n  const calcPrice = (price, q) => {\n    return Math.round(price * q * 100) / 100;\n  };\n\n  const handleFavClick = event => {\n    setState(state => ({ favorited: !state.favorited }));\n    if (state.favorited === false) {\n      event.currentTarget.style.backgroundColor = \"var(--mainAccent)\";\n    } else {\n      event.currentTarget.style.backgroundColor = \"transparent\";\n    }\n    console.log(\"fav\");\n  };\n\n  React.useEffect(() => {\n    // debugger;\n    if (!state.cardShown) {\n      setTimeout(() => {\n        setState({\n          cardShown: true //TODO: зачем это\n        });\n      }, order * 100);\n    }\n  });\n\n  // const { classes } = props;\n  // const { sku, name, image_url, description, amount, currency } = props;\n\n  return (\n    <CssCardAppear className={!state.cardShown ? initClass : \"\"}>\n      {/* <CssCard> */}\n      <CssCard cardType={cardType} getTheme={getTheme}>\n        {/* <CardHeader className={classes.cardHeader}\n          // avatar={\n          //   <Avatar aria-label=\"Recipe\" className={classes.avatar}>\n          //     R\n          //   </Avatar>\n          // }\n          action={\n            <IconButton>\n              <MoreVertIcon />\n            </IconButton>\n          }\n          // title={title}\n          // subheader={info}\n        /> */}\n\n        {/* <Link to='/details'> */}\n        <CssCardMedia\n          // className={classes.media}\n          // title={title}\n          style={{}}\n          image={image_url}\n          theme={\n            cardType === \"cart\"\n              ? {\n                  width: 140,\n                  height: 140\n                }\n              : {}\n          }\n        />\n        {/* </Link> */}\n\n        <CssCardContent>\n          <CssCardH1>{title}</CssCardH1>\n          <CssDescEllipsis>{description}</CssDescEllipsis>\n        </CssCardContent>\n\n        {cardType !== \"cart\" && (\n          <CssCardActions cardType={cardType} getTheme={getTheme}>\n            <CssTypographyPrice getTheme={getTheme}>\n              {currency} {Math.round(price * 100) / 100}\n            </CssTypographyPrice>\n\n            {/*<IconButton*/}\n            {/*style={{*/}\n            {/*color: React.useContext(ProductContext).getTheme(\"colorText\")*/}\n            {/*}}*/}\n            {/*aria-label=\"Add to favorites\"*/}\n            {/*onClick={handleFavClick}*/}\n            {/*>*/}\n            {/*<FavoriteIcon />*/}\n            {/*</IconButton>*/}\n\n            {/* <Link to='/cart'> */}\n            <IconButton\n              style={{\n                color: React.useContext(ProductContext).getTheme(\"colorText\")\n              }}\n              aria-label=\"Add to Cart\"\n              onClick={handleCartClick}\n            >\n              <ShoppingCart />\n            </IconButton>\n            {/* </Link> */}\n\n            {/* <IconButton\n            className={classnames(classes.expand, {\n              [classes.expandOpen]: state.expanded,\n            })}\n            onClick={handleExpandClick}\n            aria-expanded={state.expanded}\n            aria-label=\"Show more\"\n          >\n            <ExpandMoreIcon />\n          </IconButton> */}\n            {/* </CssCardActionsBorder> */}\n          </CssCardActions>\n        )}\n\n        {cardType === \"cart\" && (\n          <CssCardActions cardType={cardType} getTheme={getTheme}>\n            <CssCartQs>\n              {quantity <= 1 && (\n                <IconDelete\n                  style={{\n                    opacity: 0.4\n                  }}\n                  onClick={() => {\n                    changeItemQuantityInCart(product, quantity - 1);\n                    //setCartState(cartState--);\n                  }}\n                />\n              )}\n\n              {quantity > 1 && (\n                <IconRem\n                  style={{\n                    opacity: 0.4\n                  }}\n                  onClick={() => {\n                    changeItemQuantityInCart(product, quantity - 1);\n                    //setCartState(cartState - 1);\n                  }}\n                />\n              )}\n              <CssCartQ>{quantity}</CssCartQ>\n              <IconAdd\n                onClick={() => {\n                  changeItemQuantityInCart(product, quantity + 1);\n                  //setCartState(cartState + 1);\n                }}\n              />\n            </CssCartQs>\n            <div>\n              <CssTypographyPrice getTheme={getTheme}>\n                {currency} {calcPrice(price, quantity)}\n              </CssTypographyPrice>\n\n              {/* <Link to='/cart'> */}\n\n              {/* </Link> */}\n            </div>\n\n            {quantity > 1 && (\n              <CssTypographyPriceSm getTheme={getTheme}>\n                {currency} {Math.round(price * 100) / 100} for one item\n              </CssTypographyPriceSm>\n            )}\n          </CssCardActions>\n        )}\n\n        <Collapse in={state.expanded} timeout=\"auto\" unmountOnExit>\n          <CardContent>{description}</CardContent>\n        </Collapse>\n      </CssCard>\n    </CssCardAppear>\n  );\n};\n\nconst CssCartQs = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n`;\nconst CssCartQ = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: bolder;\n  min-width: 44px;\n  font-size: 1.2em;\n`;\n\nconst CssCardAppear = styled.div`\n  position: relative;\n\n  /* transition: all ${props => props.order + \"s\"} ease-in-out; */\n  transition: transform 350ms ease-out, opacity 150ms ease-out;\n  &.initialFlow1 {\n    opacity: 0;\n    transform: translateY(20px) scale(1);\n  }\n`;\n\n// const CssCard = styled(Card)`\n// Карточка не корзина\n// Карточка корзина\nconst CssCard = styled.div`\n  color: ${props => props.getTheme(\"colorText\")};\n  ${props =>\n    !props.cardType &&\n    css`\n    display: flex;\n    flex-direction: column;\n    max-width: ${props => `${props.getTheme(\"cardWidth\")}px`};\n    min-width: ${props => `${props.getTheme(\"cardWidth\")}px`};\n    height: ${props => `${props.getTheme(\"cardWidth\")}px`};\n    /* height: 360px; */\n    margin: ${2 * 8}px;\n    flex-shrink: 0;\n    flex-grow: 1;\n    flex-base: 50%;\n    background: transparent;\n    /* boxShadow: none; */\n    /* color: var(--mainWhite); */\n    transition: box-shadow ${props => props.getTheme(\"transitionStyle\")};\n    border-radius: ${props => props.getTheme(\"borderRadius\")}\n    padding: ${props => props.getTheme(\"padding\")};\n  `}\n\n  ${props =>\n    props.cardType &&\n    css`\n      display: grid;\n      grid-template-columns: 20% 50% 30%;\n      grid-template-rows: 160px;\n      place-content: center;\n    `}\n  &:hover {\n    ${props => {\n      return (\n        !props.cardType &&\n        css`\n          box-shadow: ${props => props.getTheme(\"boxShadow\")};\n        `\n      );\n    }}\n  }\n`;\n\nconst CssDescEllipsis = styled.div`\n  display: block; /* Fallback for non-webkit */\n  display: -webkit-box;\n  /* max-height: 120px; */\n  width: 100%;\n  display: block; /* Fallback for non-webkit */\n  display: -webkit-box;\n  max-width: 400px;\n  margin: 0 auto;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nconst CssCardContent = styled(CardContent)`\n  min-height: 66px;\n  overflow: hidden;\n  flex-grow: 0;\n  padding-bottom: 0 !important;\n  margin-bottom: 8px;\n`;\n\nconst CssCardH1 = styled.div`\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n`;\n\n// Кнопки не корзина\n// Кнопки корзина\n// const CssCardActions = styled(CardActions)`\nconst CssCardActions = styled.div`\n  ${props =>\n    !props.cardType &&\n    css`\n      display: flex;\n      align-items: center;\n      border-top: 1px solid\n        ${props =>\n          Colorer(props.getTheme(\"colorText\"))\n            .alpha(0.1)\n            .string()};\n      padding: 8px 0 0 0;\n      margin: 0px 16px 0 16px;\n    `}\n  ${props =>\n    props.cardType &&\n    css`\n      padding: 16px 0;\n      width: 160px;\n      display: grid;\n      grid-template-columns: auto;\n      grid-row-gap: 8px;\n      place-content: start start;\n    `}\n`;\n\nconst CssCardMedia = styled.div`\n  display: block;\n  /* height: 0; */\n  margin-top: 8px;\n  min-height: 120px;\n  flex-grow: 1;\n  /* padding-top: 56.25%; */\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(${props => props.image});\n`;\n\nconst CssTypographyPrice = styled.div`\n  flex-grow: 1;\n  color: ${props => props.getTheme(\"colorAccent\")};\n  font-weight: 600;\n`;\n\nconst CssTypographyPriceSm = styled.div`\n  flex-grow: 1;\n  font-size: 0.8em;\n  /* color: ${props => props.getTheme(\"colorAccent\")}; */\n  /* font-weight: 600; */\n  opacity: 0.3;\n`;\n\nexport default withStyles(styles)(RecipeReviewCard);\n","import currencyFormat from \"currency-format\";\nimport currencyNumberFormat from \"currency-number-format\";\n\n// CURRENCY CODE\nfunction defaultCurrency(currency) {\n  return {\n    name: currency,\n    fractionSize: 2,\n    symbol: {\n      grapheme: currency,\n      template: null,\n      rtl: false\n    },\n    uniqSymbol: null\n  };\n}\nfunction getCurrencyOptions(currency) {\n  return currency\n    ? currencyFormat[currency.toUpperCase()] || defaultCurrency(currency)\n    : defaultCurrency(currency);\n}\n\n// LOCALE\nvar defaultLocale = \"en_US\";\nvar localesMap = {\n  ar: \"ar_AE\",\n  bg: \"bg_BG\",\n  cn: \"zh_CN\",\n  cs: \"cs_CZ\",\n  de: \"de_DE\",\n  en: \"en_US\",\n  es: \"es_ES\",\n  fr: \"fr_FR\",\n  he: \"he_IL\",\n  it: \"it_IT\",\n  ja: \"ja_JP\",\n  ko: \"ko_KR\",\n  pl: \"pl_PL\",\n  pt: \"pt_BR\",\n  ro: \"ro_RO\",\n  ru: \"ru_RU\",\n  th: \"th_TH\",\n  tr: \"tr_TR\",\n  tw: \"zh_TW\",\n  vi: \"vi_VN\"\n};\nfunction formatLocale(locale) {\n  return [\n    locale.substr(0, 2).toLowerCase(),\n    locale.substr(3, 2).toUpperCase()\n  ].join(\"_\");\n}\nfunction getLanguageOptions(locale) {\n  return locale\n    ? currencyNumberFormat[formatLocale(locale)] ||\n        currencyNumberFormat[defaultLocale]\n    : currencyNumberFormat[defaultLocale];\n}\nfunction map2to5Locale(locale) {\n  return locale && locale.length === 5\n    ? locale\n    : localesMap[locale] || defaultLocale;\n}\n\n// CURRENCY\nexport function getFormattedCurrency(amount, currency, locale) {\n  var parsedAmount = parseFloat(amount);\n  if (!currency || isNaN(parsedAmount)) {\n    return {\n      formattedCurrency: amount + \" \" + currency,\n      dir: \"ltr\"\n    };\n  }\n\n  var currencyOptions = getCurrencyOptions(currency);\n  var languageOptions = getLanguageOptions(locale);\n\n  var signAmount = parsedAmount < 0 ? \"-\" : \"\";\n  var fractionSize = currencyOptions.fractionSize;\n\n  var symbol = currencyOptions.symbol;\n  var thousandSeparator = languageOptions.thousands;\n  var decimalSeparator = languageOptions.decimal;\n  // Spike for escaping case when grapheme is arabic symbol, and russian style separators was chosen\n  if ((!symbol || symbol.rtl) && languageOptions.thousands === \" \") {\n    thousandSeparator = \",\";\n    decimalSeparator = \".\";\n  }\n\n  var splittedAmount = Math.abs(parsedAmount)\n    .toFixed(fractionSize)\n    .split(\".\");\n  splittedAmount[0] = splittedAmount[0].replace(\n    /(\\d)(?=(\\d{3})+(?!\\d))/g,\n    \"$1\" + thousandSeparator\n  );\n  var formattedAmount = splittedAmount.join(decimalSeparator);\n\n  var formattedCurrency = signAmount + formattedAmount + \" \" + currency;\n  var rtl = false;\n  if (symbol && symbol.template) {\n    formattedCurrency =\n      signAmount +\n      symbol.template\n        .replace(\"1\", formattedAmount)\n        .replace(\"$\", symbol.grapheme);\n    rtl = symbol.rtl;\n  }\n\n  return {\n    formattedCurrency: formattedCurrency,\n    dir: rtl ? \"rtl\" : \"ltr\"\n  };\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport Product from \"./Product\";\nimport IconClose from \"@material-ui/icons/Close\";\nimport Button from \"@material-ui/core/Button\";\nimport Colorer from \"color\";\nimport { getFormattedCurrency } from \"./formatCurrency\";\n\nimport { ProductContext } from \"../context\";\nimport { getPsTokenBuyCart } from \"./StoreLoader\";\n\nfunction Cart({ style = {} }) {\n  let [buyButtonDisabled, setBuyButtonDisabled] = React.useState(false);\n\n  const valueFromContext = React.useContext(ProductContext);\n\n  const hideCart = () => {\n    valueFromContext.setStateFrom(\"cartShown\", false);\n  };\n\n  const calculateSubtotal = cart => {\n    let subtotal = 0;\n    cart.forEach(function(element) {\n      subtotal += element.price.amount * element.quantity;\n    });\n    return Math.round(subtotal * 100) / 100;\n  };\n\n  const buyButtonAction = () => {\n    setBuyButtonDisabled(true);\n    let psTokenPromise = getPsTokenBuyCart(\n      valueFromContext.cart.cartId,\n      valueFromContext.logToken\n    );\n    psTokenPromise\n      .then(response => {\n        window.xPayStationInit(response.data[\"token\"]);\n        window.XPayStationWidget.open();\n        window.XPayStationWidget.on(\n          window.XPayStationWidget.eventTypes.CLOSE,\n          (event, data) => {\n            setBuyButtonDisabled(false);\n          }\n        );\n        window.XPayStationWidget.on(\n          window.XPayStationWidget.eventTypes.STATUS_DONE,\n          (event, data) => valueFromContext.payStationHandler(event, data)\n        );\n      })\n      .catch(e => {});\n  };\n\n  return (\n    <div>\n      {valueFromContext.cartShown && (\n        <Cart0>\n          <CartB\n            style={{\n              padding: \"0 32px 0 32px\",\n              borderRadius: valueFromContext.getTheme(\"borderRadius\"),\n              backgroundColor: valueFromContext.getTheme(\"colorBg\"),\n              color: valueFromContext.getTheme(\"colorText\")\n            }}\n          >\n            <div\n              style={{\n                backgroundColor: valueFromContext.getTheme(\"colorBg\"),\n                color: valueFromContext.getTheme(\"colorText\")\n              }}\n            >\n              <CssCartH\n                style={{\n                  backgroundColor: `${valueFromContext.getTheme(\"colorBg\")}`,\n                  // borderBottom: `1px solid ${valueFromContext.getTheme(\"colorText\")}`\n                  borderBottom: `1px solid ${Colorer(\n                    valueFromContext.getTheme(\"colorText\")\n                  )\n                    .alpha(0.1)\n                    .string()}`\n                }}\n              >\n                <h4>Cart {}</h4>\n                <IconClose\n                  style={{\n                    cursor: \"pointer\"\n                  }}\n                  onClick={e => hideCart(e)}\n                />\n              </CssCartH>\n\n              <CssCartList>\n                {valueFromContext.cart &&\n                  valueFromContext.cart.items.map((oneCartItem, i) => {\n                    return (\n                      <div key={`cartitem${i}`}>\n                        <Product\n                          product={oneCartItem}\n                          key={oneCartItem.sku}\n                          order={i}\n                          initClass=\"initialFlow1\"\n                          sku={oneCartItem.sku}\n                          title={oneCartItem.name}\n                          description={oneCartItem.description}\n                          price={oneCartItem.price.amount}\n                          image_url={oneCartItem.image_url}\n                          currency={oneCartItem.price.currency}\n                          cardType=\"cart\"\n                          cartId={valueFromContext.cart.cartId}\n                          logToken={valueFromContext.logToken}\n                          removeFromCart={valueFromContext.removeFromCart}\n                          changeItemQuantityInCart={\n                            valueFromContext.changeItemQuantityInCart\n                          }\n                          quantity={oneCartItem.quantity}\n                        />\n                      </div>\n                    );\n                  })}\n                {valueFromContext.cart &&\n                  valueFromContext.cart.items.length <= 0 && <p>Empty cart</p>}\n              </CssCartList>\n\n              <CssCartB\n                style={{\n                  backgroundColor: `${valueFromContext.getTheme(\"colorBg\")}`,\n                  // borderTop: `1px solid ${valueFromContext.getTheme(\"colorText\")}`\n                  borderTop: `1px solid ${Colorer(\n                    valueFromContext.getTheme(\"colorText\")\n                  )\n                    .alpha(0.1)\n                    .string()}`\n                }}\n              >\n                <div className=\"\" />\n                {valueFromContext.cart &&\n                  valueFromContext.cart.items.length > 0 && (\n                    <CssSubtotal>\n                      Subtotal:\n                      <div\n                        style={{\n                          minWidth: 80,\n                          textAlign: \"right\"\n                        }}\n                      >\n                        {valueFromContext.isFetching &&\n                          getFormattedCurrency(\n                            calculateSubtotal(valueFromContext.cart.items),\n                            valueFromContext.cart.items[0].price.currency\n                          ).formattedCurrency}\n                        {!valueFromContext.isFetching &&\n                          getFormattedCurrency(\n                            valueFromContext.cart.price.amount,\n                            valueFromContext.cart.price.currency\n                          ).formattedCurrency}\n                      </div>\n                    </CssSubtotal>\n                  )}\n                <Button\n                  variant=\"contained\"\n                  onClick={() => {\n                    !(\n                      buyButtonDisabled ||\n                      valueFromContext.cart.items.length <= 0\n                    ) && buyButtonAction();\n                  }}\n                >\n                  Check out\n                </Button>\n              </CssCartB>\n            </div>\n          </CartB>\n          {/* <Link to='/'> */}\n          <CartZ onClick={e => hideCart(e)} />\n          {/* </Link> */}\n        </Cart0>\n      )}\n    </div>\n  );\n}\n\nconst CssCartList = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 600px;\n  padding-top: 16px;\n  /* justify-content: center; */\n  /* align-items: center; */\n  /* position: fixed; */\n  /* left: 0; */\n  /* right: 0; */\n  /* top: 0; */\n  /* bottom: 0; */\n  /* z-index: 1; */\n`;\n\nconst Cart0 = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 100;\n`;\n\nconst CartB = styled.div`\n  flex: 1;\n  position: absolute;\n  max-width: 680px;\n  z-index: 1;\n  max-height: 80vh;\n  overflow-y: auto;\n  padding-top: 64px;\n`;\n\nconst CartZ = styled.div`\n  background-color: rgba(0, 0, 0, 0.8);\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 0;\n`;\n\nconst CssCartH = styled.div`\n  /* background-color: rgba(0,0,0,0.8); */\n  position: sticky;\n  top: 0;\n  z-index: 0;\n  /* height: 64px; */\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  z-index: 10;\n  padding: 24px 0 8px 0;\n`;\n\nconst CssCartB = styled.div`\n  /* background-color: rgba(0,0,0,0.8); */\n  position: sticky;\n  bottom: 0;\n  z-index: 0;\n  /* height: 64px; */\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  z-index: 10;\n  padding: 24px 0 24px 0;\n`;\n\nconst CssSubtotal = styled.div`\n  display: flex;\n  padding: 0 24px 0 24px;\n  font-weight: bold;\n`;\n\nexport default Cart;\n","import React from \"react\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport {\n  MuiThemeProvider,\n  createMuiTheme\n} from \"@material-ui/core/styles\";\n\nimport { ProductContext } from \"../context\";\n\nexport function MenuMaterial({\n  virtualItems = [],\n  activeGroup,\n  changeGroupHandler = () => {\n    void 0;\n  }\n}) {\n  activeGroup = 'first' === activeGroup ? virtualItems[0].id : activeGroup;\n\n  const handleChange = (event, data) => {\n    changeGroupHandler(data[\"id\"]);\n  };\n\n  return (\n    <MuiThemeProvider\n      theme={createMuiTheme({\n        palette: {\n          primary: {\n            main: React.useContext(ProductContext).getTheme(\"colorAccent\")\n          }\n        }\n      })}\n    >\n      <Tabs\n        value={activeGroup}\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n        style={{\n          color: React.useContext(ProductContext).getTheme(\"colorAccent\")\n        }}\n        centered\n      >\n        {virtualItems &&\n          virtualItems.map((oneGroup) => {\n            return (\n              <Tab\n                value={oneGroup[\"id\"]}\n                key={oneGroup[\"id\"]}\n                color=\"secondary\"\n                textColor=\"secondary\"\n                label={oneGroup[\"name\"]}\n                onClick={e => handleChange(e, oneGroup)}\n                style={{\n                  color: React.useContext(ProductContext).getTheme(\"colorText\")\n                }}\n              />\n            );\n          })}\n      </Tabs>\n    </MuiThemeProvider>\n  );\n}\n\nexport default MenuMaterial;\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { ProductConsumer } from \"../context\";\nimport MenuMaterial from \"./MenuMaterial.js\";\nimport Product from \"./Product\";\nimport StoreLoader from \"./StoreLoader\";\n\nclass ProductList extends Component {\n  constructor(props) {\n    super(props);\n    this.ProductRef = React.createRef();\n    this.state = {};\n    this.changeGroupHandler = this.changeGroupHandler.bind(this);\n  }\n\n  changeGroupHandler = newActive => {\n    this.props.setStateFrom(\"activeGroup\", newActive);\n  };\n\n  componentDidMount() {\n    if (this.props.logToken && !this.props.virtualItems) {\n      this.props.setStateFrom(\"fetching\", true);\n      StoreLoader(window.xProjectId, this.props.logToken).then(allData => {\n        this.props.setCurrs(allData);\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <ProductConsumer>\n          {\n            valueFromContext => {\n              return (\n                <div>\n                  <CssStore00\n                    style={{\n                      backgroundColor: \"transparent\",\n                      color: valueFromContext.theme[\"colorText\"]\n                    }}\n                  >\n                    {valueFromContext.activeModule === \"virtualItems\" &&\n                    valueFromContext.virtualItems && (\n                      <CssProductList>\n                        <CssMenu>\n                          <MenuMaterial\n                            virtualItems={valueFromContext.virtualItems}\n                            activeGroup={valueFromContext.activeGroup}\n                            changeGroupHandler={this.changeGroupHandler}\n                          />\n                        </CssMenu>\n                \n                        {valueFromContext.activeModule === \"virtualItems\" &&\n                        valueFromContext.virtualItems.map((oneGroup, key) => {\n                          if (\n                            (this.props.activeGroup === \"first\" &&\n                              key === 0) ||\n                            this.props.activeGroup === \"all\" ||\n                            this.props.activeGroup === oneGroup[\"id\"] ||\n                            this.props.activeGroup === oneGroup[\"name\"]\n                          ) {\n                            return (\n                              <div key={this.ProductRef}>\n                                <СssTitle\n                                  getTheme={valueFromContext.getTheme.bind(\n                                    this\n                                  )}\n                                >\n                                  {oneGroup.name}\n                                </СssTitle>\n                                <СssGroup>\n                                  {oneGroup.products &&\n                                  oneGroup.products.map(\n                                    (oneProduct, key) => {\n                                      return (\n                                        <Product\n                                          ref={this.ProductRef}\n                                          key={oneProduct.sku}\n                                          order={key}\n                                          initClass=\"initialFlow1\"\n                                          sku={oneProduct.sku}\n                                          title={oneProduct.name}\n                                          description={\n                                            oneProduct.description\n                                          }\n                                          price={oneProduct.price.amount}\n                                          image_url={oneProduct.image_url}\n                                          currency={\n                                            oneProduct.price.currency\n                                          }\n                                          product={oneProduct}\n                                          addToCart={\n                                            valueFromContext.addToCart\n                                          }\n                                          getTheme={valueFromContext.getTheme.bind(\n                                            this\n                                          )}\n                                          cartId={valueFromContext.cartId}\n                                          logToken={\n                                            valueFromContext.logToken\n                                          }\n                                          changeItemQuantityInCart={\n                                            valueFromContext.changeItemQuantityInCart\n                                          }\n                                        />\n                                      );\n                                    }\n                                  )}\n                                </СssGroup>\n                              </div>\n                            );\n                          }\n                        })}\n                      </CssProductList>\n                    )}\n                  </CssStore00>\n                </div>\n              );\n            }\n          }\n        </ProductConsumer>\n      </div>\n    );\n  }\n}\n\nconst CssStore00 = styled.div`\n  position: relative;\n  z-index: 4;\n`;\nconst CssProductList = styled.div`\n  /* position: relative;\n  z-index: 4; */\n`;\n\nconst CssMenu = styled.div`\n  /* display: flex; */\n  align-items: center;\n  flex-grow: 1;\n  margin: 24px 0;\n`;\n\nconst СssGroup = styled.div`\n  /* width: '100%'; */\n  display: flex;\n  flex-wrap: wrap;\n  /* align-items: center; */\n  /* justify-content: center; */\n  /* align-items: center; */\n  /* justify-content: center; */\n  /* display: grid; */\n  /* grid-template-columns: repeat( auto-fit, minmax(260px, 320px)); */\n  /* grid-row-gap: 24px; */\n  place-content: center;\n`;\n\nconst СssTitle = styled.div`\n  color: ${props => props.getTheme(\"colorText\")};\n  padding-top: 2em;\n  min-height: 2em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  width: 100%;\n  font-size: 1.2em;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n`;\n\nexport default ProductList;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport styled from \"styled-components\";\n\nconst styles = theme => ({\n  progress: {\n    margin: theme.spacing.unit * 2\n  }\n});\n\nfunction Preloader(props) {\n  const { classes } = props;\n  return (\n    <CssPreloader>\n      <CircularProgress className={classes.progress} />\n      {/* <CircularProgress className={classes.progress} color=\"secondary\" /> */}\n    </CssPreloader>\n  );\n}\n\nPreloader.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(Preloader);\n\nconst CssPreloader = styled.div`\n  z-index: 9;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n`;\n","import React, { Component } from \"react\";\nimport {BrowserRouter, Route} from 'react-router-dom';\nimport styled from \"styled-components\";\n\nimport \"./App.css\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport {InventoryList} from './features/inventory/InventoryList';\nimport Navbar from \"./components/Navbar\";\nimport Cart from \"./components/Cart\";\nimport ProductList from \"./components/ProductList\";\nimport Preloader from \"./components/Preloader.js\";\nimport { ProductConsumer } from \"./context\";\n\nclass App extends Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <ProductConsumer>\n          {valueFromContext => {\n            return (\n              <React.Fragment>\n                <div className=\"\">\n                  <Navbar showCart={valueFromContext.showCart} />\n                  <div>\n                    <CssStore0>\n                      <CssCart />\n                      <Route path=\"/store-demo\" exact render={() => (!valueFromContext.fetching && <ProductList {...valueFromContext} />)} />\n                      <Route path=\"/store-demo/inventory\" render={() => (!valueFromContext.fetching && <InventoryList {...valueFromContext} />)} />\n                      {valueFromContext.fetching && <Preloader />}\n                    </CssStore0>\n                  </div>\n                </div>\n  \n                <div className=\"global-background\">\n                  <div className=\"global-background-tint\" />\n                </div>\n              </React.Fragment>\n            );\n          }}\n        </ProductConsumer>\n      </BrowserRouter>\n    );\n  }\n}\n\nconst CssStore0 = styled.div`\n  overflow-y: auto;\n  z-index: 1;\n`;\n\nconst CssCart = styled(Cart)`\n  left: 0;\n  top: 0;\n  height: 100vh;\n  display: grid;\n  align-items: center;\n  position: relative;\n  z-index: 100;\n`;\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit http://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See http://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { ProductProvider } from \"./context\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <ProductProvider projectId={window.xProjectId}>\n    <App />\n  </ProductProvider>,\n  document.getElementById(\"root\")\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}