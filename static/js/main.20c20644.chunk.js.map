{"version":3,"sources":["features/inventory/InventoryLoader.js","features/inventory/InventoryItem.js","features/inventory/InventoryList.js","components/Product.js","components/Cookie.js","components/StoreLoader.js","context.js","features/physical/PhysicalList.js","features/physical/PhysicalListLoader.js","features/StoreLoader.js","components/MenuMaterial.js","features/manage/ManageInventory.js","features/manage/ManageInventoryLoader.js","components/ProductCard.js","components/Currency.js","features/virtual/VirtualItem.js","features/virtual/VirtualList.js","components/formatCurrency.js","components/Preloader.js","components/Cart.js","features/entitlement/EntitlementLoader.js","features/serverPurchase/ServerPurchase.js","features/serverPurchase/ServerPurchaseLoader.js","features/entitlement/EntitlementItem.js","features/entitlement/EntitlementList.js","styles/devices.js","features/cart/CartItem.js","features/cart/Cart.js","utils/routes.js","components/XLogin.js","components/Navbar.js","components/MobileNavbar.js","components/VCPackagesList.js","App.js","serviceWorker.js","index.js"],"names":["cancel","InventoryItem","_Component","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","expanded","cardShown","inherits","createClass","key","value","_this2","order","props","setTimeout","setState","_this$props","initClass","imageUrl","title","description","quantity","handleConsumeItem","remainingUses","react_default","a","createElement","className","concat","style","backgroundImage","Button","variant","onClick","Collapse","in","timeout","unmountOnExit","CardContent","Component","CancelToken","axios","InventoryList","_PureComponent","apply","arguments","logToken","inventoryItems","updateInventory","updateVirtualCurrencyBalance","setInventoryItems","prevProps","cart","cartId","items","length","cartWithItemsBuyingByVC","setStateFrom","init","projectId","window","xProjectId","version","loginToken","opts","url","method","headers","Authorization","cancelToken","c","then","response","data","getInventory","catch","item","token","Inventory","consumeItem","sku","instance_id","finally","_this3","filter","product","type","map","oneProduct","InventoryItem_InventoryItem","name","image_url","remaining_uses","PureComponent","useStyles","makeStyles","currencies","height","width","marginRight","CssCartQs","styled","div","_templateObject","CssCartQ","_templateObject2","CssCardAppear","_templateObject3","CssCard","_templateObject4","getTheme","cardType","css","_templateObject5","_templateObject6","_templateObject7","CssDescEllipsis","_templateObject8","CssCardContent","_templateObject9","CssCardH1","_templateObject10","CssCardActions","_templateObject11","_templateObject12","Colorer","alpha","string","_templateObject13","CssCardVCActions","_templateObject14","_templateObject15","_templateObject16","CssCardMedia","_templateObject17","image","CssTypographyPrice","_templateObject18","CssTypographyPriceSm","_templateObject19","withStyles","theme","paper","objectSpread","mixins","gutters","paddingTop","spacing","paddingBottom","cardTitle","card","h1","fontWeight","fontSize","marginBottom","color","p","flexGrow","price","media","marginTop","backgroundSize","actions","display","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","avatar","backgroundColor","red","_ref","_ref$addToCart","addToCart","_ref$changeItemQuanti","removeFromCart","changeItemQuantityInCart","_ref$buyByVC","buyByVC","activeGroup","_ref$cardType","currency","_ref$getTheme","_React$useState","React","useState","favorited","_React$useState2","slicedToArray","classes","_React$useState3","_React$useState4","useEffect","hasVirtualCurrencyPrice","virtual_prices","Avatar","src","amount","Math","round","vcSku","bind","ShoppingCart_default","Delete_default","opacity","IndeterminateCheckBox_default","AddBox_default","q","calcPrice","eatCookie","o","location","search","split","join","e","n","t","exec","decodeURIComponent","getQueryParams","Date","setTime","getTime","toUTCString","document","cookie","setCookie","history","pushState","pathname","i","charAt","substring","indexOf","getCookie","Cookie","eraseCookie","StoreLoader","_x","_x2","_StoreLoader","_callee","result","all","responseGroups","virtualCurrency","virtualCurrencyPackages","resolvedGroups","fulfilledGroups","regenerator_default","wrap","_context","prev","next","fetch","sent","json","Promise","oneGroup","loadByGroup","virtualItems","abrupt","stop","group","resolve","reject","products","error","message","changeItemQuantityCart","_ref$sku","Content-Type","JSON","stringify","getPsTokenBuyCart","getCart","console","ProductContext","createContext","colorText","colorAccent","colorAccentText","colorBg","borderRadius","backgroundUrl","cardWidth","boxShadow","padding","transitionTime","transitionEasing","transitionStyle","fontFamily","ProductProvider","showCart","cartShown","showCartError","cartError","setSideMenuVisibility","isSideMenuShown","hideCartError","isFetching","setEntitlementItems","entitlementItems","setPhysicalItems","physicalItems","cartPromise","isCancel","sort","compareItems","createCart","amount_without_discount","changeTheme","newTheme","changeCardSize","newSize","clearCart","payStationHandler","setPsToken","psToken","handleDetail","log","stateName","stateValue","defineProperty","b","cartWithItemsBuyingByVCShown","vcPriceSku","clearVCCart","findIndex","elem","toConsumableArray","errorMessage","prod","_ref2","_ref2$sku","removeItemFromCart","indexFind","cartItems","splice","hideCart","setGroups","setCurrs","resolvedData","subscriptions","what","undefined","setProducts","storeProducts","getVirtualCurrencyBalance","reps","userBalanceVirtualCurrency","loginShown","activeModule","Provider","buyCart","children","ProductConsumer","Consumer","PhysicalList","isPurchasing","updateCatalogue","PhysicalGood","getPhysicalGoodList","getPsTokenByItem","xPayStationInit","XPayStationWidget","open","on","eventTypes","CLOSE","_this4","valueFromContext","Product","ref","ProductRef","useTabStyles","root","justifyContent","scroller","MenuMaterial","changeGroupHandler","id","ThemeProvider","createMuiTheme","palette","primary","main","useContext","Tabs","indicatorColor","textColor","scrollButtons","Tab","label","ManageInventory","manageInventoryGroups","activeInventoryGroup","find","g","itemSku","inventoryItem","setItemQuantity","setManageInventoryItems","manageInventoryItems","fetching","singleItemName","setManageInventoryCurrencies","manageInventoryCurrencies","users","user","showToast","statusToast","operationDetails","invoice","date","getItems","getCurrencies","getVirtualItemList","virtualItemsList","getVirtualCurrencyList","virtualCurrencyList","event","target","parseInt","isVisible","_this$state","body","count","purchase","external_purchase_id","external_purchase_date","rewardItems","operations","itemOperation","_this5","_this$state2","Alert","onClose","setShowToast","show","dismissible","Heading","onChange","changeUser","components_MenuMaterial","changeInventoryItem","TextField","inputProps","min","step","defaultValue","InputLabelProps","rewardItem","revokeItem","ProductCard","actionButtonContent","onAction","isHovered","setHovered","Grow","CardAppear","hovered","Card","onMouseEnter","onMouseLeave","CardImage","ProductCard_CardContent","CardTitle","collapsedHeight","react_dotdotdot_src_default","animate","clamp","CardFooter","CardQuantity","ProductCard_templateObject","ProductCard_templateObject2","MUICardContent","ProductCard_templateObject3","ProductCard_templateObject4","ProductCard_templateObject5","ProductCard_templateObject6","ProductCard_templateObject7","Currency","Body","CurrencyIcon","CurrencyAcronym","Currency_templateObject","span","Currency_templateObject2","Currency_templateObject3","VirtualItem","ProductCard_ProductCard","Currency_Currency","VirtualList","_React$useContext","activeGroupID","VirtualList_Body","Fragment","VirtualList_Tabs","_","VirtualList_Tab","Title","Group","VirtualItem_VirtualItem","VirtualList_templateObject","VirtualList_templateObject2","VirtualList_templateObject3","MUITabs","VirtualList_templateObject4","MUITab","VirtualList_templateObject5","defaultCurrency","fractionSize","symbol","grapheme","template","rtl","uniqSymbol","defaultLocale","getFormattedCurrency","locale","parsedAmount","parseFloat","isNaN","formattedCurrency","dir","currencyOptions","currencyFormat","toUpperCase","getCurrencyOptions","languageOptions","currencyNumberFormat","substr","toLowerCase","formatLocale","getLanguageOptions","signAmount","thousandSeparator","thousands","decimalSeparator","decimal","splittedAmount","abs","toFixed","replace","formattedAmount","progress","margin","CssPreloader","CircularProgress","Preloader_templateObject","CssCartList","Cart_templateObject","Cart0","Cart_templateObject2","CartB","Cart_templateObject3","CartZ","Cart_templateObject4","CssCartH","Cart_templateObject5","CssCartB","Cart_templateObject6","CssSubtotal","Cart_templateObject7","ServerPurchase","withRouter","buyButtonDisabled","setBuyButtonDisabled","buyByVirtualCurrencyButtonAction","quickPurchaseBuyVirtualCurrency","reason","borderBottom","Close_default","cursor","oneCartItem","borderTop","minWidth","textAlign","subtotal","forEach","element","calculateSubtotal","push","STATUS_DONE","components_Preloader","crypto","getRandomValues","Uint8Array","toString","platform","generateUUID","toISOString","cartItem","purchaseItems","operation","index","EntitlementItem","EntitlementList","code","hasRedeemError","handleChangeCode","assertThisInitialized","handleChangeSku","handleSubmit","updateEntitlement","getEntitlement","redeemCode","project_id","digital_content_sku","language","redeem","k","preventDefault","onSubmit","size","placeholder","EntitlementItem_EntitlementItem","device","mobileS","mobileM","mobileL","tablet","laptop","laptopL","desktop","retina","CartItemComponent","changeItemQuantity","handleQuantityDec","CartItem","CartItemImage","CartItemBody","ItemName","ItemPrice","CartItemTotal","CartItemPriceForOne","PriceInfo","QuantityActions","DecrementIcon","DeleteIcon","ItemQuantity","IncrementIcon","CartItem_templateObject","CartItem_templateObject2","CartItem_templateObject3","CartItem_templateObject4","CartItem_templateObject5","CartItem_templateObject6","CartItem_templateObject7","CartItem_templateObject8","CartItem_templateObject9","CartItem_templateObject10","MUIDeleteIcon","CartItem_templateObject11","MUIDecrementIcon","CartItem_templateObject12","MUIIncrementIcon","CartItem_templateObject13","Modal","MUIModal","cart_Cart_templateObject","IconClose","MUIIconClose","cart_Cart_templateObject2","CartContent","cart_Cart_templateObject3","CartHeader","cart_Cart_templateObject4","CartList","cart_Cart_templateObject5","CartFooter","cart_Cart_templateObject6","CartActions","cart_Cart_templateObject7","Subtotal","Cart_templateObject8","Price","Cart_templateObject9","Cart","Cart_Modal","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","CartItem_CartItemComponent","reduce","acc","x","disabled","routes","physical","inventory","entitlement","manage","navItems","route","getMenuItems","includes","XLogin","unauthorizedFlow","shown","authorizedFlow","tkn","base64","parse","atob","parseJwt","CssXpop","CssXpopB","CssLoginInfo","CssLoginPop","myProjects","onePr","pr","login","urlFull","href","projectName","CssXpopZ","XloginInit","cke","XLogin_templateObject","XLogin_templateObject2","XLogin_templateObject3","XLogin_templateObject4","XLogin_templateObject5","login_id","Menu","MUIMenu","Navbar_templateObject","Navbar_templateObject2","Navbar_templateObject3","Link","NavLink","Navbar_templateObject4","MenuButton","MUIIconButton","Navbar_templateObject5","VCCurrency","Navbar_templateObject6","LoginPanel","Navbar_templateObject7","LoginButton","Navbar_templateObject8","CartButton","Navbar_templateObject9","UserMail","Navbar_templateObject10","Header","header","Navbar_templateObject11","menuAnchor","setMenuAnchor","handleMenuClose","isLogged","generalMenuItems","userMenuItems","Hidden","mdDown","Navbar_Tabs","component","Navbar_Tab","to","lgUp","Menu_default","vc","currentTarget","email","XLogin_XLogin","reload","ExitToAppOutlined_default","xsDown","Navbar_Menu","anchorEl","getContentAnchorEl","transformOrigin","vertical","horizontal","anchorOrigin","Boolean","activeClassName","Content","MobileNavbar_templateObject","Divider","MUIDivider","MobileNavbar_templateObject2","MenuDivider","MobileNavbar_templateObject3","IconButton","MobileNavbar_templateObject4","MobileNavbar_templateObject5","MobileNavbar_templateObject6","MobileNavbar_templateObject7","MobileNavbar_templateObject8","MobileNavbar","closeMenu","SwipeableDrawer","anchor","onOpen","MobileNavbar_Header","MobileNavbar_IconButton","MobileNavbar_UserMail","ChevronLeft_default","MobileNavbar_Divider","MobileNavbar_Tabs","orientation","MobileNavbar_Tab","VCPackagesList","newActive","createRef","allData","CssStore00","CssProductList","СssGroup","VCPackagesList_templateObject","VCPackagesList_templateObject2","VCPackagesList_templateObject3","VCPackagesList_templateObject4","VCPackagesList_templateObject5","Background","App_templateObject","BackgroundOverlay","App_templateObject2","App","HashRouter","basename","components_Navbar","Cart_Cart","Switch","Route","path","exact","render","InventoryList_InventoryList","components_VCPackagesList","PhysicalList_PhysicalList","EntitlementList_EntitlementList","ManageInventory_ManageInventory","ServerPurchase_ServerPurchase","hostname","match","ReactDOM","context_ProductProvider","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.20c20644.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst CancelToken = axios.CancelToken;\nlet cancel;\n\nexport const getInventory = (projectId, loginToken) => {\n  cancel && cancel();\n  let opts = {\n    url:\n    `https://store.xsolla.com/api/v2/project/${projectId}/user/inventory/items`,\n    method: \"GET\",\n    headers: {\n      Authorization: \"Bearer \" + loginToken\n    },\n    cancelToken: new CancelToken(function executor(c) {\n      cancel = c;\n    })\n  };\n\n  return axios(opts)\n    .then(function(response) {\n      return response.data.items;\n    });\n}","import React, {Component} from \"react\";\n\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Collapse from \"@material-ui/core/Collapse\";\n\nimport './InventoryItem.css';\nimport Button from \"@material-ui/core/Button\";\n\nexport class InventoryItem extends Component {\n  constructor() {\n    super();\n    this.state = {\n      expanded: false,\n      cardShown: false\n    }\n  }\n  \n  componentDidMount() {\n    const {\n      order\n    } = this.props;\n    \n    if (!this.state.cardShown) {\n      setTimeout(() => {\n        this.setState({\n          cardShown: true\n        });\n      }, order * 100);\n    }\n  }\n  \n  render() {\n    const {\n      initClass,\n      imageUrl,\n      title,\n      description,\n      quantity,\n      handleConsumeItem,\n      remainingUses\n    } = this.props;\n    \n    return (\n      <div className={`inventory-item ${!this.state.cardShown ? initClass : \"\"}`}>\n        <div className=\"inventory-item-card\">\n          <div\n            className=\"inventory-item-card-media\"\n            style={{\n              backgroundImage: `url(${imageUrl})`\n            }}\n          />\n  \n          <div className=\"inventory-item-card-content\">\n            <div className=\"inventory-item-card-content-title\">{title}</div>\n            <div className=\"inventory-item-card-content-description\">{description}</div>\n          </div>\n          \n          <div className=\"inventory-item-card-actions\">\n            <div className=\"inventory-item-card-actions-quantity\">\n              {`Quantity: ${quantity}`}\n            </div>\n            {remainingUses ? (\n              <Button\n                  variant=\"contained\"\n                  onClick={handleConsumeItem}\n              >Consume</Button>\n            ) : ''}\n          </div>\n  \n          <Collapse in={this.state.expanded} timeout=\"auto\" unmountOnExit>\n            <CardContent>{description}</CardContent>\n          </Collapse>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from \"react\";\nimport {Inventory} from \"store-js-sdk/src/inventory/inventory\";\n\nimport {InventoryItem} from './InventoryItem';\nimport {getInventory} from './InventoryLoader';\nimport { init } from 'store-js-sdk/src/init';\n\nimport './InventoryList.css';\n\nexport class InventoryList extends PureComponent {\n  componentDidMount() {\n      if (this.props.logToken && null === this.props.inventoryItems) {\n        this.updateInventory();\n        this.props.updateVirtualCurrencyBalance();\n      }\n  }\n\n  componentWillUnmount() {\n    if (null !== this.props.inventoryItems) {\n      this.props.setInventoryItems(null);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (\n        (prevProps.cart.cartId !== this.props.cart.cartId\n        && prevProps.cart.items.length > 0)\n        || (\n            this.props.cartWithItemsBuyingByVC.items.length !== prevProps.cartWithItemsBuyingByVC.items.length\n        )\n    ) {\n      this.updateInventory();\n    }\n  }\n\n  updateInventory() {\n    this.props.setStateFrom(\"fetching\", true);\n    init({\n      projectId: window.xProjectId,\n      version: 'v2'\n    });\n\n    getInventory(window.xProjectId, this.props.logToken)\n        .then(inventoryItems => {\n          this.props.setInventoryItems(inventoryItems);\n        })\n        .catch(() => {\n          this.props.setInventoryItems([]);\n        });\n  }\n\n  consumeItem(item) {\n    let token = this.props.logToken;\n\n    init({\n      projectId: window.xProjectId,\n      version: 'v2'\n    });\n\n    const inventory = new Inventory(token);\n\n    inventory.consumeItem(item.sku, 1, item.instance_id)\n        .finally(() => {\n          this.props.setStateFrom(\"fetching\", true);\n        });\n  }\n\n  render() {\n    const {inventoryItems} = this.props;\n\n    return (\n      <div>\n        <div className=\"\">\n          <div className=\"inventory-list\">\n            {\n              inventoryItems && inventoryItems.length\n                ?\n                inventoryItems\n                    .filter(product => product.type === 'virtual_good')\n                    .map(\n                      (oneProduct, key) => {\n                        return (\n                          <InventoryItem\n                            key={oneProduct.sku}\n                            order={key}\n                            initClass=\"initialFlow1\"\n                            title={oneProduct.name}\n                            description={oneProduct.description}\n                            imageUrl={oneProduct.image_url}\n                            quantity={oneProduct.quantity}\n                            remainingUses={oneProduct.remaining_uses}\n                            handleConsumeItem={() => this.consumeItem(oneProduct)}\n                          />\n                        );\n                      }\n                    )\n                :\n                <div>\n                  Oops, you have nothing bought yet!\n                </div>\n            }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nimport styled, { css } from \"styled-components\";\n\nimport {makeStyles, withStyles} from \"@material-ui/core/styles\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport IconAdd from \"@material-ui/icons/AddBox\";\nimport IconRem from \"@material-ui/icons/IndeterminateCheckBox\";\nimport red from \"@material-ui/core/colors/red\";\nimport ShoppingCart from \"@material-ui/icons/ShoppingCart\";\nimport IconDelete from \"@material-ui/icons/Delete\";\nimport AvatarVC from \"@material-ui/core/Avatar\";\nimport Colorer from \"color\";\nimport Button from \"@material-ui/core/Button\";\n\nconst styles = theme => ({\n  paper: {\n    ...theme.mixins.gutters(),\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  cardTitle: {},\n  card: {\n    // minWidth: '300px',\n    // height: 300,\n    // marginBottom: 4 * 8,\n  },\n  h1: {\n    fontWeight: \"bold\",\n    fontSize: \"1.2em\",\n    marginBottom: 1 * 8,\n    color: \"var(--mainDark)\"\n  },\n  p: {\n    flexGrow: 1,\n    color: \"var(--mainDark)\"\n  },\n  price: {\n    flexGrow: 1,\n    // paddingLeft: 1 * 8,\n    fontWeight: \"600\",\n    color: \"var(--mainBlue)\"\n  },\n  media: {\n    marginTop: 1 * 8,\n    height: 0,\n    paddingTop: \"56.25%\", // 16:9\n    backgroundSize: \"contain\"\n    // backgroundSize: 'cover',\n    // backgroundColor: 'var(--lightBlue)',\n  },\n  actions: {\n    display: \"flex\"\n  },\n  expand: {\n    transform: \"rotate(0deg)\",\n    marginLeft: \"auto\",\n    transition: theme.transitions.create(\"transform\", {\n      duration: theme.transitions.duration.shortest\n    })\n  },\n  expandOpen: {\n    transform: \"rotate(180deg)\"\n  },\n  avatar: {\n    backgroundColor: red[500]\n  }\n});\n\nconst useStyles = makeStyles({\n  currencies: {\n    height: 24,\n    width: 24,\n    marginRight: 4\n  }\n});\n\nconst RecipeReviewCard = ({\n  addToCart = () => {\n    void 0;\n  },\n  removeFromCart = () => {\n    void 0;\n  },\n  changeItemQuantityInCart = () => {\n    void 0;\n  },\n  buyByVC = () => {\n    void 0;\n  },\n  activeGroup,\n  product,\n  order,\n  cardType = null,\n  initClass,\n  image_url,\n  title,\n  currency,\n  price,\n  description,\n  getTheme = () => {\n    void 0;\n  },\n  quantity\n}) => {\n  const [state, setState] = React.useState({\n    expanded: false,\n    favorited: false,\n    cardShown: false\n  });\n\n  const classes = useStyles();\n\n  let [cartState, setCartState] = React.useState(\n    cardType === \"cart\" ? quantity : 0\n  );\n\n  const handleCartClick = () => {\n    addToCart(product);\n  };\n\n  const handleBuyByVirtualCurrency = (vcSku) => {\n    buyByVC(product, vcSku);\n  };\n\n  const calcPrice = (price, q) => {\n    return Math.round(price * q * 100) / 100;\n  };\n\n  React.useEffect(() => {\n    // debugger;\n    if (!state.cardShown) {\n      setTimeout(() => {\n        setState({\n          cardShown: true //TODO: зачем это\n        });\n      }, order * 100);\n    }\n  });\n\n  const hasVirtualCurrencyPrice = product.virtual_prices && product.virtual_prices.length > 0;\n\n  return (\n    <CssCardAppear className={!state.cardShown ? initClass : \"\"}>\n      <CssCard cardType={cardType} getTheme={getTheme}>\n        <CssCardMedia\n          style={{}}\n          image={image_url}\n          theme={\n            cardType === \"cart\" || cardType === \"buy_by_vc\"\n              ? {\n                  width: 140,\n                  height: 140\n                }\n              : {}\n          }\n        />\n        <CssCardContent>\n          <CssCardH1>{title}</CssCardH1>\n          <CssDescEllipsis>{description}</CssDescEllipsis>\n        </CssCardContent>\n\n        {cardType !== \"cart\" && cardType !== \"buy_by_vc\" && (\n          <CssCardVCActions cardType={cardType} getTheme={getTheme}>\n            {\n              hasVirtualCurrencyPrice &&\n              <AvatarVC src={product.virtual_prices[0].image_url} className={classes.currencies}/>\n            }\n            <CssTypographyPrice getTheme={getTheme}>\n              {\n                hasVirtualCurrencyPrice ?\n                    product.virtual_prices[0].amount : `${currency} ${Math.round(price * 100) / 100}`\n              }\n            </CssTypographyPrice>\n            <Button\n                getTheme={getTheme}\n                variant=\"contained\"\n                onClick={\n                  hasVirtualCurrencyPrice ? handleBuyByVirtualCurrency.bind(this, product.virtual_prices[0].sku) : handleCartClick\n                }\n            >\n              {\n                hasVirtualCurrencyPrice ?\n                    `Buy now` : <ShoppingCart />\n              }\n            </Button>\n          </CssCardVCActions>\n        )}\n\n        {cardType === \"cart\" && (\n          <CssCardActions cardType={cardType} getTheme={getTheme}>\n            <CssCartQs>\n              {quantity <= 1 && (\n                <IconDelete\n                  style={{\n                    opacity: 0.4\n                  }}\n                  onClick={() => {\n                    changeItemQuantityInCart(product, quantity - 1);\n                  }}\n                />\n              )}\n\n              {quantity > 1 && (\n                <IconRem\n                  style={{\n                    opacity: 0.4\n                  }}\n                  onClick={() => {\n                    changeItemQuantityInCart(product, quantity - 1);\n                  }}\n                />\n              )}\n              <CssCartQ>{quantity}</CssCartQ>\n              <IconAdd\n                onClick={() => {\n                  changeItemQuantityInCart(product, quantity + 1);\n                }}\n              />\n            </CssCartQs>\n            <div>\n              <CssTypographyPrice getTheme={getTheme}>\n                {currency} {calcPrice(price, quantity)}\n              </CssTypographyPrice>\n            </div>\n\n            {quantity > 1 && (\n              <CssTypographyPriceSm getTheme={getTheme}>\n                {currency} {Math.round(price * 100) / 100} for one item\n              </CssTypographyPriceSm>\n            )}\n          </CssCardActions>\n        )}\n\n        <Collapse in={state.expanded} timeout=\"auto\" unmountOnExit>\n          <CardContent>{description}</CardContent>\n        </Collapse>\n      </CssCard>\n    </CssCardAppear>\n  );\n};\n\nconst CssCartQs = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n`;\nconst CssCartQ = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: bolder;\n  min-width: 44px;\n  font-size: 1.2em;\n`;\n\nconst CssCardAppear = styled.div`\n  position: relative;\n\n  /* transition: all ${props => props.order + \"s\"} ease-in-out; */\n  transition: transform 350ms ease-out, opacity 150ms ease-out;\n  &.initialFlow1 {\n    opacity: 0;\n    transform: translateY(20px) scale(1);\n  }\n`;\n\n// const CssCard = styled(Card)`\n// Карточка не корзина\n// Карточка корзина\nconst CssCard = styled.div`\n  color: ${props => props.getTheme(\"colorText\")};\n  ${props =>\n    !props.cardType &&\n    css`\n    display: flex;\n    flex-direction: column;\n    max-width: ${props => `${props.getTheme(\"cardWidth\")}px`};\n    min-width: ${props => `${props.getTheme(\"cardWidth\")}px`};\n    height: ${props => `${props.getTheme(\"cardWidth\")}px`};\n    /* height: 360px; */\n    margin: ${2 * 8}px;\n    flex-shrink: 0;\n    flex-grow: 1;\n    flex-base: 50%;\n    background: transparent;\n    /* boxShadow: none; */\n    /* color: var(--mainWhite); */\n    transition: box-shadow ${props => props.getTheme(\"transitionStyle\")};\n    border-radius: ${props => props.getTheme(\"borderRadius\")}\n    padding: ${props => props.getTheme(\"padding\")};\n  `}\n\n  ${props =>\n    props.cardType &&\n    css`\n      display: grid;\n      grid-template-columns: 20% 50% 30%;\n      grid-template-rows: 160px;\n      place-content: center;\n    `}\n  &:hover {\n    ${props => {\n      return (\n        !props.cardType &&\n        css`\n          box-shadow: ${props => props.getTheme(\"boxShadow\")};\n        `\n      );\n    }}\n  }\n`;\n\nconst CssDescEllipsis = styled.div`\n  display: block; /* Fallback for non-webkit */\n  display: -webkit-box;\n  /* max-height: 120px; */\n  width: 100%;\n  display: block; /* Fallback for non-webkit */\n  display: -webkit-box;\n  max-width: 400px;\n  margin: 0 auto;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nconst CssCardContent = styled(CardContent)`\n  min-height: 66px;\n  overflow: hidden;\n  flex-grow: 0;\n  padding-bottom: 0 !important;\n  margin-bottom: 8px;\n`;\n\nconst CssCardH1 = styled.div`\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n`;\n\n// Кнопки не корзина\n// Кнопки корзина\n// const CssCardActions = styled(CardActions)`\nconst CssCardActions = styled.div`\n  ${props =>\n    !props.cardType &&\n    css`\n      display: flex;\n      align-items: center;\n      border-top: 1px solid\n        ${props =>\n          Colorer(props.getTheme(\"colorText\"))\n            .alpha(0.1)\n            .string()};\n      padding: 8px 0 0 0;\n      margin: 0px 16px 0 16px;\n    `}\n  ${props =>\n    props.cardType &&\n    css`\n      padding: 16px 0;\n      width: 160px;\n      display: grid;\n      grid-template-columns: auto;\n      grid-row-gap: 8px;\n      place-content: start start;\n    `}\n`;\n\nconst CssCardVCActions = styled.div`\n  ${props =>\n    !props.cardType &&\n    css`\n      display: flex;\n      align-items: center;\n      border-top: 1px solid\n        ${props =>\n        Colorer(props.getTheme(\"colorText\"))\n            .alpha(0.1)\n            .string()};\n      padding: 8px 0 0 0;\n      margin: 0px 16px 0 16px;\n    `}\n  ${props =>\n    props.cardType &&\n    css`\n      padding: 16px 0;\n      width: 160px;\n      display: grid;\n      grid-template-columns: auto;\n      grid-row-gap: 8px;\n      place-content: start start;\n    `}\n`;\n\nconst CssCardMedia = styled.div`\n  display: block;\n  /* height: 0; */\n  margin-top: 8px;\n  min-height: 120px;\n  flex-grow: 1;\n  /* padding-top: 56.25%; */\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(${props => props.image});\n`;\n\nconst CssTypographyPrice = styled.div`\n  flex-grow: 1;\n  color: ${props => props.getTheme(\"colorAccent\")};\n  font-weight: 600;\n`;\n\nconst CssTypographyPriceSm = styled.div`\n  flex-grow: 1;\n  font-size: 0.8em;\n  /* color: ${props => props.getTheme(\"colorAccent\")}; */\n  /* font-weight: 600; */\n  opacity: 0.3;\n`;\n\nexport default withStyles(styles)(RecipeReviewCard);\n","import React from \"react\";\n\nconst eatCookie = () => {\n  const getCookie = o => {\n    for (\n      var e = o + \"=\",\n        n = decodeURIComponent(document.cookie).split(\";\"),\n        t = 0;\n      t < n.length;\n      t++\n    ) {\n      for (var i = n[t]; \" \" === i.charAt(0); ) i = i.substring(1);\n      if (0 === i.indexOf(e)) return i.substring(e.length, i.length);\n    }\n    return \"\";\n  };\n  const setCookie = (o, e) => {\n    var n = new Date();\n    n.setTime(n.getTime() + 864e5);\n    var t = \"expires=\" + n.toUTCString();\n    document.cookie = o + \"=\" + e + \";\" + t + \";path=/\";\n  };\n\n  function getQueryParams(o) {\n    o = o.split(\"+\").join(\" \");\n    for (var e, n = {}, t = /[?&]?([^=]+)=([^&]*)/g; (e = t.exec(o)); )\n      n[decodeURIComponent(e[1])] = decodeURIComponent(e[2]);\n    return n;\n  }\n\n  let o;\n  //console.log(\"let = \");\n  if (window.location.search) {\n    o = getQueryParams(window.location.search).token;\n  }\n  if (o) {\n    setCookie(\"xsolla_login_token\", o);\n    window.history.pushState(\"\", \"\", document.location.pathname);\n  } else {\n    o = getCookie(\"xsolla_login_token\");\n  }\n  if (o && o !== \"undefined\") {\n    //console.log(\"o = \", o);\n    return o;\n  } else {\n    return null;\n  }\n};\n\nexport default function Cookie() {\n  return 44056 === window.xProjectId\n    ? 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE5NjIyMzQwNDgsImlzcyI6Imh0dHBzOi8vbG9naW4ueHNvbGxhLmNvbSIsI'\n    + 'mlhdCI6MTU2MjE0NzY0OCwidXNlcm5hbWUiOiJ4c29sbGEiLCJ4c29sbGFfbG9naW5fYWNjZXNzX2tleSI6IjA2SWF2ZHpDeEVHbm5aMTlp'\n    + 'LUc5TmMxVWFfTWFZOXhTR3ZEVEY4OFE3RnMiLCJzdWIiOiJkMzQyZGFkMi05ZDU5LTExZTktYTM4NC00MjAxMGFhODAwM2YiLCJlbWFpbCI'\n    + '6InN1cHBvcnRAeHNvbGxhLmNvbSIsInR5cGUiOiJ4c29sbGFfbG9naW4iLCJ4c29sbGFfbG9naW5fcHJvamVjdF9pZCI6ImU2ZGZhYWM2LTc'\n    + '4YTgtMTFlOS05MjQ0LTQyMDEwYWE4MDAwNCIsInB1Ymxpc2hlcl9pZCI6MTU5MjR9.GCrW42OguZbLZTaoixCZgAeNLGH2xCeJHxl8u8Xn2aI'\n    : eatCookie();\n}\n\nexport function eraseCookie(o) {\n  return (document.cookie =\n    o + \"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;\");\n}\n\nexport function parseJwt(o) {\n  let base64Url = o.split(\".\")[1];\n  let base64 = base64Url.replace(\"-\", \"+\").replace(\"_\", \"/\");\n  return JSON.parse(window.atob(base64));\n}\n","import axios from \"axios\";\n\nconst CancelToken = axios.CancelToken;\nlet cancel;\n\nexport default async function StoreLoader(projectId, loginToken) {\n  let result;\n  let all = [];\n  let responseGroups = await fetch(\n    \"https://store.xsolla.com/api/v1/project/\" + projectId + \"/items/groups\",\n    {\n      method: \"GET\",\n      headers: {\n        Authorization: \"Bearer \" + loginToken\n      }\n    }\n  );\n\n  const virtualCurrency = await fetch(\n      \"https://store.xsolla.com/api/v2/project/\" + projectId + \"/items/virtual_currency/package\", {\n        method: \"GET\"\n      }\n  );\n\n  const virtualCurrencyPackages = await virtualCurrency.json();\n\n  if (responseGroups) {\n    // only proceed once promise is resolved\n    let resolvedGroups = await responseGroups.json();\n    resolvedGroups = resolvedGroups[\"groups\"];\n    // only proceed once second promise is resolved\n\n    let fulfilledGroups = await Promise.all(\n      resolvedGroups.map((oneGroup, key) => {\n        //console.log(\"group\", oneGroup);\n        return loadByGroup(projectId, oneGroup);\n      })\n    ).then(fulfilledGroups => {\n      //console.log(\"fulfilledGroups = \", fulfilledGroups);\n      return fulfilledGroups;\n    });\n    all = all.concat(fulfilledGroups);\n  }\n\n  result = {\n    virtualItems: all,\n    virtualCurrencyPackages: virtualCurrencyPackages.items\n  };\n  return result;\n}\n\nfunction loadByGroup(projectId, group) {\n  return new Promise((resolve, reject) => {\n    fetch(\n      \"https://store.xsolla.com/api/v2/project/\" +\n        projectId +\n        \"/items/virtual_items/group/\" +\n        group[\"external_id\"]\n    )\n      .then(response => response.json())\n      .then(json => {\n        let products = json[\"items\"];\n        group[\"products\"] = products;\n        resolve(group);\n      })\n      .catch(function(error) {\n        //console.log(\"Products ERROR = \", error.message);\n        reject(error.message);\n      });\n  });\n}\n\nexport function changeItemQuantityCart(\n  { sku = \"sku\" },\n  quantity,\n  cartId,\n  loginToken\n) {\n  cancel && cancel();\n  //console.log(\"sku added = \", sku, \" to cartId = \", cartId);\n  let opts = {\n    url:\n      \"https://store.xsolla.com/api/v2/project/\" +\n      window.xProjectId +\n      \"/cart/\" +\n      cartId +\n      \"/item/\" +\n      sku,\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\",\n      Authorization: \"Bearer \" + loginToken\n    },\n    data: JSON.stringify({\n      quantity: quantity\n    })\n  };\n  return axios(opts)\n    .then(function(response) {\n      //console.log(\"Item added = \", response.data);\n      let resp = response.data;\n    });\n}\n\nexport function createCart(loginToken) {\n  let opts = {\n    url:\n      \"https://store.xsolla.com/api/v1/project/\" + window.xProjectId + \"/cart\",\n    method: \"POST\",\n    headers: {\n      Authorization: \"Bearer \" + loginToken\n    }\n  };\n  return axios(opts)\n    .then(function(response) {\n      //console.log('createCart ', response.data[\"id\"]);\n      return response;\n    })\n    .catch(function(error) {\n      //console.log(\"L2PS ERROR = \", error.response);\n    });\n}\n\nexport function removeItemFromCart({ sku = \"sku\" }, cartId, loginToken) {\n  cancel && cancel();\n  //console.log(\"sku removed = \", sku, \" from cartId = \", cartId);\n  let opts = {\n    url:\n      \"https://store.xsolla.com/api/v2/project/\" +\n      window.xProjectId +\n      \"/cart/\" +\n      cartId +\n      \"/item/\" +\n      sku,\n    method: \"DELETE\",\n    headers: {\n      Authorization: \"Bearer \" + loginToken\n    }\n  };\n  return axios(opts)\n    .then(function(response) {\n      //console.log(\"Item removed = \", response.data);\n      let resp = response.data;\n    })\n    .catch(function(error) {\n      //console.log(\"L2PS ERROR = \", error.response);\n    });\n}\n\nexport function getPsTokenBuyCart(cartId, loginToken) {\n  let opts = {\n    url:\n      \"https://store.xsolla.com/api/v2/project/\" +\n      window.xProjectId +\n      \"/payment/cart/\" +\n      cartId,\n    method: \"POST\",\n    headers: {\n      Authorization: \"Bearer \" + loginToken\n    }\n  };\n  return axios(opts)\n    .then(function(response) {\n      //console.log(\"PsToken generated = \", response.data);\n      return response;\n    })\n    .catch(function(error) {\n      //console.log(\"L2PS ERROR = \", error.response);\n    });\n}\n\nexport function getCart(cartId, loginToken) {\n  cancel && cancel();\n  const opts = {\n    url:\n      \"https://store.xsolla.com/api/v2/project/\" +\n      window.xProjectId +\n      \"/cart/\" +\n      cartId,\n    method: \"GET\",\n    headers: {\n      Authorization: \"Bearer \" + loginToken\n    },\n    cancelToken: new CancelToken(c => {\n      cancel = c;\n    })\n  };\n  return axios(opts)\n    .then(response => response)\n    .catch(error => console.error(error));\n}\n\nexport function quickPurchaseBuyVirtualCurrency(product, vcPriceSku, loginToken) {\n  let opts = {\n    url:\n        \"https://store.xsolla.com/api/v2/project/\" +\n        window.xProjectId +\n        \"/payment/item/\" +\n        product.sku +\n        \"/virtual/\" + vcPriceSku,\n    method: \"POST\",\n    headers: {\n      Authorization: \"Bearer \" + loginToken\n    }\n  };\n  return axios(opts);\n}\n\nexport function getVirtualCurrencyBalance(loginToken) {\n  let opts = {\n    url:\n        \"https://store.xsolla.com/api/v2/project/\" + window.xProjectId + \"/user/virtual_currency_balance\",\n    method: \"GET\",\n    headers: {\n      Authorization: \"Bearer \" + loginToken\n    }\n  };\n  return axios(opts);\n}\n","import React from \"react\";\nimport Cookie from \"./components/Cookie\";\nimport {\n  changeItemQuantityCart,\n  createCart,\n  removeItemFromCart,\n  getCart, getVirtualCurrencyBalance\n} from \"./components/StoreLoader\";\n\nconst ProductContext = React.createContext();\n\nconst theme = {\n  colorText: '#D6E0E7',\n  colorAccent: '#FF005B',\n  colorAccentText: '#F6FAFF',\n  colorBg: '#011627',\n  borderRadius: 8,\n  backgroundUrl: 'https://res.cloudinary.com/maiik/image/upload/v1549624607/Xsolla/HomePage_Hero_Illustration_1440_oabqmk.jpg',\n  cardWidth: '300',\n  boxShadow: '0 5px 12px 0px rgba(0,0,0,0.2)',\n  padding: '8px',\n  transitionTime: '0.3s',\n  transitionEasing: 'ease-in-out',\n  transition: `all 0.3s ease-in-out`,\n  transitionStyle: '0.3s ease-in-out',\n  fontFamily: '-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'\n};\n\nclass ProductProvider extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      projectId: props.projectId,\n      logToken: Cookie(),\n      userBalanceVirtualCurrency: [],\n      activeGroup: 'first',\n      loginShown: true,\n      activeModule: 'virtualItems',\n      virtualItems: [],\n      physicalItems: [],\n      virtualCurrencyPackages: null,\n      currency: null,\n      subscriptions: null,\n      inventoryItems: null,\n      entitlementItems: null,\n      cartShown: false,\n      isSideMenuShown: false,\n      cart: {\n        cartId: null,\n        items: [],\n        price: {\n          amount: 0,\n          amount_without_discount: 0\n        }\n      },\n      cartWithItemsBuyingByVCShown: false,\n      cartWithItemsBuyingByVC: {\n        items: []\n      },\n      showCartError: false,\n      cartError: false,\n      isFetching: false,\n      psToken: '',\n      theme,\n    };\n  }\n\n  showCart = () => this.setState({ cartShown: !this.state.cartShown });\n\n  showCartError = (title, message) => {\n    this.setState({\n      showCartError: true,\n      cartError: {\n        title,\n        message\n      }\n    });\n    this.getCart();\n  };\n\n  setSideMenuVisibility = isSideMenuShown => this.setState({ isSideMenuShown });\n\n  hideCartError = () => {\n    this.setState({\n      showCartError: false,\n      cartError: null\n    });\n  };\n\n  setInventoryItems = inventoryItems => {\n    this.setState({\n      inventoryItems,\n      isFetching: false\n    })\n  };\n\n  setEntitlementItems = entitlementItems => {\n    this.setState({\n      entitlementItems,\n      isFetching: false\n    })\n  };\n\n  setPhysicalItems = physicalItems => {\n    this.setState({\n      physicalItems,\n      isFetching: false\n    })\n  };\n\n  getCart = () => {\n    const cartPromise = getCart(this.state.cart.cartId, this.state.logToken);\n    cartPromise.then(response => {\n      if (!cartPromise.isCancel && response) {\n        this.setState({\n          cart: {\n            cartId: response.data[\"cart_id\"],\n            items: response.data[\"items\"].sort(this.compareItems),\n            price: response.data[\"price\"]\n          },\n          isFetching: false\n        });\n      }\n    });\n  };\n\n  createCart = () => {\n    const cartIdPromise = createCart(this.state.logToken);\n    cartIdPromise.then(response => {\n      this.setState({\n        cart: {\n          cartId: response.data[\"id\"],\n          items: [],\n          price: {\n            amount: 0,\n            amount_without_discount: 0\n          }\n        }\n      });\n    });\n  };\n\n  changeTheme = newTheme => {\n    if (typeof newTheme === \"string\") {\n      this.setState({\n        theme: {\n          ...this.state.theme,\n          colorBg: newTheme\n        }\n      });\n    } else {\n      this.setState(\n        {\n          theme: {\n            ...this.state.theme,\n            ...newTheme\n          }\n        },\n      );\n    }\n  };\n\n  changeCardSize = newSize => {\n    const newTheme = this.state.theme;\n    newTheme[\"cardWidth\"] = newSize;\n    this.changeTheme(newTheme);\n  };\n\n  clearCart = () => {\n    this.showCart();\n    this.createCart();\n    this.updateVirtualCurrencyBalance();\n  };\n\n  payStationHandler = () => {\n    this.clearCart();\n  };\n\n  setPsToken = psToken => {\n    this.setState({ psToken });\n  };\n\n  handleDetail = () => {\n    console.log(\"hello from handleDetail\");\n  };\n\n  setStateFrom = (stateName, stateValue) => {\n    this.setState({ [stateName]: stateValue });\n  };\n\n  compareItems = (a, b) => {\n    if (a.sku > b.sku) {\n      return 1;\n    }\n    if (a.sku < b.sku) {\n      return -1;\n    }\n    return 0;\n  };\n\n  buyByVC = (product, vcSku) => {\n    this.setState({\n      cartWithItemsBuyingByVCShown: true,\n      cartWithItemsBuyingByVC: {\n        items: [product],\n        vcPriceSku: vcSku\n      }\n    });\n  };\n\n  clearVCCart = () => {\n    this.setState({\n      cartWithItemsBuyingByVCShown: false,\n      cartWithItemsBuyingByVC: {\n        items: [],\n        vcPriceSku: null\n      }\n    });\n\n    this.updateVirtualCurrencyBalance();\n  };\n\n  addToCart = product => {\n    if (this.state.cart) {\n      const indexFind = this.state.cart.items.findIndex(elem => elem.sku === product.sku);\n      if (indexFind !== -1) {\n        this.getCart();\n        this.setState({\n          cartShown: true\n        });\n      } else {\n        this.setState({\n          isFetching: true,\n          cart: {\n            ...this.state.cart,\n            items: [{ ...product, quantity: 1 }, ...this.state.cart.items].sort(\n              this.compareItems\n            ),\n            price: {\n              ...this.state.cart.price,\n              amount:\n                this.state.cart.price &&\n                this.state.cart.price.amount + product.price.amount,\n              amount_without_discount:\n                this.state.cart.price &&\n                this.state.cart.price.amount_without_discount +\n                  product.price.amount_without_discount\n            }\n          }\n        });\n        changeItemQuantityCart(\n          product,\n          1,\n          this.state.cart.cartId,\n          this.state.logToken\n        ).then(response => {\n          this.getCart();\n        }).catch(error => {\n          this.showCartError('Change Item Quantity Error',error.response.data.errorMessage);\n        });\n        this.showCart();\n      }\n    } else {\n      this.setState({ isFetching: true });\n      changeItemQuantityCart(\n        product,\n        1,\n        this.state.cart.cartId,\n        this.state.logToken\n      ).then(getCart\n      ).catch(error => {\n        this.showCartError('Change Item Quantity Error',error.response.data.errorMessage);\n      });\n      this.showCart();\n    }\n  };\n\n  removeFromCart = product => {\n    if (this.state.cart) {\n      this.setState({\n        isFetching: true,\n        cart: {\n          ...this.state.cart,\n          items: this.state.cart.items\n            .filter(function(prod) {\n              return prod.sku !== product.sku;\n            })\n            .sort(this.compareItems),\n          price: {\n            ...this.state.cart.price,\n            amount:\n              this.state.cart.price.amount -\n              product.price.amount * product.quantity,\n            amount_without_discount:\n              this.state.cart.price.amount_without_discount -\n              product.price.amount_without_discount * product.quantity\n          }\n        }\n      });\n    }\n  };\n\n  changeItemQuantityInCart = (product, quantity) => {\n    if (quantity <= 0) {\n      this.removeFromCart(product);\n      removeItemFromCart(\n        product,\n        this.state.cart.cartId,\n        this.state.logToken\n      ).then(() => {\n        this.getCart();\n      });\n    } else {\n      let indexFind = this.state.cart.items.findIndex(elem => {\n        return elem.sku === product.sku;\n      });\n      let cartItems = this.state.cart.items;\n      cartItems.splice(indexFind, 1, {\n        ...product,\n        quantity: quantity\n      });\n      this.setState({\n        isFetching: true,\n        cart: {\n          ...this.state.cart,\n          items: cartItems.sort(this.compareItems)\n        }\n      });\n      changeItemQuantityCart(\n        product,\n        quantity,\n        this.state.cart.cartId,\n        this.state.logToken\n      ).then(() => {\n        this.getCart();\n      }).catch(error => {\n        this.showCartError('Change Item Quantity Error',error.response.data.errorMessage);\n      });\n    }\n  };\n\n  hideCart = () => {\n    this.setState({\n      cartShown: false,\n      cartWithItemsBuyingByVCShown: false\n    })\n  };\n\n  setGroups = virtualItems => this.setState({ virtualItems, isFetching: false });\n\n  setCurrs = resolvedData => {\n    this.setState({\n      isFetching: false,\n      virtualItems: resolvedData['virtualItems'],\n      currency: resolvedData['currency'],\n      subscriptions: resolvedData['subscriptions'],\n      virtualCurrencyPackages: resolvedData['virtualCurrencyPackages'],\n    });\n  };\n\n  getTheme = (what = 'all') => what === 'all' \n    ? this.state.theme\n    : `${this.state.theme[what]}${what === 'borderRadius' ? 'px' : ''}`;\n\n  setProducts = storeProducts => this.setState({ storeProducts });\n\n  updateVirtualCurrencyBalance = () => {\n    getVirtualCurrencyBalance(this.state.logToken).then((reps) => {\n      this.setState({\n        userBalanceVirtualCurrency: reps.data.items\n      });\n    });\n  };\n\n  render() {\n    return (\n      <ProductContext.Provider\n        value={{\n          ...this.state, //all props and vals\n          handleDetail: this.handleDetail,\n          setPsToken: this.setPsToken,\n          setGroups: this.setGroups,\n          setProducts: this.setProducts,\n          setStateFrom: this.setStateFrom,\n          setCurrs: this.setCurrs,\n          setInventoryItems: this.setInventoryItems,\n          setEntitlementItems: this.setEntitlementItems,\n          setPhysicalItems: this.setPhysicalItems,\n          addToCart: this.addToCart,\n          buyByVC: this.buyByVC,\n          clearVCCart: this.clearVCCart,\n          getTheme: this.getTheme,\n          changeTheme: this.changeTheme,\n          changeCardSize: this.changeCardSize,\n          createCart: this.createCart,\n          showCart: this.showCart,\n          changeItemQuantityInCart: this.changeItemQuantityInCart,\n          buyCart: this.buyCart,\n          payStationHandler: this.payStationHandler,\n          updateVirtualCurrencyBalance: this.updateVirtualCurrencyBalance,\n          hideCart: this.hideCart,\n          hideCartError: this.hideCartError,\n          setSideMenuVisibility: this.setSideMenuVisibility,\n        }}\n      >\n        {this.props.children}\n      </ProductContext.Provider>\n    );\n  }\n}\n\nconst ProductConsumer = ProductContext.Consumer;\n\nexport { ProductContext, ProductProvider, ProductConsumer };\n","import React, {PureComponent} from \"react\";\n\nimport {getPsTokenByItem} from '../StoreLoader';\nimport {getPhysicalGoods} from './PhysicalListLoader';\n\nimport './PhysicalList.css';\nimport Product from \"../../components/Product\";\nimport {ProductConsumer} from \"../../context\";\n\nexport class PhysicalList extends PureComponent {\n    constructor() {\n        super();\n\n        this.state = {\n            isPurchasing: false\n        }\n    }\n\n    componentDidMount() {\n        if (this.props.logToken && null === this.props.physicalItems) {\n            this.updateCatalogue();\n            this.props.updateVirtualCurrencyBalance();\n        }\n    }\n\n    componentWillUnmount() {\n        if (null !== this.props.physicalItems) {\n            this.props.setPhysicalItems(null);\n        }\n    }\n\n    updateCatalogue() {\n        getPhysicalGoods(window.xProjectId, this.props.logToken)\n            .then(physicalItems => {\n                this.props.setPhysicalItems(physicalItems);\n            })\n            .catch(() => {\n                this.props.setPhysicalItems([]);\n            });\n    }\n\n    buyItem(item) {\n        if (this.state.isPurchasing) {\n            return;\n        }\n\n        const {logToken} = this.props;\n        this.setState({\n            isPurchasing: true\n        })\n        getPsTokenByItem(item, logToken)\n            .then(response => {\n                let options = {\n                    'height': 680\n                };\n                window.xPayStationInit(response.data[\"token\"], options);\n                window.XPayStationWidget.open();\n                window.XPayStationWidget.on(\n                    window.XPayStationWidget.eventTypes.CLOSE,\n                    () => {\n                        this.setState({\n                            isPurchasing: false\n                        });\n                    }\n                );\n            })\n            .catch(e => {\n                this.setState({\n                    isPurchasing: false\n                })\n            });\n    };\n\n    render() {\n        const {physicalItems} = this.props;\n\n        return (\n            <div>\n                <ProductConsumer>\n                    {\n                        valueFromContext =>\n                            <div className=\"\">\n                                <div className=\"physical-list\">\n                                    {\n                                        physicalItems && physicalItems.length &&\n                                        physicalItems\n                                            .map(\n                                                (oneProduct, key) => {\n                                                    return (\n                                                        <Product\n                                                            ref={this.ProductRef}\n                                                            key={oneProduct.sku}\n                                                            order={key}\n                                                            initClass=\"initialFlow1\"\n                                                            sku={oneProduct.sku}\n                                                            title={oneProduct.name}\n                                                            description={\n                                                                oneProduct.description\n                                                            }\n                                                            price={oneProduct.price.amount}\n                                                            image_url={oneProduct.image_url}\n                                                            currency={\n                                                                oneProduct.price.currency\n                                                            }\n                                                            product={oneProduct}\n                                                            addToCart={\n                                                                valueFromContext.addToCart\n                                                            }\n                                                            getTheme={valueFromContext.getTheme.bind(\n                                                                this\n                                                            )}\n                                                            cartId={valueFromContext.cartId}\n                                                            logToken={\n                                                                valueFromContext.logToken\n                                                            }\n                                                            changeItemQuantityInCart={\n                                                                valueFromContext.changeItemQuantityInCart\n                                                            }\n                                                            activeGroup={this.props.activeGroup}\n                                                            buyByVC={\n                                                                valueFromContext.buyByVC\n                                                            }\n                                                        />\n                                                    );\n                                                }\n                                            )\n                                    }\n                                </div>\n                            </div>\n                    }\n                </ProductConsumer>\n            </div>\n        );\n    }\n}\n","import { PhysicalGood } from 'store-js-sdk/src/physical-goods/physical-goods';\nimport { init } from 'store-js-sdk/src/init';\n\nexport const getPhysicalGoods = (projectId, loginToken) => {\n    //TODO добавить возможность использовать cancelToken в SDK\n    init({\n        projectId: projectId,\n        version: 'v2'\n    });\n\n    const physicalGood = new PhysicalGood(loginToken);\n    return physicalGood.getPhysicalGoodList().then(response => response.data.items);\n};","import axios from \"axios\";\n\nexport function getPsTokenByItem(item, loginToken) {\n  let opts = {\n    url:\n    \"https://store.xsolla.com/api/v2/project/\" +\n    window.xProjectId +\n    \"/payment/item/\" +\n    item.sku,\n    method: \"POST\",\n    headers: {\n      Authorization: \"Bearer \" + loginToken\n    }\n  };\n  return axios(opts);\n}\n","import React from \"react\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport {\n  MuiThemeProvider,\n  createMuiTheme,\n  makeStyles\n} from \"@material-ui/core/styles\";\n\nimport { ProductContext } from \"../context\";\n\nconst useTabStyles = makeStyles({\n  root: {\n    justifyContent: \"center\"\n  },\n  scroller: {\n    flexGrow: \"0\"\n  }\n});\n\nexport function MenuMaterial({\n  virtualItems,\n  activeGroup,\n  changeGroupHandler\n}) {\n  activeGroup = 'first' === activeGroup ? virtualItems && virtualItems[0] && virtualItems[0].id : activeGroup;\n\n  const classes = useTabStyles();\n\n  const handleChange = (event, data) => {\n    changeGroupHandler(data[\"id\"]);\n  };\n\n  return (\n    <MuiThemeProvider\n      theme={createMuiTheme({\n        palette: {\n          primary: {\n            main: React.useContext(ProductContext).getTheme(\"colorAccent\")\n          }\n        }\n      })}\n    >\n      <Tabs\n        value={activeGroup}\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n        style={{\n          color: React.useContext(ProductContext).getTheme(\"colorAccent\")\n        }}\n        classes={{ root: classes.root, scroller: classes.scroller }}\n        variant=\"scrollable\"\n        scrollButtons=\"on\"\n      >\n        {virtualItems &&\n          virtualItems.map((oneGroup) => {\n            return (\n              <Tab\n                value={oneGroup[\"id\"]}\n                key={oneGroup[\"id\"]}\n                color=\"secondary\"\n                textColor=\"secondary\"\n                label={oneGroup[\"name\"]}\n                onClick={e => handleChange(e, oneGroup)}\n                style={{\n                  color: React.useContext(ProductContext).getTheme(\"colorText\")\n                }}\n              />\n            );\n          })}\n      </Tabs>\n    </MuiThemeProvider>\n  );\n}\n\nexport default MenuMaterial;\n","import React, {PureComponent} from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Alert from 'react-bootstrap/Alert';\n\nimport {getVirtualCurrencyList, getVirtualItemList, rewardItems} from './ManageInventoryLoader'\n\nimport './ManageInventory.css';\nimport MenuMaterial from \"../../components/MenuMaterial\";\n\nexport class ManageInventory extends PureComponent {\n    constructor(props) {\n        super(props);\n\n        const users = [\n            {\n                'id': 'd342dad2-9d59-11e9-a384-42010aa8003f',\n                'name': 'support@xsolla.com'\n            },\n            {\n                'id': '7d8b1f52-7d3f-400b-acd8-46e3a4368596',\n                'name': 'v.legotkin@xsolla.com'\n            },\n            {\n                'id': '27bc1227-48a3-4da8-bb86-f8d093f68805',\n                'name': 'r.ushakov@xsolla.com'\n            },\n            {\n                'id': 'a7d10a4e-3f68-43cc-a6b2-893d2c68fd14',\n                'name': 'p.sanachev@xsolla.com'\n            },\n        ];\n        this.state = {\n            fetching: false,\n            isPurchasing: false,\n            inventoryItem: null,\n            quantity: 1,\n            users: users,\n            user: 'd342dad2-9d59-11e9-a384-42010aa8003f',\n            showToast: false,\n            statusToast: 'processing',\n            operationDetails: null,\n            manageInventoryGroups: [],\n            activeInventoryGroup: 'first',\n            manageInventoryItems: null,\n            manageInventoryCurrencies: null,\n            invoice: null,\n            date: null\n        }\n    }\n\n    componentDidMount() {\n        if (null === this.state.manageInventoryItems) {\n            this.getItems();\n            this.props.updateVirtualCurrencyBalance();\n        }\n        if (null === this.state.manageInventoryCurrencies) {\n            this.getCurrencies();\n        }\n    }\n\n    changeGroupHandler = group => {\n        const {manageInventoryGroups} = this.state;\n        this.setState({activeInventoryGroup: group});\n        const activeGroup = manageInventoryGroups.find(g => g['id'] === group);\n        const itemSku = activeGroup && activeGroup.items.length > 0 ? activeGroup.items[0].sku : 'helmet_1';\n        this.setState({inventoryItem: itemSku});\n        this.setItemQuantity(1);\n    };\n\n\n    getItems() {\n        this.setState({fetching: true});\n\n        getVirtualItemList(window.xProjectId)\n            .then(virtualItemsList => {\n                this.setManageInventoryItems(virtualItemsList);\n            })\n            .catch(() => {\n            });\n    }\n\n    getCurrencies() {\n        this.setState({fetching: true});\n\n        getVirtualCurrencyList(window.xProjectId)\n            .then(virtualCurrencyList => {\n                this.setManageInventoryCurrencies(virtualCurrencyList);\n            })\n            .catch(() => {\n            });\n    }\n\n    changeInventoryItem(event) {\n        this.setState({inventoryItem: event.target.value});\n    }\n\n    changeUser(event) {\n        this.setState({user: event.target.value});\n    }\n\n    setItemQuantity(quantity) {\n        if (parseInt(quantity) >= 1) {\n            this.setState({quantity: parseInt(quantity)});\n        }\n    }\n\n    setShowToast(isVisible) {\n        this.setState({showToast: isVisible});\n    }\n\n    setManageInventoryItems = (manageInventoryItems) => {\n        this.setState({\n            manageInventoryItems,\n            fetching: false,\n            manageInventoryGroups: [\n                ...this.state.manageInventoryGroups,\n                {\n                    id: 1,\n                    name: 'items',\n                    items: manageInventoryItems,\n                    singleItemName: 'Item'\n                }\n            ],\n        })\n    };\n\n    setManageInventoryCurrencies = (manageInventoryCurrencies) => {\n        this.setState({\n            manageInventoryCurrencies,\n            fetching: false,\n            manageInventoryGroups: [\n                ...this.state.manageInventoryGroups,\n                {\n                    id: 2,\n                    name: 'currencies',\n                    items: manageInventoryCurrencies,\n                    singleItemName: 'Currency'\n                }\n            ],\n        })\n    };\n\n    itemOperation(type) {\n        let {user, activeInventoryGroup, quantity, inventoryItem, manageInventoryGroups, invoice, date} = this.state;\n        if (inventoryItem === null && manageInventoryGroups && manageInventoryGroups.length) {\n            const group = activeInventoryGroup !== 'first'\n                ? manageInventoryGroups.find(group => group['id'] === activeInventoryGroup)\n                : manageInventoryGroups[0];\n            inventoryItem = group && group.items.length > 0 ? group.items[0].sku : 'helmet_1';\n        }\n\n        const body = {\n            type: type,\n            user: user,\n            item: inventoryItem,\n            count: quantity\n        };\n        if (invoice && date) {\n            body.purchase.external_purchase_id = invoice;\n            body.purchase.external_purchase_date = date;\n        }\n\n        this.setState({showToast: true, statusToast: 'processing', operationDetails: null});\n        rewardItems(body)\n            .then(response => {\n                this.setState({\n                    showToast: true,\n                    statusToast: 'complete',\n                    operationDetails: response.operations[0].items\n                });\n                this.props.updateVirtualCurrencyBalance();\n            })\n            .catch(() => {\n            });\n    }\n\n    rewardItem(e) {\n        this.itemOperation('reward');\n    }\n\n    revokeItem() {\n        this.itemOperation('revoke');\n    }\n\n    render() {\n        const {quantity, users, showToast, statusToast, operationDetails, manageInventoryGroups, activeInventoryGroup} = this.state;\n        const group = activeInventoryGroup !== 'first'\n            ? manageInventoryGroups.find(group => group['id'] === activeInventoryGroup)\n            : manageInventoryGroups[0];\n        return (\n            <div className=\"manage-inventory__row\">\n                <div className=\"manage-inventory__alert\">\n                    <Alert onClose={(e) => this.setShowToast(false)} show={showToast}\n                           variant={statusToast === 'processing' ? \"primary\" : \"success\"} dismissible>\n                        <Alert.Heading>{statusToast === 'processing' ? 'Operation is processing' : 'Operation complete!'}</Alert.Heading>\n                        <p>\n                            {\n                                group && group.items.length && operationDetails && operationDetails.length ?\n                                    operationDetails.map(\n                                        (item) => {\n                                            return (\n                                                <div>\n                                                    <div>Item: <b>{\n                                                        group.items.filter((inventoryItem) => {\n                                                            return inventoryItem.sku === item.sku\n                                                        }).map((inventoryItem) => {\n                                                            return inventoryItem.name;\n                                                        })\n                                                    }</b></div>\n                                                    <div>Quantity: <b>{item.quantity === null ? 0 : item.quantity}</b>\n                                                    </div>\n                                                </div>\n                                            )\n                                        })\n                                    :\n                                    ''\n                            }\n                        </p>\n                    </Alert>\n                </div>\n                <div className=\"\">\n                    <div className=\"manage-inventory\">\n                        <div className=\"manage-inventory__user-list\">\n                            <div className=\"manage-inventory__title\">User</div>\n                            <div>\n                                <select value={this.state.user} onChange={(e) => this.changeUser(e)}>\n                                    {\n                                        users.map(\n                                            (user) => {\n                                                return (\n                                                    <option key={user.id} value={user.id}>{user.name}</option>\n                                                )\n                                            })\n                                    }\n                                </select>\n                            </div>\n                        </div>\n                        <MenuMaterial\n                            virtualItems={manageInventoryGroups}\n                            activeGroup={activeInventoryGroup}\n                            changeGroupHandler={this.changeGroupHandler}\n                        />\n\n                        <div className=\"manage-inventory-item-container\">\n                            <div className=\"manage-inventory-list\">\n                                <div\n                                    className=\"manage-inventory__title\">{group ? group.singleItemName : 'Item'}</div>\n                                <div>\n                                    {group && group.items.length > 0\n                                        ? <select value={this.state.inventoryItem}\n                                                  onChange={(e) => this.changeInventoryItem(e)}>\n                                            {\n                                                group.items.map(\n                                                    (item) => {\n                                                        return (\n                                                            <option key={item.sku}\n                                                                    value={item.sku}>{item.name}</option>\n                                                        )\n                                                    })\n                                            }\n                                        </select>\n                                        : <div>\n                                            Nothing to show\n                                        </div>\n                                    }\n                                </div>\n                            </div>\n                            <div className=\"manage-inventory__quantity\">\n                                <div className=\"manage-inventory__quantity-change\">\n                                    <TextField\n                                        label={\"Quantity\"}\n                                        type={\"number\"}\n                                        inputProps={{style: {color: 'white'}, min: \"0\", step: \"1\"}}\n                                        defaultValue={quantity}\n                                        InputLabelProps={{\n                                            className: \"manage-inventory__quantity-input-label\"\n                                        }}\n                                        onChange={(e) => this.setItemQuantity(e.target.value)}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"manage-inventory-actions\">\n                            <Button\n                                type=\"submit\"\n                                variant=\"contained\"\n                                onClick={(e) => this.rewardItem(e)}\n                            >Reward</Button>\n                            <Button\n                                variant=\"contained\"\n                                onClick={(e) => this.revokeItem(e)}\n                            >Revoke</Button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n","import axios from \"axios\";\n\nexport const getVirtualItemList = (projectId) => {\n    let opts = {\n        url:\n            `https://store.xsolla.com/api/v2/project/${projectId}/items/virtual_items`,\n        method: \"GET\",\n    };\n\n    return axios(opts)\n        .then(function(response) {\n            return response.data.items;\n        });\n}\n\nexport const getVirtualCurrencyList = (projectId) => {\n    let opts = {\n        url:\n            `https://store.xsolla.com/api/v2/project/${projectId}/items/virtual_currency`,\n        method: \"GET\",\n    };\n\n    return axios(opts)\n        .then(function(response) {\n            return response.data.items;\n        });\n}\n\nexport const rewardItems = (data) => {\n    let opts = {\n        url:\n            `https://livedemo.xsolla.com/store-demo/api/index.php`,\n        method: \"POST\",\n        data: data\n    }\n\n    return axios(opts)\n        .then(function(response) {\n            return response.data;\n        });\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport Colorer from 'color';\nimport Dotdotdot from 'react-dotdotdot'\n\nimport Collapse from '@material-ui/core/Collapse';\nimport Grow from '@material-ui/core/Grow';\nimport MUICardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\n\nconst ProductCard = ({\n  image,\n  name,\n  value,\n  description,\n  actionButtonContent,\n  getTheme,\n  onAction,\n}) => {\n  const [isHovered, setHovered] = React.useState(false);\n  const handleMouseEnter = () => setHovered(true);\n  const handleMouseLeave = () => setHovered(false);\n\n  return (\n    <Grow in>\n      <CardAppear hovered={isHovered} getTheme={getTheme}>\n        <Card\n          getTheme={getTheme}\n          hovered={isHovered}\n          onMouseEnter={handleMouseEnter}\n          onMouseLeave={handleMouseLeave}\n        >\n          <CardImage image={image}/>\n          <CardContent>\n            <CardTitle>{name}</CardTitle>\n            <Collapse in={isHovered} timeout=\"auto\" collapsedHeight=\"50px\">\n              {isHovered\n                ? description\n                : (\n                <Dotdotdot animate clamp={2}>\n                  {description}\n                </Dotdotdot>\n              )}\n            </Collapse>\n          </CardContent>\n          <CardFooter getTheme={getTheme}>\n            <CardQuantity getTheme={getTheme}>\n              {value}\n            </CardQuantity>\n            <Button\n              getTheme={getTheme}\n              variant=\"contained\"\n              onClick={onAction}\n            >\n              {actionButtonContent}\n            </Button>\n          </CardFooter>\n        </Card>\n      </CardAppear>\n    </Grow>\n  );\n};\n\nconst CardAppear = styled.div`\n  position: relative;\n  z-index: ${props => props.hovered ? 1 : 0};\n  width: ${props => `${props.getTheme('cardWidth')}px`};\n  height: ${props => `${props.getTheme('cardWidth')}px`};\n`;\n\nconst Card = styled.div`\n  position: absolute;\n  color: ${props => props.getTheme('colorText')};\n  display: flex;\n  flex-direction: column;\n  width: ${props => `${props.getTheme('cardWidth')}px`};\n  min-height: ${props => `${props.getTheme('cardWidth')}px`};\n  background-color: ${props => props.hovered ? props.getTheme('colorBg') : 'transparent'};\n  box-shadow: ${props => props.hovered ? props.getTheme('boxShadow') : 'none'};\n  transition: box-shadow, background-color ${props => props.getTheme('transitionStyle')};\n  border-radius: ${props => props.getTheme('borderRadius')};\n`;\n\nconst CardContent = styled(MUICardContent)`\n  min-height: 66px;\n  overflow: hidden;\n  flex-grow: 0;\n  padding-bottom: 0;\n  margin-bottom: 8px;\n`;\n\nconst CardTitle = styled.div`\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  font-weight: bolder;\n`;\n\nconst CardFooter = styled.div`\n  display: flex;\n  align-items: center;\n  border-top: 1px solid ${props => Colorer(props.getTheme('colorText')).alpha(0.1).string()};\n  padding: 8px 0;\n  margin: 0px 16px 0 16px;\n`;\n\nconst CardImage = styled.div`\n  display: block;\n  margin-top: 8px;\n  height: 120px;\n  flex-shrink: 1;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(${props => props.image});\n`;\n\nconst CardQuantity = styled.div`\n  flex-grow: 1;\n  color: ${props => props.getTheme('colorAccent')};\n  font-weight: 600;\n`;\n\nexport { ProductCard };\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport Avatar from '@material-ui/core/Avatar';\n\nconst Currency = ({ image, value, currency }) => (\n  <Body>\n    {image && <CurrencyIcon src={image} />}\n    {currency && <CurrencyAcronym>{currency}</CurrencyAcronym>}\n    {value}\n  </Body>\n);\n\nconst Body = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst CurrencyAcronym = styled.span`\n  margin-right: 5px;\n`;\n\nconst CurrencyIcon = styled(Avatar)`\n  && {\n    height: 1em;\n    width: 1em;\n    margin-right: 5px;\n  }\n`;\n\nexport { Currency };\n","import React from 'react';\nimport ShoppingCart from '@material-ui/icons/ShoppingCart';\n\nimport { ProductCard } from '../../components/ProductCard';\nimport { Currency } from '../../components/Currency';\n\nexport const VirtualItem = ({\n  product,\n  getTheme,\n  addToCart,\n  buyByVC,\n}) => {\n  const hasVirtualCurrencyPrice = product.virtual_prices && product.virtual_prices.length > 0;\n\n  const handleItemAdd = () => addToCart(product);\n  const handleBuyByVC = () => buyByVC(product, product.virtual_prices[0].sku);\n\n  const renderPrice = () => (\n    <Currency\n      currency={product.price.currency}\n      value={Math.round(product.price.amount * 100) / 100} />\n  );\n\n  const renderVirtualPrice = () => (\n    <Currency\n      image={product.virtual_prices[0].image_url}\n      value={product.virtual_prices[0].amount}\n    />\n  );\n\n\n  return (\n    <ProductCard\n      image={product.image_url}\n      name={product.name}\n      value={hasVirtualCurrencyPrice ? renderVirtualPrice() : renderPrice()}\n      description={product.description}\n      actionButtonContent={hasVirtualCurrencyPrice ? 'Buy now' : <ShoppingCart />}\n      getTheme={getTheme}\n      onAction={hasVirtualCurrencyPrice ? handleBuyByVC : handleItemAdd}\n    />\n  )\n}","import React from 'react';\nimport styled from 'styled-components';\nimport MUITabs from '@material-ui/core/Tabs';\nimport MUITab from '@material-ui/core/Tab';\n\nimport { ProductContext } from '../../context';\nimport StoreLoader from '../../components/StoreLoader';\nimport { VirtualItem } from './VirtualItem';\n\nconst VirtualList = () => {\n  const {\n    logToken,\n    virtualItems,\n    activeGroup,\n    getTheme,\n    addToCart,\n    buyByVC,\n    setStateFrom,\n    setCurrs,\n    isFetching,\n    updateVirtualCurrencyBalance,\n  } = React.useContext(ProductContext);\n\n  const handleGroupChange = (_, activeGroup) => setStateFrom('activeGroup', activeGroup);\n  const activeGroupID = virtualItems.length > 0 && activeGroup === 'first' ? virtualItems[0].id : activeGroup;\n\n  React.useEffect(() => {\n    if (!isFetching && logToken && virtualItems.length === 0) {\n      setStateFrom('isFetching', true);\n      StoreLoader(window.xProjectId, logToken).then(setCurrs);\n      updateVirtualCurrencyBalance();\n    }\n  });\n\n  return (\n    <Body color={getTheme('colorText')}>\n      {virtualItems.length > 0 && (\n        <>\n          <Tabs\n            getTheme={getTheme}\n            value={activeGroupID}\n            onChange={handleGroupChange}\n            variant=\"scrollable\"\n          >\n            {virtualItems.map(group => (\n              <Tab\n                getTheme={getTheme}\n                value={group.id}\n                key={group.id}\n                color=\"secondary\"\n                textColor=\"secondary\"\n                label={group.name}\n              />\n            ))}\n          </Tabs>\n          {virtualItems.map(group => activeGroupID === group.id ? (\n            <>\n              <Title color={getTheme('colorText')}>\n                {group.name}\n              </Title>\n              <Group getTheme={getTheme}>\n                {group.products && group.products.map(product => (\n                  <VirtualItem\n                    key={product.sku}\n                    product={product}\n                    addToCart={addToCart}\n                    getTheme={getTheme}\n                    buyByVC={buyByVC}\n                  />\n                ))}\n              </Group>\n            </>\n          ) : null\n          )}\n        </>\n      )}\n    </Body>\n  );\n}\n\nconst Body = styled.div`\n  color: ${props => props.color};\n  position: relative;\n  background-color: transparent;\n  z-index: 4;\n`;\n\nconst Group = styled.div`\n  display: grid;\n  padding: 30px 0;\n  grid-gap: 30px;\n  grid-template-columns: ${props => `repeat(auto-fit, minmax(\n    ${props.getTheme('cardWidth')}px, \n    ${props.getTheme('cardWidth')}px)\n  )`};\n  justify-content: center;\n`;\n\nconst Title = styled.div`\n  color: ${props => props.color};\n  min-height: 2em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  width: 100%;\n  font-size: 1.2em;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n`;\n\nconst Tabs = styled(MUITabs)`\n  padding: 30px 0;\n  color: ${props => props.getTheme('colorAccent')};\n  \n  & .MuiTabs-flexContainer {\n    justify-content: center;\n  };\n`;\n\nconst Tab = styled(MUITab)`\n  &.MuiTab-root {\n    color: ${props => props.getTheme('colorAccentText')};\n    font-family: ${props => props.getTheme('fontFamily')};\n  };\n`;\n\nexport { VirtualList };\n","import currencyFormat from \"currency-format\";\nimport currencyNumberFormat from \"currency-number-format\";\n\n// CURRENCY CODE\nfunction defaultCurrency(currency) {\n  return {\n    name: currency,\n    fractionSize: 2,\n    symbol: {\n      grapheme: currency,\n      template: null,\n      rtl: false\n    },\n    uniqSymbol: null\n  };\n}\nfunction getCurrencyOptions(currency) {\n  return currency\n    ? currencyFormat[currency.toUpperCase()] || defaultCurrency(currency)\n    : defaultCurrency(currency);\n}\n\n// LOCALE\nvar defaultLocale = \"en_US\";\nvar localesMap = {\n  ar: \"ar_AE\",\n  bg: \"bg_BG\",\n  cn: \"zh_CN\",\n  cs: \"cs_CZ\",\n  de: \"de_DE\",\n  en: \"en_US\",\n  es: \"es_ES\",\n  fr: \"fr_FR\",\n  he: \"he_IL\",\n  it: \"it_IT\",\n  ja: \"ja_JP\",\n  ko: \"ko_KR\",\n  pl: \"pl_PL\",\n  pt: \"pt_BR\",\n  ro: \"ro_RO\",\n  ru: \"ru_RU\",\n  th: \"th_TH\",\n  tr: \"tr_TR\",\n  tw: \"zh_TW\",\n  vi: \"vi_VN\"\n};\nfunction formatLocale(locale) {\n  return [\n    locale.substr(0, 2).toLowerCase(),\n    locale.substr(3, 2).toUpperCase()\n  ].join(\"_\");\n}\nfunction getLanguageOptions(locale) {\n  return locale\n    ? currencyNumberFormat[formatLocale(locale)] ||\n        currencyNumberFormat[defaultLocale]\n    : currencyNumberFormat[defaultLocale];\n}\nfunction map2to5Locale(locale) {\n  return locale && locale.length === 5\n    ? locale\n    : localesMap[locale] || defaultLocale;\n}\n\n// CURRENCY\nexport function getFormattedCurrency(amount, currency, locale) {\n  var parsedAmount = parseFloat(amount);\n  if (!currency || isNaN(parsedAmount)) {\n    return {\n      formattedCurrency: amount + \" \" + currency,\n      dir: \"ltr\"\n    };\n  }\n\n  var currencyOptions = getCurrencyOptions(currency);\n  var languageOptions = getLanguageOptions(locale);\n\n  var signAmount = parsedAmount < 0 ? \"-\" : \"\";\n  var fractionSize = currencyOptions.fractionSize;\n\n  var symbol = currencyOptions.symbol;\n  var thousandSeparator = languageOptions.thousands;\n  var decimalSeparator = languageOptions.decimal;\n  // Spike for escaping case when grapheme is arabic symbol, and russian style separators was chosen\n  if ((!symbol || symbol.rtl) && languageOptions.thousands === \" \") {\n    thousandSeparator = \",\";\n    decimalSeparator = \".\";\n  }\n\n  var splittedAmount = Math.abs(parsedAmount)\n    .toFixed(fractionSize)\n    .split(\".\");\n  splittedAmount[0] = splittedAmount[0].replace(\n    /(\\d)(?=(\\d{3})+(?!\\d))/g,\n    \"$1\" + thousandSeparator\n  );\n  var formattedAmount = splittedAmount.join(decimalSeparator);\n\n  var formattedCurrency = signAmount + formattedAmount + \" \" + currency;\n  var rtl = false;\n  if (symbol && symbol.template) {\n    formattedCurrency =\n      signAmount +\n      symbol.template\n        .replace(\"1\", formattedAmount)\n        .replace(\"$\", symbol.grapheme);\n    rtl = symbol.rtl;\n  }\n\n  return {\n    formattedCurrency: formattedCurrency,\n    dir: rtl ? \"rtl\" : \"ltr\"\n  };\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport styled from \"styled-components\";\n\nconst styles = theme => ({\n  progress: {\n    margin: theme.spacing(2)\n  }\n});\n\nfunction Preloader(props) {\n  const { classes } = props;\n  return (\n    <CssPreloader>\n      <CircularProgress className={classes.progress} />\n      {/* <CircularProgress className={classes.progress} color=\"secondary\" /> */}\n    </CssPreloader>\n  );\n}\n\nPreloader.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(Preloader);\n\nconst CssPreloader = styled.div`\n  z-index: 9;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport Product from \"./Product\";\nimport IconClose from \"@material-ui/icons/Close\";\nimport Button from \"@material-ui/core/Button\";\nimport Colorer from \"color\";\nimport {getFormattedCurrency} from \"./formatCurrency\";\nimport { withRouter } from 'react-router-dom';\n\nimport {ProductContext} from \"../context\";\nimport {getPsTokenBuyCart, quickPurchaseBuyVirtualCurrency} from \"./StoreLoader\";\nimport Preloader from \"./Preloader\";\n\nfunction Cart({ style = {} , history}) {\n  let [buyButtonDisabled, setBuyButtonDisabled] = React.useState(false);\n\n  const valueFromContext = React.useContext(ProductContext);\n\n  const hideCart = () => {\n    valueFromContext.hideCart();\n  };\n\n  const calculateSubtotal = cart => {\n    let subtotal = 0;\n    cart.forEach(function(element) {\n      subtotal += element.price.amount * element.quantity;\n    });\n    return Math.round(subtotal * 100) / 100;\n  };\n\n  const buyAnotherPlatform = function () {\n      if (buyButtonDisabled ||\n          valueFromContext.cart.items.length <= 0) {\n          return;\n      }\n      let path = \"/purchase\";\n      history.push(path);\n      hideCart();\n  };\n\n  const buyButtonAction = () => {\n    setBuyButtonDisabled(true);\n    let psTokenPromise = getPsTokenBuyCart(\n      valueFromContext.cart.cartId,\n      valueFromContext.logToken\n    );\n    psTokenPromise\n      .then(response => {\n        window.xPayStationInit(response.data[\"token\"]);\n        window.XPayStationWidget.open();\n        window.XPayStationWidget.on(\n          window.XPayStationWidget.eventTypes.CLOSE,\n          (event, data) => {\n            setBuyButtonDisabled(false);\n          }\n        );\n        window.XPayStationWidget.on(\n          window.XPayStationWidget.eventTypes.STATUS_DONE,\n          (event, data) => valueFromContext.payStationHandler(event, data)\n        );\n      })\n      .catch(e => {});\n  };\n\n    const buyByVirtualCurrencyButtonAction = (product, vcPriceSku) => {\n        setBuyButtonDisabled(true);\n        quickPurchaseBuyVirtualCurrency(product, vcPriceSku, valueFromContext.logToken)\n            .then(response => {\n                valueFromContext.clearVCCart();\n                setBuyButtonDisabled(false);\n                this.props.updateVirtualCurrencyBalance();\n            })\n            .catch(reason => {\n                setBuyButtonDisabled(false);\n            })\n    };\n\n  return (\n    <div>\n      {valueFromContext.cartShown && (\n        <Cart0>\n          <CartB\n            style={{\n              padding: \"0 32px 0 32px\",\n              borderRadius: valueFromContext.getTheme(\"borderRadius\"),\n              backgroundColor: valueFromContext.getTheme(\"colorBg\"),\n              color: valueFromContext.getTheme(\"colorText\")\n            }}\n          >\n            <div\n              style={{\n                backgroundColor: valueFromContext.getTheme(\"colorBg\"),\n                color: valueFromContext.getTheme(\"colorText\")\n              }}\n            >\n              <CssCartH\n                style={{\n                  backgroundColor: `${valueFromContext.getTheme(\"colorBg\")}`,\n                  // borderBottom: `1px solid ${valueFromContext.getTheme(\"colorText\")}`\n                  borderBottom: `1px solid ${Colorer(\n                    valueFromContext.getTheme(\"colorText\")\n                  )\n                    .alpha(0.1)\n                    .string()}`\n                }}\n              >\n                <h4>Cart {}</h4>\n                <IconClose\n                  style={{\n                    cursor: \"pointer\"\n                  }}\n                  onClick={e => hideCart(e)}\n                />\n              </CssCartH>\n\n              <CssCartList>\n                {valueFromContext.cart &&\n                  valueFromContext.cart.items.map((oneCartItem, i) => {\n                    return (\n                      <div key={`cartitem${i}`}>\n                        <Product\n                          product={oneCartItem}\n                          key={oneCartItem.sku}\n                          order={i}\n                          initClass=\"initialFlow1\"\n                          sku={oneCartItem.sku}\n                          title={oneCartItem.name}\n                          description={oneCartItem.description}\n                          price={oneCartItem.price.amount}\n                          image_url={oneCartItem.image_url}\n                          currency={oneCartItem.price.currency}\n                          cardType=\"cart\"\n                          cartId={valueFromContext.cart.cartId}\n                          logToken={valueFromContext.logToken}\n                          removeFromCart={valueFromContext.removeFromCart}\n                          changeItemQuantityInCart={\n                            valueFromContext.changeItemQuantityInCart\n                          }\n                          quantity={oneCartItem.quantity}\n                        />\n                      </div>\n                    );\n                  })}\n                {valueFromContext.cart &&\n                  valueFromContext.cart.items.length <= 0 && <p>Empty cart</p>}\n              </CssCartList>\n\n              <CssCartB\n                style={{\n                  backgroundColor: `${valueFromContext.getTheme(\"colorBg\")}`,\n                  // borderTop: `1px solid ${valueFromContext.getTheme(\"colorText\")}`\n                  borderTop: `1px solid ${Colorer(\n                    valueFromContext.getTheme(\"colorText\")\n                  )\n                    .alpha(0.1)\n                    .string()}`\n                }}\n              >\n                <div className=\"\" />\n                {valueFromContext.cart &&\n                  valueFromContext.cart.items.length > 0 && (\n                    <CssSubtotal>\n                      Subtotal:\n                      <div\n                        style={{\n                          minWidth: 80,\n                          textAlign: \"right\"\n                        }}\n                      >\n                        {valueFromContext.isFetching &&\n                          getFormattedCurrency(\n                            calculateSubtotal(valueFromContext.cart.items),\n                            valueFromContext.cart.items[0].price.currency\n                          ).formattedCurrency}\n                        {!valueFromContext.isFetching &&\n                          getFormattedCurrency(\n                            valueFromContext.cart.price.amount,\n                            valueFromContext.cart.price.currency\n                          ).formattedCurrency}\n                      </div>\n                    </CssSubtotal>\n                  )}\n                  <Button\n                      variant=\"contained\"\n                      style={{marginRight: '5px'}}\n                      onClick={() => {\n                          !(\n                              buyButtonDisabled ||\n                              valueFromContext.cart.items.length <= 0\n                          ) && buyAnotherPlatform();\n                      }}\n                  >\n                      Buy on PS4\n                  </Button>\n                <Button\n                  variant=\"contained\"\n                  onClick={() => {\n                    !(\n                      buyButtonDisabled ||\n                      valueFromContext.cart.items.length <= 0\n                    ) && buyButtonAction();\n                  }}\n                >\n                  Buy on Xsolla\n                </Button>\n              </CssCartB>\n            </div>\n          </CartB>\n          {/* <Link to='/'> */}\n          <CartZ onClick={e => hideCart(e)} />\n          {/* </Link> */}\n        </Cart0>\n      )}\n        {valueFromContext.cartWithItemsBuyingByVCShown && (\n            <Cart0>\n                <CartB\n                    style={{\n                        padding: \"0 32px 0 32px\",\n                        borderRadius: valueFromContext.getTheme(\"borderRadius\"),\n                        backgroundColor: valueFromContext.getTheme(\"colorBg\"),\n                        color: valueFromContext.getTheme(\"colorText\")\n                    }}\n                >\n                    <div\n                        style={{\n                            backgroundColor: valueFromContext.getTheme(\"colorBg\"),\n                            color: valueFromContext.getTheme(\"colorText\")\n                        }}\n                    >\n                        <CssCartH\n                            style={{\n                                backgroundColor: `${valueFromContext.getTheme(\"colorBg\")}`,\n                                borderBottom: `1px solid ${Colorer(\n                                    valueFromContext.getTheme(\"colorText\")\n                                )\n                                    .alpha(0.1)\n                                    .string()}`\n                            }}\n                        >\n                            <h4>Confirm</h4>\n                            <IconClose\n                                style={{\n                                    cursor: \"pointer\"\n                                }}\n                                onClick={e => hideCart(e)}\n                            />\n                        </CssCartH>\n\n                        <CssCartList>\n                            {valueFromContext.cartWithItemsBuyingByVC &&\n                            valueFromContext.cartWithItemsBuyingByVC.items.map((oneCartItem, i) => {\n                                return (\n                                    <div key={`cartitem${i}`}>\n                                        <Product\n                                            product={oneCartItem}\n                                            key={oneCartItem.sku}\n                                            order={i}\n                                            initClass=\"initialFlow1\"\n                                            sku={oneCartItem.sku}\n                                            title={oneCartItem.name}\n                                            description={oneCartItem.description}\n                                            price={oneCartItem.price.amount}\n                                            image_url={oneCartItem.image_url}\n                                            currency={oneCartItem.price.currency}\n                                            cardType=\"buy_by_vc\"\n                                            cartId={valueFromContext.cart.cartId}\n                                            logToken={valueFromContext.logToken}\n                                            removeFromCart={valueFromContext.removeFromCart}\n                                            changeItemQuantityInCart={\n                                                valueFromContext.changeItemQuantityInCart\n                                            }\n                                            quantity={oneCartItem.quantity}\n                                        />\n                                    </div>\n                                );\n                            })}\n                            {valueFromContext.cartWithItemsBuyingByVC &&\n                            valueFromContext.cartWithItemsBuyingByVC.items.length <= 0 && <p>Empty cart</p>}\n                        </CssCartList>\n\n                        <CssCartB\n                            style={{\n                                backgroundColor: `${valueFromContext.getTheme(\"colorBg\")}`,\n                                borderTop: `1px solid ${Colorer(\n                                    valueFromContext.getTheme(\"colorText\")\n                                )\n                                    .alpha(0.1)\n                                    .string()}`\n                            }}\n                        >\n                            <div className=\"\" />\n                            {\n                                buyButtonDisabled ?\n                                    <Preloader/> :\n                                    <Button\n                                        variant=\"contained\"\n                                        onClick={() => {\n                                            !(\n                                                buyButtonDisabled ||\n                                                valueFromContext.cartWithItemsBuyingByVC.items.length <= 0\n                                            ) && buyByVirtualCurrencyButtonAction(\n                                                valueFromContext.cartWithItemsBuyingByVC.items[0],\n                                                valueFromContext.cartWithItemsBuyingByVC.vcPriceSku\n                                            );\n                                        }}\n                                    >\n                                        Buy\n                                    </Button>\n                            }\n                        </CssCartB>\n                    </div>\n                </CartB>\n                <CartZ onClick={e => hideCart(e)} />\n            </Cart0>\n        )}\n    </div>\n  );\n}\n\nexport const CssCartList = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 600px;\n  padding-top: 16px;\n  /* justify-content: center; */\n  /* align-items: center; */\n  /* position: fixed; */\n  /* left: 0; */\n  /* right: 0; */\n  /* top: 0; */\n  /* bottom: 0; */\n  /* z-index: 1; */\n`;\n\nconst Cart0 = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 100;\n`;\n\nconst CartB = styled.div`\n  flex: 1;\n  position: absolute;\n  max-width: 680px;\n  z-index: 1;\n  max-height: 80vh;\n  overflow-y: auto;\n  padding-top: 64px;\n`;\n\nconst CartZ = styled.div`\n  background-color: rgba(0, 0, 0, 0.8);\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 0;\n`;\n\nconst CssCartH = styled.div`\n  /* background-color: rgba(0,0,0,0.8); */\n  position: sticky;\n  top: 0;\n  z-index: 0;\n  /* height: 64px; */\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  z-index: 10;\n  padding: 24px 0 8px 0;\n`;\n\nconst CssCartB = styled.div`\n  /* background-color: rgba(0,0,0,0.8); */\n  position: sticky;\n  bottom: 0;\n  z-index: 0;\n  /* height: 64px; */\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  z-index: 10;\n  padding: 24px 0 24px 0;\n`;\n\nexport const CssSubtotal = styled.div`\n  display: flex;\n  padding: 0 24px 0 24px;\n  font-weight: bold;\n`;\n\nexport default withRouter(Cart);\n","import axios from \"axios\";\n\nconst CancelToken = axios.CancelToken;\nlet cancel;\n\nexport const getEntitlement = (projectId, loginToken) => {\n  cancel && cancel();\n  let opts = {\n    url:\n    `https://store.xsolla.com/api/v2/projects/entitlement`,\n    method: \"GET\",\n    headers: {\n      Authorization: \"Bearer \" + loginToken\n    },\n    cancelToken: new CancelToken(function executor(c) {\n      cancel = c;\n    })\n  };\n\n  return axios(opts)\n    .then(function(response) {\n      return response.data;\n    });\n};\n\nexport const redeem = (projectId, loginToken, redeemCode, sku) => {\n  cancel && cancel();\n\n  let opts = {\n    url:\n        `https://store.xsolla.com/api/v1/game_delivery/xsolla_login/redeem_key`,\n    method: \"POST\",\n    headers: {\n      Authorization: \"Bearer \" + loginToken\n    },\n    data: {\n      project_id: projectId,\n      digital_content_sku: sku,\n      language: \"en\",\n      key: redeemCode\n    },\n    cancelToken: new CancelToken(function executor(c) {\n      cancel = c;\n    }),\n  };\n\n  return axios(opts);\n};\n","import React, {PureComponent} from \"react\";\n\nimport './ServerPurchase.css';\nimport Product from \"../../components/Product\";\nimport {CssCartList, CssSubtotal} from \"../../components/Cart\";\nimport {getFormattedCurrency} from \"../../components/formatCurrency\";\nimport Button from \"@material-ui/core/Button\";\nimport {purchaseItems} from \"./ServerPurchaseLoader\";\nimport Alert from \"react-bootstrap/Alert\";\n\nexport class ServerPurchase extends PureComponent {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            showToast: false,\n            statusToast: 'processing',\n            operations: null\n        }\n    }\n\n    calculateSubtotal = cart => {\n        let subtotal = 0;\n        cart.forEach(function (element) {\n            subtotal += element.price.amount * element.quantity;\n        });\n        return Math.round(subtotal * 100) / 100;\n    };\n\n    generateUUID() {\n        return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c =>\n            (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)\n        );\n    }\n\n    setShowToast(isVisible) {\n        this.setState({showToast: isVisible});\n    }\n\n    purchase() {\n        let {cart} = this.props;\n\n        const body = {\n            type: \"purchase\",\n            user: \"d342dad2-9d59-11e9-a384-42010aa8003f\",\n            platform: \"playstation_network\",\n            purchase: {\n                amount: cart.price.amount,\n                currency: cart.price.currency,\n                external_purchase_id: this.generateUUID(),\n                external_purchase_date: (new Date()).toISOString()\n            },\n            items: cart.items.map((cartItem) => {\n                return {\n                    sku: cartItem.sku,\n                    quantity: cartItem.quantity\n                }\n            })\n        };\n        this.setState({showToast: true, statusToast: 'processing', operationDetails: null});\n        purchaseItems(body)\n            .then(response => {\n                this.setState({\n                    showToast: true,\n                    statusToast: 'complete',\n                    operations: response.operations\n                });\n            })\n            .catch(() => {\n            });\n    }\n\n    render() {\n        const {cart, logToken, removeFromCart, changeItemQuantityInCart, isFetching} = this.props;\n        const {operations, showToast, statusToast} = this.state;\n\n        return (\n            <div>\n                <div className=\"server-purchase__alert\">\n                    <Alert onClose={(e) => this.setShowToast(false)} show={showToast}\n                           variant={statusToast === 'processing' ? \"primary\" : \"success\"} dismissible>\n                        <Alert.Heading>{statusToast === 'processing' ? 'Operation is processing' : 'Operation complete!'}</Alert.Heading>\n                        {\n                            operations && operations.length ?\n                                operations.map(\n                                    (operation) => {\n                                        return operation.items.map(\n                                            (item, index) => {\n                                                return (\n                                                    <div key={index}>\n                                                        <div>Item: <b>{item.sku}</b></div>\n                                                        <div>Quantity: <b>{item.quantity === null ? 0 : item.quantity}</b>\n                                                        </div>\n                                                    </div>\n                                                )\n                                            }\n                                        )\n                                    })\n                                :\n                                ''\n                        }\n                    </Alert>\n                </div>\n                <div className=\"server-purchase\">\n                    <CssCartList>\n                        {cart && cart.items.map((oneCartItem, i) => {\n                            return (\n                                <div key={`cartitem${i}`}>\n                                    <Product\n                                        product={oneCartItem}\n                                        key={oneCartItem.sku}\n                                        order={i}\n                                        initClass=\"initialFlow1\"\n                                        sku={oneCartItem.sku}\n                                        title={oneCartItem.name}\n                                        description={oneCartItem.description}\n                                        price={oneCartItem.price.amount}\n                                        image_url={oneCartItem.image_url}\n                                        currency={oneCartItem.price.currency}\n                                        cardType=\"cart\"\n                                        cartId={cart.cartId}\n                                        logToken={logToken}\n                                        removeFromCart={removeFromCart}\n                                        changeItemQuantityInCart={changeItemQuantityInCart}\n                                        quantity={oneCartItem.quantity}\n                                    />\n                                </div>\n                            );\n                        })}\n                        {cart && cart.items.length <= 0 && <div>Oops, you have empty cart!</div>}\n                    </CssCartList>\n                    <div className=\"\"/>\n                    {cart && cart.items.length > 0 && (\n                        <div style={{display: \"flex\", justifyContent: \"space-between\"}}>\n                            <CssSubtotal style={{paddingTop: \"7px\"}}>\n                                Subtotal:\n                                <div\n                                    style={{\n                                        minWidth: 80,\n                                        textAlign: \"right\"\n                                    }}\n                                >\n                                    {isFetching &&\n                                    getFormattedCurrency(\n                                        this.calculateSubtotal(cart.items),\n                                        cart.items[0].price.currency\n                                    ).formattedCurrency}\n                                    {!isFetching &&\n                                    getFormattedCurrency(\n                                        cart.price.amount,\n                                        cart.price.currency\n                                    ).formattedCurrency}\n                                </div>\n                            </CssSubtotal>\n                            <Button\n                                variant=\"contained\"\n                                onClick={() => {\n                                    this.purchase(cart)\n                                }}\n                            >\n                                Grant purchase\n                            </Button>\n                        </div>\n                    )}\n                </div>\n            </div>\n        );\n    }\n}\n","import axios from \"axios\";\n\n\nexport const purchaseItems = (data) => {\n    let opts = {\n        url:\n            `https://livedemo.xsolla.com/store-demo/api/index.php`,\n        method: \"POST\",\n        data: data\n    }\n\n    return axios(opts)\n        .then(function(response) {\n            return response.data;\n        });\n}\n","import React, {Component} from \"react\";\n\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Collapse from \"@material-ui/core/Collapse\";\n\nimport './EntitlementItem.css';\nimport Button from \"@material-ui/core/Button\";\n\nexport class EntitlementItem extends Component {\n  constructor() {\n    super();\n    this.state = {\n      expanded: false,\n      cardShown: false\n    }\n  }\n\n  componentDidMount() {\n    const {\n      order\n    } = this.props;\n\n    if (!this.state.cardShown) {\n      setTimeout(() => {\n        this.setState({\n          cardShown: true\n        });\n      }, order * 100);\n    }\n  }\n\n  render() {\n    const {\n      initClass,\n      imageUrl,\n      title,\n      description\n    } = this.props;\n\n    return (\n      <div className={`entitlement-item ${!this.state.cardShown ? initClass : \"\"}`}>\n        <div className=\"entitlement-item-card\">\n          <div\n            className=\"entitlement-item-card-media\"\n            style={{\n              backgroundImage: `url(${imageUrl})`\n            }}\n          />\n          <div className=\"entitlement-item-card-content\">\n            <div className=\"entitlement-item-card-content-title\">{title}</div>\n            <div className=\"entitlement-item-card-content-description\">{description}</div>\n          </div>\n          <Collapse in={this.state.expanded} timeout=\"auto\" unmountOnExit>\n            <CardContent>{description}</CardContent>\n          </Collapse>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {PureComponent} from \"react\";\n\nimport {EntitlementItem} from './EntitlementItem';\nimport {getEntitlement, redeem} from './EntitlementLoader';\nimport {init} from 'store-js-sdk/src/init';\n\nimport './EntitlementList.css';\nimport './EntitlementRedeem.css';\nimport Button from \"@material-ui/core/Button\";\nimport {CircularProgress} from \"@material-ui/core\";\n\nexport class EntitlementList extends PureComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            code: '',\n            sku: '',\n            hasRedeemError: false,\n            isFetching: false\n        };\n\n        this.handleChangeCode = this.handleChangeCode.bind(this);\n        this.handleChangeSku = this.handleChangeSku.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    componentDidMount() {\n        if (this.props.logToken && null === this.props.entitlementItems) {\n            this.updateEntitlement();\n            this.props.setStateFrom(\"fetching\", true);\n        }\n    }\n\n    componentWillUnmount() {\n        if (null !== this.props.entitlementItems) {\n            this.props.setEntitlementItems(null);\n        }\n    }\n\n    updateEntitlement() {\n        init({\n            projectId: window.xProjectId,\n            version: 'v2'\n        });\n\n        this.props.setStateFrom(\"fetching\", true);\n\n        getEntitlement(window.xProjectId, this.props.logToken)\n            .then(items => {\n                this.props.setEntitlementItems(items);\n            })\n            .catch(() => {\n                this.props.setEntitlementItems([]);\n            });\n    }\n\n    handleChangeCode(event) {\n        this.setState({code: event.target.value});\n    }\n\n    handleChangeSku(event) {\n        this.setState({sku: event.target.value});\n    }\n\n    handleSubmit(event) {\n        this.setState({\n            ...this.state,\n            isFetching: true\n        });\n\n        redeem(window.xProjectId, this.props.logToken, this.state.code, this.state.sku)\n            .then((e, k) => {\n                this.updateEntitlement();\n                this.setState({\n                    ...this.state,\n                    hasRedeemError: false,\n                    isFetching: false\n                });\n            })\n            .catch(() => {\n                console.log('error');\n                this.setState({\n                    ...this.state,\n                    hasRedeemError: true,\n                    isFetching: false\n                });\n            });\n\n        event.preventDefault();\n    }\n\n    render() {\n        const {entitlementItems} = this.props;\n\n        return (\n            <div className=\"\">\n                <form className=\"entitlement-redeem-form\"\n                      onSubmit={this.handleSubmit}\n                >\n                    <input\n                        className=\"entitlement-redeem-input\"\n                        type=\"text\"\n                        size=\"40\"\n                        placeholder={\"Enter your code\"}\n                        onChange={this.handleChangeCode} value={this.state.code}\n                    />\n                    <input\n                        className=\"entitlement-redeem-input\"\n                        type=\"text\"\n                        size=\"40\"\n                        placeholder={\"Enter sku of your game\"}\n                        onChange={this.handleChangeSku} value={this.state.sku}\n                    />\n                    {\n                        this.state.hasRedeemError && !this.state.isFetching && <span className=\"entitlement-redeem-error\">Wrong code</span>\n                    }\n                    {\n                        this.state.isFetching &&\n                        <div className=\"entitlement-redeem-loader\">\n                            <CircularProgress />\n                        </div>\n                    }\n                    <Button\n                        type=\"submit\"\n                        className=\"entitlement-redeem-button\"\n                        variant=\"contained\"\n                    >\n                        Redeem Code\n                    </Button>\n                </form>\n                <div className=\"entitlement-list\">\n                    {\n                        entitlementItems && entitlementItems.length\n                            ?\n                            entitlementItems\n                                .map(\n                                    (oneProduct, key) => {\n                                        return (\n                                            <EntitlementItem\n                                                key={oneProduct.digital_content_sku}\n                                                order={key}\n                                                initClass=\"initialFlow1\"\n                                                title={oneProduct.name}\n                                                description={oneProduct.description}\n                                                imageUrl={oneProduct.image_url}\n                                            />\n                                        );\n                                    }\n                                )\n                            :\n                            <div>\n                                Oops, you have no games yet!\n                            </div>\n                    }\n                </div>\n            </div>\n        );\n    }\n}\n","const size = {\n  mobileS: '320px',\n  mobileM: '375px',\n  mobileL: '425px',\n  tablet: '768px',\n  laptop: '1024px',\n  laptopL: '1440px',\n  desktop: '1920px',\n  retina: '2560px'\n}\n\nexport const device = {\n  mobileS: `(max-width: ${size.mobileS})`,\n  mobileM: `(max-width: ${size.mobileM})`,\n  mobileL: `(max-width: ${size.mobileL})`,\n  tablet: `(max-width: ${size.tablet})`,\n  laptop: `(max-width: ${size.laptop})`,\n  laptopL: `(max-width: ${size.laptopL})`,\n  desktop: `(max-width: ${size.desktop})`,\n  retina: `(max-width: ${size.retina})`\n};","import React from 'react';\nimport styled from 'styled-components';\nimport MUIDeleteIcon from \"@material-ui/icons/Delete\";\nimport MUIIncrementIcon from \"@material-ui/icons/AddBox\";\nimport MUIDecrementIcon from \"@material-ui/icons/IndeterminateCheckBox\";\n\nimport { device } from '../../styles/devices';\n\nconst CartItemComponent = ({ item, getTheme, changeItemQuantity }) => {\n  const calcPrice = (price, quantity) => Math.round(price * quantity * 100) / 100;\n  const handleQuantityDec = () => changeItemQuantity(item, item.quantity - 1);\n  const handleQuantityInc = () => changeItemQuantity(item, item.quantity + 1);\n  \n  return (\n    <CartItem>\n      <CartItemImage image={item.image_url} />\n      <CartItemBody>\n        <ItemName>{item.name}</ItemName>\n        <ItemPrice>\n          <CartItemTotal getTheme={getTheme}>\n            {item.price.currency} {calcPrice(item.price.amount, item.quantity)}\n          </CartItemTotal>\n          {item.quantity > 1 && (\n            <CartItemPriceForOne getTheme={getTheme}>\n              {item.price.currency} {calcPrice(item.price.amount, 1)} for one item\n            </CartItemPriceForOne>\n          )}\n        </ItemPrice>\n      </CartItemBody>\n      <PriceInfo>\n        <QuantityActions>\n          {item.quantity > 1\n            ? <DecrementIcon onClick={handleQuantityDec} />\n            : <DeleteIcon onClick={handleQuantityDec} />\n          }\n          <ItemQuantity>{item.quantity}</ItemQuantity>\n          <IncrementIcon onClick={handleQuantityInc} />\n        </QuantityActions>\n      </PriceInfo>\n    </CartItem>\n  );\n}\n\nconst CartItem = styled.div`\n  display: grid;\n  grid-template-columns: 0.7fr 1.3fr 1fr;\n  overflow: hidden;\n  height: 130px;\n\n  @media ${device.mobileL} {\n    height: 185px;\n    grid-template-columns: 0.9fr 1.1fr;\n    grid-template-rows: 120px 1fr;\n  }\n`;\n\nconst CartItemImage = styled.div`\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(${props => props.image});\n`;\n\nconst CartItemBody = styled.div`  \n  padding: 10px;\n`;\n\nconst ItemName = styled.div`\n  font-weight: bolder;\n  margin-bottom: 5px;\n`;\n\nconst QuantityActions = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n`;\n\nconst ItemQuantity = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: bolder;\n  min-width: 44px;\n  font-size: 1.2em;\n`;\n\nconst PriceInfo = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n\n  @media ${device.mobileL} {\n    grid-column: 2 / 2;\n  }\n`;\n\nconst ItemPrice = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  @media ${device.mobileL} {\n    flex-grow: 1;\n  }\n`;\n\nconst CartItemTotal = styled.div`\n  color: ${props => props.getTheme('colorAccent')};\n  font-weight: 600;\n`;\n\nconst CartItemPriceForOne = styled.div`\n  font-size: 0.8em;\n  opacity: 0.3;\n`;\n\nconst DeleteIcon = styled(MUIDeleteIcon)`\n  @media ${device.mobileL} {\n    && {\n      width: 1.5em;\n      height: 1.5em;\n    }\n  }\n`;\nconst DecrementIcon = styled(MUIDecrementIcon)`\n  @media ${device.mobileL} {\n    && {\n      width: 1.5em;\n      height: 1.5em;\n    }\n  }\n`;\nconst IncrementIcon = styled(MUIIncrementIcon)`\n  @media ${device.mobileL} {\n    && {\n      width: 1.5em;\n      height: 1.5em;\n    }\n  }\n`;\n\nexport { CartItemComponent as CartItem };","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport styled from 'styled-components';\nimport Colorer from 'color';\nimport MUIIconClose from '@material-ui/icons/Close';\nimport Button from '@material-ui/core/Button';\nimport MUIModal from '@material-ui/core/Modal';\nimport Grow from '@material-ui/core/Grow';\nimport Backdrop from '@material-ui/core/Backdrop';\n\nimport { ProductContext } from '../../context';\nimport { getFormattedCurrency } from '../../components/formatCurrency';\nimport { getPsTokenBuyCart } from '../../components/StoreLoader';\nimport { device } from '../../styles/devices';\nimport { CartItem } from './CartItem';\n\nconst CartComponent = ({ history }) => {\n  const [buyButtonDisabled, setBuyButtonDisabled] = React.useState(false);\n  const {\n    cart,\n    hideCart,\n    logToken,\n    payStationHandler,\n    cartShown,\n    getTheme,\n    changeItemQuantityInCart,\n    isFetching,\n  } = React.useContext(ProductContext);\n\n  const calculateSubtotal = cart => {\n    const subtotal = cart.reduce((acc, x) => acc + x.price.amount * x.quantity, 0);\n    return Math.round(subtotal * 100) / 100;\n  };\n\n  const buyAnotherPlatform = () => {\n    if (buyButtonDisabled || cart.items.length <= 0) {\n      return;\n    }\n    const path = \"/purchase\";\n    history.push(path);\n    hideCart();\n  };\n\n  const buyButtonAction = () => {\n    setBuyButtonDisabled(true);\n    const psTokenPromise = getPsTokenBuyCart(cart.cartId, logToken);\n    psTokenPromise\n      .then(response => {\n        window.xPayStationInit(response.data[\"token\"]);\n        window.XPayStationWidget.open();\n        window.XPayStationWidget.on(\n          window.XPayStationWidget.eventTypes.CLOSE,\n          () => setBuyButtonDisabled(false),\n        );\n        window.XPayStationWidget.on(\n          window.XPayStationWidget.eventTypes.STATUS_DONE,\n          payStationHandler\n        );\n      })\n      .catch(() => setBuyButtonDisabled(false));\n  };\n\n  return (\n    <Modal\n      open={cartShown}\n      onClose={hideCart}\n      closeAfterTransition\n      BackdropComponent={Backdrop}\n      BackdropProps={{ timeout: 250 }}\n    >\n      <Grow in={cartShown} timeout={250}>\n        <CartContent getTheme={getTheme}>\n          <CartHeader getTheme={getTheme}>\n            <h4>Cart</h4>\n            <IconClose onClick={hideCart} />\n          </CartHeader>\n          <CartList>\n            {cart.items.length > 0\n              ? cart.items.map(item => (\n                <CartItem\n                  item={item}\n                  getTheme={getTheme}\n                  changeItemQuantity={changeItemQuantityInCart}\n                />\n              ))\n              : <p>Empty cart</p>\n            }\n          </CartList>\n          <CartFooter getTheme={getTheme}>\n            {cart.items.length > 0 && (\n              <Subtotal>\n                Subtotal:\n                <Price>\n                  {isFetching\n                    ? getFormattedCurrency(calculateSubtotal(cart.items), cart.items[0].price.currency).formattedCurrency\n                    : getFormattedCurrency(cart.price.amount, cart.price.currency).formattedCurrency\n                  }\n                </Price>\n              </Subtotal>\n            )}\n            <CartActions>\n              <Button\n                variant=\"contained\"\n                disabled={buyButtonDisabled || cart.items.length === 0}\n                style={{ marginRight: '7px' }}\n                onClick={buyAnotherPlatform}\n              >\n                Buy on PS4\n              </Button>\n              <Button\n                variant=\"contained\"\n                disabled={buyButtonDisabled || cart.items.length === 0}\n                onClick={buyButtonAction}\n              >\n                Buy on Xsolla\n              </Button>\n            </CartActions>\n          </CartFooter>\n        </CartContent>\n      </Grow>\n    </Modal>\n  );\n}\n\nconst Modal = styled(MUIModal)`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst IconClose = styled(MUIIconClose)`\n  cursor: pointer;\n`;\n\nconst CartContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  border-radius: ${props => props.getTheme('borderRadius')};\n  background-color: ${props => props.getTheme('colorBg')};\n  color: ${props => props.getTheme('colorText')};\n  padding: 0 32px;\n  width: 680px;\n  max-height: 80vh;\n\n  @media ${device.tablet} {\n    padding: 0 16px;\n    max-height: none;\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n  }\n`;\n\nconst CartHeader = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background-color: ${props => props.getTheme('colorBg')};\n  border-bottom: 1px solid ${props => Colorer(props.getTheme('colorText')).alpha(0.1).string()};\n  z-index: 10;\n  padding: 24px 0 8px 0;\n`;\n\nexport const CartList = styled.div`\n  display: grid;\n  grid-row-gap: 30px;\n  flex-grow: 1;\n  padding: 16px 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n`;\n\nconst CartFooter = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  background-color: ${props => props.getTheme('colorBg')};\n  border-top: 1px solid ${Colorer(props => props.getTheme('colorText')).alpha(0.1).string()};\n  padding: 24px 0 24px 0;\n`;\n\nconst CartActions = styled.div`\n  display: flex;\n\n  @media ${device.tablet} {\n    justify-content: flex-end;\n    width: 100%;\n  }\n`;\n\nconst Subtotal = styled.div`\n  display: flex;\n  font-weight: bold;\n  margin-right: 10px;\n\n  @media ${device.tablet} {\n    justify-content: flex-end;\n    width: 100%;\n    margin-bottom: 15px;\n    margin-right: 0;\n  }\n`;\n\nconst Price = styled.div`\n  min-width: 80px;\n  text-align: right;\n`;\n\nexport const Cart = withRouter(CartComponent);\n","const routes = {\n  items: '/',\n  currencies: '/crystals',\n  physical: '/physical',\n  inventory: '/inventory',\n  entitlement: '/entitlement',\n  manage: '/manage',\n  purchase: '/purchase',\n}\n\nconst navItems = [\n  {\n    route: routes.items,\n    label: 'Items'\n  },\n  {\n    route: routes.currencies,\n    label: 'Currencies',\n  },\n  {\n    route: routes.physical,\n    label: 'Merchandise',\n  },\n  {\n    route: routes.inventory,\n    label: 'Inventory',\n  },\n  {\n    route: routes.entitlement,\n    label: 'Entitlement',\n  },\n  {\n    route: routes.manage,\n    label: 'Manage',\n  },\n  {\n    route: routes.purchase,\n    label: 'Server purchase',\n  },\n];\n\nexport const getMenuItems = items => navItems\n  .filter(x => items.includes(x.route))\n  .sort((a, b) => items.indexOf(a.route) - items.indexOf(b.route));\n\nexport { routes, navItems };","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { ProductConsumer } from \"../context\";\nimport Cookie, { parseJwt } from \"./Cookie\";\n\nexport default class XLogin extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      shown: true,\n      logToken: null,\n      psToken: null\n    };\n  }\n\n  unauthorizedFlow = () => {\n    this.setState({ logToken: null });\n    this.setState({ shown: true });\n  };\n\n  authorizedFlow = tkn => {\n    this.setState({ logToken: tkn, shown: false });\n    this.user = parseJwt(tkn);\n    this.setStateFrom(\"user\", this.user);\n    this.createCart();\n  };\n\n  render() {\n    return (\n      <ProductConsumer>\n          {valueFromContext => {\n            this.setStateFrom = valueFromContext.setStateFrom;\n            this.createCart = valueFromContext.createCart;\n\n            return (\n              <div>\n                <CssXpop\n                  style={{ display: this.state.shown ? \"flex\" : \"none\" }}\n                >\n                  <CssXpopB>\n                    <CssLoginInfo>\n                      Current project: <b>{window.xProjectId}</b>\n                    </CssLoginInfo>\n\n                    <CssLoginPop>\n                      <div id=\"xl_auth\"></div>\n                    </CssLoginPop>\n\n                    <CssLoginInfo>\n                      {myProjects.map((onePr, i) => {\n                        let pr = onePr[\"project_id\"];\n                        let login = onePr[\"login_id\"];\n                        let url = `https://xsolla.github.io/store-demo/#/`;\n                        let urlFull = `${url}?project_id=${pr}&login_id=${login}`;\n                        return (\n                          <div key={pr + i} style={{ marginBottom: \"1em\" }}>\n                            <div style={{ fontSize: \"0.4em\" }}>\n                              <a href={urlFull}>\n                                {pr}: {onePr.projectName}\n                              </a>\n                            </div>\n                          </div>\n                        );\n                      })}\n                      <p>\n                        Open any Xsolla Store using GET parameters <br />\n                        <b>project_id</b> and <b>login_id</b> (login must point\n                        back to https://xsolla.github.io/store-demo/#/)\n                      </p>\n                    </CssLoginInfo>\n                  </CssXpopB>\n                  <CssXpopZ />\n                </CssXpop>\n              </div>\n            );\n          }}\n        </ProductConsumer>\n    );\n  }\n\n  componentDidMount() {\n    window.XloginInit();\n    let cke = Cookie();\n    cke ? this.authorizedFlow(cke) : this.unauthorizedFlow();\n  }\n}\n\nconst CssXpop = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  min-height: 100%;\n  z-index: 1000;\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  justify-content: center;\n  overflow-y: scroll;\n  padding: 40px 0;\n`;\nconst CssXpopB = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  min-height: 100%;\n  z-index: 100;\n  display: flex;\n  align-content: center;\n  justify-content: center;\n  flex-direction: column;\n`;\nconst CssXpopZ = styled.div`\n  position: fixed;\n  z-index: 99;\n  background: rgba(0, 0, 0, 0.8);\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n`;\n\nconst CssLoginInfo = styled.div`\n  padding: 20px 70px;\n  display: flex;\n  align-content: center;\n  justify-content: center;\n  flex-direction: column;\n  flex-grow: 1;\n  font-size: 22px;\n  width: 600px;\n  & a {\n    /* font-family: 'PS Mono', Courier, monospace; */\n    text-decoration: underline;\n    font-size: 28px;\n    line-height: 0px;\n  }\n`;\nconst CssLoginPop = styled.div`\n  display: flex;\n  align-content: center;\n  justify-content: center;\n  text-align: center;\n  padding: 36px;\n  overflow: hidden;\n  margin: 0 70px;\n  border-radius: 8px;\n`;\n\nconst myProjects = [\n  {\n    projectName: \"Xsolla Store Demo\",\n    project_id: 47278,\n    login_id: \"fb2d7c69-bf25-11e9-9244-42010aa80004\"\n  }\n];\n","import React from 'react';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport MUIMenu from '@material-ui/core/Menu';\nimport Hidden from '@material-ui/core/Hidden';\nimport MUITabs from '@material-ui/core/Tabs';\nimport MUITab from '@material-ui/core/Tab';\nimport MUIIconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Button from '@material-ui/core/Button';\nimport CartIcon from '@material-ui/icons/ShoppingCart';\nimport LogoutIcon from '@material-ui/icons/ExitToAppOutlined';\n\nimport { routes, getMenuItems } from '../utils/routes';\nimport { device } from '../styles/devices';\nimport { Currency } from '../components/Currency';\nimport { ProductContext } from '../context';\nimport { eraseCookie } from './Cookie';\nimport XLogin from './XLogin.js';\n\nconst Navbar = ({ location }) => {\n  const {\n    getTheme,\n    logToken,\n    user,\n    userBalanceVirtualCurrency,\n    projectId,\n    showCart,\n    setSideMenuVisibility,\n    isSideMenuShown,\n  } = React.useContext(ProductContext);\n\n  const [menuAnchor, setMenuAnchor] = React.useState(null);\n  const handleMenuClose = () => setMenuAnchor(null);\n  const handleMenuOpen = event => setMenuAnchor(event.currentTarget);\n\n  const toggleSideMenu = () => setSideMenuVisibility(!isSideMenuShown);\n\n  const logOutHandler = () => {\n    eraseCookie(\"xsolla_login_token\", null);\n    eraseCookie(\"xsolla_last_click_id\", null);\n    window.location.reload();\n  };\n\n  const isLogged = logToken && user;\n  const generalMenuItems = getMenuItems([\n    routes.items,\n    routes.currencies,\n    ...projectId === 44056 ? [routes.physical] : [],\n  ])\n\n  const userMenuItems = getMenuItems([\n    routes.inventory,\n    routes.entitlement,\n    routes.manage,\n    routes.purchase,\n  ]);\n\n  return (\n    <Header getTheme={getTheme}>\n      <Hidden mdDown>\n        <Tabs value={location.pathname} component=\"nav\">\n          {generalMenuItems.map(x => (\n            <Tab\n              getTheme={getTheme}\n              component={NavLink}\n              label={x.label}\n              value={x.route}\n              to={x.route}\n            />\n          ))}\n        </Tabs>\n      </Hidden>\n\n      <Hidden lgUp>\n        <MenuButton getTheme={getTheme} onClick={toggleSideMenu}>\n          <MenuIcon />\n        </MenuButton>\n      </Hidden>\n\n      {isLogged && (\n        <LoginPanel>\n          {userBalanceVirtualCurrency.map(vc => (\n            <VCCurrency key={vc.sku}>\n              <Currency image={vc.image_url} value={vc.amount} />\n            </VCCurrency>\n          ))}\n\n          <Hidden mdDown>\n            <UserMail onClick={handleMenuOpen}>{user.email}</UserMail>\n          </Hidden>\n        </LoginPanel>\n      )}\n\n      <XLogin />\n\n      {!logToken && <LoginButton>Log In</LoginButton>}\n      {isLogged && projectId !== 44056 && (\n       <Button\n          variant=\"outlined\"\n          color=\"secondary\"\n          size=\"small\"\n          onClick={logOutHandler}\n        >\n          <LogoutIcon size=\"inherit\" />\n        </Button>\n      )}\n\n      <CartButton\n        variant=\"contained\"\n        color=\"secondary\"\n        size=\"small\"\n        onClick={showCart}\n      >\n        <CartIcon size=\"inherit\" />\n        <Hidden xsDown>\n          cart\n        </Hidden>\n      </CartButton>\n\n      <Menu\n        getTheme={getTheme}\n        anchorEl={menuAnchor}\n        getContentAnchorEl={null}\n        transformOrigin={{ vertical: 'top', horizontal: 'center' }}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n        open={Boolean(menuAnchor)}\n        onClose={handleMenuClose}\n      >\n        {userMenuItems.map(x => (\n          <Link\n            getTheme={getTheme}\n            onClick={handleMenuClose}\n            activeClassName=\"active\"\n            to={x.route}\n          >\n            {x.label}\n          </Link>\n        ))}\n      </Menu>\n    </Header>\n  );\n}\n\nconst Menu = styled(MUIMenu)`\n  .MuiMenu-list {\n    background-color: ${props => props.getTheme('colorBg')};\n  }\n`;\n\nconst Tabs = styled(MUITabs)`\n  &.MuiTabs-root {\n    height: 100%\n  }\n`;\n\nconst Tab = styled(MUITab)`\n  &.MuiTab-root {\n    text-transform: uppercase;\n    font-family: ${props => props.getTheme('fontFamily')};\n    font-size: 1.4rem;\n    font-weight: 700;\n    line-height: 1.4rem;\n  }\n`;\n\nconst Link = styled(NavLink)`\n  display: flex;\n  padding: 15px 20px;\n  min-width: 200px;\n  align-items: center;\n  text-transform: uppercase;\n  text-decoration: none;\n  font-family: ${props => props.getTheme('fontFamily')};\n  font-size: 1.2rem;\n  font-weight: 700;\n  line-height: 1.2rem;\n  height: 100%;\n  color: #d6e0e7;\n  border: none;\n\n  &:hover {\n    color: #ff005b;\n    text-decoration: none;\n  }\n\n  &.active {\n    color: #ff005b;\n  }\n`;\n\nconst MenuButton = styled(MUIIconButton)`\n  &.MuiIconButton-root {\n    color: ${props => props.getTheme('colorAccentText')};\n  }\n`;\n\nconst VCCurrency = styled.div`\n  margin-right: 10px;\n`;\n\nconst LoginPanel = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  flex-grow: 1;\n\n  @media ${device.mobileL} {\n    justify-content: center;\n  }\n`;\n\nconst LoginButton = styled.div`\n  display: flex;\n  flex-direction: row;\n  font-size: 0.8rem;\n  line-height: 2em;\n  display: flex;\n  flex-direction: column;\n  justify-content: stretch;\n  font-family: 'Roboto';\n  color: black;\n  background: var(--mainWhite);\n  border-radius: 4px;\n  padding: 0 0.6rem;\n  cursor: pointer;\n`;\n\nconst CartButton = styled(Button)`\n\n`;\n\nconst UserMail = styled.div`\n  cursor: pointer;\n  font-family: 'Roboto';\n  text-transform: uppercase;\n  color: #ff005b;\n  margin: 0 1rem;\n`;\n\nconst Header = styled.header`\n  display: flex;\n  align-items: center;\n  height: 50px;\n  padding: 0 15px;\n  font-family: 'Helvetica Neue', 'Roboto', Arial, Helvetica, sans-serif;\n  color: ${props => props.getTheme('colorAccentText')};\n  background-color: ${props => props.getTheme('colorBg')};\n`;\n\nexport default withRouter(Navbar);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport Drawer from '@material-ui/core/SwipeableDrawer';\nimport MUIIconButton from '@material-ui/core/IconButton';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport MUIDivider from '@material-ui/core/Divider';\nimport MUITabs from '@material-ui/core/Tabs';\nimport MUITab from '@material-ui/core/Tab';\nimport LogoutIcon from '@material-ui/icons/ExitToAppOutlined';\n\nimport { ProductContext } from '../context';\nimport { routes, getMenuItems } from '../utils/routes';\nimport { eraseCookie } from './Cookie';\n\nconst MobileNavbarComponent = ({ location }) => {\n  const {\n    getTheme,\n    isSideMenuShown,\n    user,\n    logToken,\n    projectId,\n    setSideMenuVisibility,\n  } = React.useContext(ProductContext);\n  const closeMenu = () => setSideMenuVisibility(false);\n  const openMenu = () => setSideMenuVisibility(true);\n\n  const logOutHandler = () => {\n    eraseCookie(\"xsolla_login_token\", null);\n    eraseCookie(\"xsolla_last_click_id\", null);\n    window.location.reload();\n  };\n\n  React.useEffect(() => closeMenu, []);\n\n  const isLogged = logToken && user;\n\n  const generalMenuItems = getMenuItems([\n    routes.items,\n    routes.currencies,\n    ...projectId === 44056 ? [routes.physical] : [],\n  ])\n\n  const userMenuItems = getMenuItems([\n    routes.inventory,\n    routes.entitlement,\n    routes.manage,\n    routes.purchase,\n  ]);\n\n  return (\n    <Drawer open={isSideMenuShown} anchor=\"left\" onClose={closeMenu} onOpen={openMenu}>\n      <Content getTheme={getTheme}>\n        <Header>\n        {isLogged && projectId !== 44056 && (\n          <IconButton getTheme={getTheme} onClick={logOutHandler}>\n            <LogoutIcon size=\"inherit\" />\n          </IconButton>\n          )}\n          <UserMail getTheme={getTheme}>{user.email}</UserMail>\n          <IconButton getTheme={getTheme} onClick={closeMenu}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </Header>\n        <Divider getTheme={getTheme} />\n          <Tabs\n            value={location.pathname}\n            onChange={closeMenu}\n            component=\"nav\"\n            variant=\"scrollable\"\n            orientation=\"vertical\"\n            getTheme={getTheme}\n          >\n          {generalMenuItems.map(x => (\n            <Tab\n              getTheme={getTheme}\n              component={NavLink}\n              label={x.label}\n              value={x.route}\n              to={x.route}\n            />\n          ))}\n          <MenuDivider getTheme={getTheme} />\n          {userMenuItems.map(x => (\n            <Tab\n              getTheme={getTheme}\n              component={NavLink}\n              label={x.label}\n              value={x.route}\n              to={x.route}\n            />\n          ))}\n          </Tabs>\n      </Content>\n    </Drawer>\n  );\n};\n\nconst Content = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 320px;\n  height: 100%;\n  background-color: ${props => props.getTheme('colorBg')};\n`;\n\nconst Divider = styled(MUIDivider)`\n  &.MuiDivider-root {\n    background-color: ${props => props.getTheme('colorAccentText')};\n    opacity: 0.1;\n    margin-bottom: 5px;\n  }\n`;\n\nconst MenuDivider = styled(Divider)`\n  &.MuiDivider-root {\n    margin: 5px 0;\n  }\n`;\n\nconst IconButton = styled(MUIIconButton)`\n  &.MuiIconButton-root {\n    color: ${props => props.getTheme('colorAccentText')};\n  }\n`;\n\nconst Tabs = styled(MUITabs)`\n  color: ${props => props.getTheme('colorAccent')};\n`;\n\nconst Tab = styled(MUITab)`\n  &.MuiTab-root {\n    color: ${props => props.getTheme('colorAccentText')};\n    padding: 15px;\n    font-family: ${props => props.getTheme('fontFamily')};\n    font-size: 1.3rem;\n    line-height: 1.3rem;\n    font-weight: 700;\n  }\n\n  & .MuiTab-wrapper {\n    align-items: flex-start;\n  }\n`;\n\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 49px;\n`;\n\nconst UserMail = styled.div`\n  flex-grow: 1;\n  padding: 0 15px;\n  text-transform: uppercase;\n  font-family: Roboto;\n  color: ${props => props.getTheme('colorAccent')};\n`;\n\nexport const MobileNavbar = withRouter(MobileNavbarComponent);\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { ProductConsumer } from \"../context\";\nimport Product from \"./Product\";\nimport StoreLoader from \"./StoreLoader\";\n\nclass VCPackagesList extends Component {\n  constructor(props) {\n    super(props);\n    this.ProductRef = React.createRef();\n    this.state = {};\n    this.changeGroupHandler = this.changeGroupHandler.bind(this);\n    this.changeGroupHandler(10); // Костыль\n  }\n\n  changeGroupHandler = newActive => {\n    this.props.setStateFrom(\"activeGroup\", newActive);\n  };\n\n  componentDidMount() {\n    if (this.props.logToken && !this.props.virtualItems) {\n      this.props.setStateFrom(\"fetching\", true);\n      StoreLoader(window.xProjectId, this.props.logToken).then(allData => {\n        this.props.setCurrs(allData);\n      });\n\n      this.props.updateVirtualCurrencyBalance();\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <ProductConsumer>\n          {\n            valueFromContext => {\n              return (\n                <div>\n                  <CssStore00\n                    style={{\n                      backgroundColor: \"transparent\",\n                      color: valueFromContext.theme[\"colorText\"]\n                    }}\n                  >\n                    {valueFromContext.activeModule === \"virtualItems\" &&\n                    valueFromContext.virtualCurrencyPackages && (\n                      <CssProductList>\n                        <СssGroup>\n                          {\n                            valueFromContext.virtualCurrencyPackages.map((oneProduct, key) => {\n                              return (\n                                  <Product\n                                      ref={this.ProductRef}\n                                      key={oneProduct.sku}\n                                      order={key}\n                                      initClass=\"initialFlow1\"\n                                      sku={oneProduct.sku}\n                                      title={oneProduct.name}\n                                      description={\n                                        oneProduct.description\n                                      }\n                                      price={oneProduct.price.amount}\n                                      image_url={oneProduct.image_url}\n                                      currency={\n                                        oneProduct.price.currency\n                                      }\n                                      product={oneProduct}\n                                      addToCart={\n                                        valueFromContext.addToCart\n                                      }\n                                      getTheme={valueFromContext.getTheme.bind(\n                                          this\n                                      )}\n                                      cartId={valueFromContext.cartId}\n                                      logToken={\n                                        valueFromContext.logToken\n                                      }\n                                      changeItemQuantityInCart={\n                                        valueFromContext.changeItemQuantityInCart\n                                      }\n                                      activeGroup={this.props.activeGroup}\n                                      buyByVC={\n                                        valueFromContext.buyByVC\n                                      }\n                                  />\n                              );\n                            })}\n                        </СssGroup>\n                      </CssProductList>\n                    )}\n                  </CssStore00>\n                </div>\n              );\n            }\n          }\n        </ProductConsumer>\n      </div>\n    );\n  }\n}\n\nconst CssStore00 = styled.div`\n  position: relative;\n  z-index: 4;\n`;\nconst CssProductList = styled.div`\n  /* position: relative;\n  z-index: 4; */\n`;\n\nconst CssMenu = styled.div`\n  /* display: flex; */\n  align-items: center;\n  flex-grow: 1;\n  margin: 24px 0;\n`;\n\nconst СssGroup = styled.div`\n  /* width: '100%'; */\n  display: flex;\n  flex-wrap: wrap;\n  /* align-items: center; */\n  /* justify-content: center; */\n  /* align-items: center; */\n  /* justify-content: center; */\n  /* display: grid; */\n  /* grid-template-columns: repeat( auto-fit, minmax(260px, 320px)); */\n  /* grid-row-gap: 24px; */\n  place-content: center;\n`;\n\nconst СssTitle = styled.div`\n  color: ${props => props.getTheme(\"colorText\")};\n  padding-top: 2em;\n  min-height: 2em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  width: 100%;\n  font-size: 1.2em;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n`;\n\nexport default VCPackagesList;\n","import React from 'react';\nimport {HashRouter, Route, Switch} from 'react-router-dom';\n\nimport Hidden from '@material-ui/core/Hidden';\nimport styled from 'styled-components';\n\nimport { InventoryList } from './features/inventory/InventoryList';\nimport { PhysicalList } from './features/physical/PhysicalList';\nimport { ManageInventory } from './features/manage/ManageInventory';\nimport { VirtualList } from './features/virtual/VirtualList';\nimport { ServerPurchase } from './features/serverPurchase/ServerPurchase';\nimport { EntitlementList } from './features/entitlement/EntitlementList';\nimport { Cart } from './features/cart/Cart';\nimport { routes } from './utils/routes';\nimport Navbar from './components/Navbar';\nimport { MobileNavbar } from './components/MobileNavbar';\nimport Preloader from './components/Preloader.js';\nimport { ProductContext } from './context';\nimport VCPackagesList from './components/VCPackagesList';\n\nconst App = () => {\n  const valueFromContext = React.useContext(ProductContext);\n\n  return (\n    <HashRouter basename='/'>\n      <>\n        <Navbar />\n        <Hidden lgUp>\n          <MobileNavbar />\n        </Hidden>\n        <Cart />\n        {valueFromContext.isFetching\n          ? <Preloader />\n          : (\n              <Switch>\n                <Route path={routes.items} exact component={VirtualList} />\n                <Route path={routes.inventory}render={() => <InventoryList {...valueFromContext} />} />\n                <Route path={routes.currencies} render={() => <VCPackagesList {...valueFromContext} />} />\n                <Route path={routes.physical} render={() => <PhysicalList {...valueFromContext} />} />\n                <Route path={routes.entitlement} render={() => <EntitlementList {...valueFromContext} />} />\n                <Route path={routes.manage} render={() => <ManageInventory {...valueFromContext} />} />\n                <Route path={routes.purchase} render={() => <ServerPurchase {...valueFromContext} />} />\n              </Switch>\n            )\n          }\n\n        <Background getTheme={valueFromContext.getTheme}>\n          <BackgroundOverlay getTheme={valueFromContext.getTheme} />\n        </Background>\n      </>\n    </HashRouter>\n  );\n};\n\nconst Background = styled.div`\n  background-image: url(${props => props.getTheme('backgroundUrl')});\n  z-index: -1;\n  background-size: cover;\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n`;\n\nconst BackgroundOverlay = styled.div`\n  position: absolute;\n  background-color: ${props => props.getTheme('colorBg')};\n  opacity: 0.8;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n`;\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit http://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See http://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { ProductProvider } from \"./context\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <ProductProvider projectId={window.xProjectId}>\n    <App />\n  </ProductProvider>,\n  document.getElementById(\"root\")\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}